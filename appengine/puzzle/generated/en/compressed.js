// Automatically generated file.  Do not edit!

'use strict';var b,h={g:{}};h.g.kc={};h.g.kc.ii=function(a){return a*Math.PI/180};h.g.kc.iD=function(a){return 180*a/Math.PI};h.g.kc.ik=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.U={Ob:1,Dc:2,Pb:3,Tc:4};
h.ab={};h.$s=40;h.jt=125;h.wx=5;h.Wx=10;h.ac=28;h.Cs=h.ac;h.hx=8;h.no=250;h.oo=10;h.bx=30;h.sy=750;h.Xy=100;h.xx=!0;h.ay=.45;h.by=.65;h.fG={width:96,height:124,url:"sprites.png"};h.ab.Id={Md:-1,cm:0,af:1};h.$D=0;h.aE=1;h.YD=1;h.ZD=2;h.Di=[];h.Di[h.U.Ob]=h.U.Dc;h.Di[h.U.Dc]=h.U.Ob;h.Di[h.U.Pb]=h.U.Tc;h.Di[h.U.Tc]=h.U.Pb;h.Dt="VARIABLE";h.jz="VARIABLE_DYNAMIC";h.mt="PROCEDURE";h.VF="RENAME_VARIABLE_ID";h.UD="DELETE_VARIABLE_ID";h.ab.em="_TEMP_COLLAPSED_INPUT";h.ab.dm="_TEMP_COLLAPSED_FIELD";h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.L={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.L);h.g.gb={};h.g.gb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.gb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.gb.Mr(a,c,d):null};
h.g.gb.Mr=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.gb.gv=function(a){a=h.g.gb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.gb.nv=function(a){var c=h.ay,d=255*h.by,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.gb.Mr(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.gb.np=function(a,c,d){a=h.g.gb.parse(a);if(!a)return null;c=h.g.gb.parse(c);if(!c)return null;a=h.g.gb.gv(a);c=h.g.gb.gv(c);return h.g.gb.Mr(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.gb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.O=function(a,c){this.x=a;this.y=c};h.g.O.qf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.O.Vp=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.O.GB=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.O.Um=function(a,c){return new h.g.O(a.x-c.x,a.y-c.y)};h.g.O.sum=function(a,c){return new h.g.O(a.x+c.x,a.y+c.y)};h.g.O.prototype.clone=function(){return new h.g.O(this.x,this.y)};h.g.O.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.O.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Pa={};h.g.Pa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Pa.Tr=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Pa.Yz=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Pa.Tr(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Pa.Zz=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Pa.Tr(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Pa.vD=function(a){var c=h.G.py;a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Pa.wD(a[d],c);return a.join("\n")};
h.g.Pa.wD=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Pa.Nw(d,a,c);e=h.g.Pa.ls(d,a,c);a=h.g.Pa.xD(d,a);f++}while(e>g);return k};
h.g.Pa.ls=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Pa.Nw=function(a,c,d){for(var e=h.g.Pa.ls(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Pa.ls(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Pa.Nw(a,f,d):c};h.g.Pa.xD=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.Vc=function(a,c){this.width=a;this.height=c};h.g.Vc.qf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.sf=function(a){if("none"!=h.g.style.Yu(a,"display"))return h.g.style.Wu(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Vc(g,a)};h.g.style.Wu=function(a){return new h.g.Vc(a.offsetWidth,a.offsetHeight)};h.g.style.Yu=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.NA(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.NA=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.zh=function(a){var c=new h.g.O(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.O(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.bB=function(){var a=document.body,c=document.documentElement;return new h.g.O(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.YH=function(a,c){a.style.display=c?"":"none"};h.g.style.EH=function(a){return"rtl"==h.g.style.Yu(a,"direction")};
h.g.style.KA=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.PC=function(a,c){a=h.g.style.QA(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.QA=function(a,c){var d=h.g.style.zh(a),e=h.g.style.zh(c),f=h.g.style.KA(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Wu(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.O(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Ld=c("Trident")||c("MSIE");h.g.userAgent.bh=c("Edge");h.g.userAgent.ny=c("JavaFX");h.g.userAgent.LD=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.bh;h.g.userAgent.Ht=c("WebKit")&&!h.g.userAgent.bh;h.g.userAgent.Xx=c("Gecko")&&!h.g.userAgent.Ht&&!h.g.userAgent.Ld&&!h.g.userAgent.bh;h.g.userAgent.Yl=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.Nj=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.Xs=c("iPod");h.g.userAgent.Ws=c("iPhone")&&!h.g.userAgent.Nj&&!h.g.userAgent.Xs;h.g.userAgent.ty=c("Macintosh");h.g.userAgent.cz=h.g.userAgent.Nj||h.g.userAgent.Yl&&!c("Mobile")||c("Silk");h.g.userAgent.mF=!h.g.userAgent.cz&&(h.g.userAgent.Xs||h.g.userAgent.Ws||h.g.userAgent.Yl||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.TB=function(a){a.preventDefault();a.stopPropagation()};h.g.sn=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.GH};
h.g.Vd=function(a){var c=new h.g.O(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Vd.kz))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Vd.lz))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.qq=function(a){for(var c=0,d=0;a;){var e=h.g.Vd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.O(c,d)};h.g.Vd.kz=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Vd.lz=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Vk=function(a){return a.ctrlKey&&h.g.userAgent.ty?!0:2==a.button};
h.g.hl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.YA=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.$s,y:a.deltaY*h.$s};case 2:return{x:a.deltaX*h.jt,y:a.deltaY*h.jt}}};h.g.jD=function(a){return h.g.bs(a,!0)};h.g.Nc=function(a){if("string"!=typeof a)return a;a=h.g.bs(a,!1);return a.length?String(a[0]):""};
h.g.$t=function(a){for(var c=h.L,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.bs=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Pa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.L?(f=h.L[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.bs(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.rf=function(){for(var a=h.g.rf.uw.length,c=[],d=0;20>d;d++)c[d]=h.g.rf.uw.charAt(Math.random()*a);return c.join("")};
h.g.rf.uw="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Jh=function(){if(void 0!==h.g.Jh.wp)return h.g.Jh.wp;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Jh.wp="none"!==c;return h.g.Jh.wp};h.g.qw=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.aB=function(){var a=h.g.style.bB();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.ek=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.TA=function(){var a=document.documentElement,c=window;return h.g.userAgent.Ld&&c.pageYOffset!=a.scrollTop?new h.g.O(a.scrollLeft,a.scrollTop):new h.g.O(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Lu=function(a){var c=Object.create(null),d=p(a,!0);if(a=u(a))a=d.indexOf(a),d.splice(a,d.length-a);a=0;for(var e;e=d[a];a++)c[e.type]?c[e.type]++:c[e.type]=1;return c};
h.g.VH=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.O(d-e.left,c-e.top);c=h.g.qq(a.zb);return h.g.O.Um(d,c).scale(1/a.scale)};h.g.Kn=function(a){var c="string"==typeof a?h.g.Nc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{oB:d,Nk:h.g.gb.nv(d)};if(d=h.g.gb.parse(c))return{oB:null,Nk:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.zt="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Pl=null;h.Touch.qe={};
h.g.global.PointerEvent?h.Touch.qe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.zt&&(h.Touch.qe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.xn=0;
h.FB=function(a,c){h.zg();a.changedTouches&&1!=a.changedTouches.length||(h.xn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.sy))};h.zg=function(){h.xn&&(clearTimeout(h.xn),h.xn=0)};h.Touch.Hm=function(){h.Touch.Pl=null};h.Touch.Vr=function(a){return!h.Touch.yB(a)||h.Touch.Tz(a)};
h.Touch.fn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.Tz=function(a){var c=h.Touch.fn(a);return void 0!==h.Touch.Pl&&null!==h.Touch.Pl?h.Touch.Pl==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Pl=c,!0):!1};
h.Touch.SC=function(a){if(h.g.Pa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.yB=function(a){return h.g.Pa.startsWith(a.type,"touch")||h.g.Pa.startsWith(a.type,"mouse")||h.g.Pa.startsWith(a.type,"pointer")};h.Touch.un=function(a){return h.g.Pa.startsWith(a.type,"touch")||h.g.Pa.startsWith(a.type,"pointer")};
h.Touch.$C=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.S={};h.S.Ka=function(a,c,d,e,f,g){function k(t){var G=!f;t=h.Touch.$C(t);for(var M=0,T;T=t[M];M++)if(!G||h.Touch.Vr(T))h.Touch.SC(T),d?e.call(d,T):e(T),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.qe)for(var n=0,q;q=h.Touch.qe[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.qe){var r=function(t){k(t);var G=!g;l&&G&&t.preventDefault()};for(n=0;q=h.Touch.qe[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.S.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.qe)for(var k=0,l;l=h.Touch.qe[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.qe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.qe[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.S.vb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.pc=function(){this.gu=Object.create(null);this.Oz=Object.create(null)};function ca(a,c){var d=h.pc.Qc.tx;d=String(d).toLowerCase();return-1!==a.gu[c].QG.indexOf(d)}function da(a,c){c=String(c).toLowerCase();c=a.Oz[c];if(!c)return[];var d=[],e=[],f=a.gu;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.fu)});return d}h.pc.Qc=function(a){this.cr=a};h.pc.Qc.prototype.toString=function(){return this.cr};h.pc.Qc.Ky=new h.pc.Qc("positionable");
h.pc.Qc.yx=new h.pc.Qc("drag_target");h.pc.Qc.tx=new h.pc.Qc("delete_area");h.pc.Qc.Ww=new h.pc.Qc("autohideable");
h.g.F=function(a){this.fD=a};h.g.F.prototype.toString=function(){return this.fD};h.g.F.jo=new h.g.F("animate");h.g.F.zs=new h.g.F("circle");h.g.F.MD=new h.g.F("clipPath");h.g.F.Gs=new h.g.F("defs");h.g.F.vo=new h.g.F("feComposite");h.g.F.Jx=new h.g.F("feComponentTransfer");h.g.F.Kx=new h.g.F("feFlood");h.g.F.Lx=new h.g.F("feFuncA");h.g.F.Mx=new h.g.F("feGaussianBlur");h.g.F.Nx=new h.g.F("fePointLight");h.g.F.Ox=new h.g.F("feSpecularLighting");h.g.F.Ns=new h.g.F("filter");h.g.F.yE=new h.g.F("foreignObject");
h.g.F.Sc=new h.g.F("g");h.g.F.Co=new h.g.F("image");h.g.F.Qj=new h.g.F("line");h.g.F.Ze=new h.g.F("path");h.g.F.kt=new h.g.F("pattern");h.g.F.Jy=new h.g.F("polygon");h.g.F.Tb=new h.g.F("rect");h.g.F.Yj=new h.g.F("svg");h.g.F.yt=new h.g.F("text");h.g.F.At=new h.g.F("tspan");h.g.j={};h.g.j.um="http://www.w3.org/2000/svg";h.g.j.Ao="http://www.w3.org/1999/xhtml";h.g.j.mh="http://www.w3.org/1999/xlink";h.g.j.Wf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Pd=null;h.g.j.tp=0;h.g.j.Em=null;h.g.j.M=function(a,c,d){a=document.createElementNS(h.g.j.um,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Cb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.PH=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.Mc(a,c[d])};h.g.j.Mc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.Aq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Qk=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Wf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Rn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Gl=function(){h.g.j.tp++;h.g.j.Pd||(h.g.j.Pd=Object.create(null))};h.g.j.Hl=function(){h.g.j.tp--;h.g.j.tp||(h.g.j.Pd=null)};h.g.j.rH=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Pd&&(d=h.g.j.Pd[c]))return d;try{d=h.g.userAgent.Ld||h.g.userAgent.bh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Pd&&(h.g.j.Pd[c]=d);return d};
h.g.j.pq=function(a,c,d,e){return h.g.j.UA(a,c+"pt",d,e)};h.g.j.UA=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Pd&&(g=h.g.j.Pd[a]))return g;h.g.j.Em||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Em=g.getContext("2d"));h.g.j.Em.font=d+" "+c+" "+e;g=h.g.j.Em.measureText(f).width;h.g.j.Pd&&(h.g.j.Pd[a]=g);return g};
h.g.j.JB=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Od=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};
h.B=function(){};h.B.rp=null;h.B.Ad=null;h.B.iw=null;h.B.Zl=16;h.B.ws=1;h.B.ss=12;h.B.ht=16;h.B.lo=.25;h.B.ip=null;h.B.Yh=null;h.B.ae="";h.B.ce="";
h.B.hb=function(){if(!h.B.le){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.Jn||document.body).appendChild(a);h.B.le=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.B.nf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.B.pd=c;h.B.le.style.opacity=0;h.B.le.style.transition="transform "+h.B.lo+"s, opacity "+h.B.lo+"s";a.addEventListener("focusin",function(){h.g.j.Cb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.Mc(a,"blocklyFocused")})}};h.B.RC=function(a){h.B.rp=a};h.B.RA=function(){return h.B.nf};h.B.Uz=function(){h.B.nf.textContent="";h.B.nf.style.width=""};h.B.Oe=function(a,c){h.B.le.style.backgroundColor=a;h.B.le.style.borderColor=c};h.B.aI=function(a,c,d,e){return h.B.tw(h.B.Uu(c),a,d,e)};h.B.XC=function(a,c){h.B.iw=!0;h.B.tw(h.B.Vu(a),a,c,void 0)};
h.B.Uu=function(a){var c=a.ya(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.zh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.B.Vu=function(a){if(a.Eb)c=a.Eb.getBoundingClientRect(),a=h.g.style.zh(a.Eb),e=c.width,c=c.height;else{var c=v(a.J);var d=a.J.A.scale;a=h.g.style.zh(ea(a));var e=c.width*d;c=c.height*d;h.g.userAgent.Xx?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.bh||h.g.userAgent.Ld||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.B.tw=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.W();for(var k=e.A;k.options.Lc;)k=k.options.Lc;h.B.RC(w(k).parentNode);return h.B.show(c,e.K,f,g,f,a,d)};h.B.show=function(a,c,d,e,f,g,k){h.B.Ad=a;h.B.Yh=k||null;a=h.B.le;a.style.direction=c?"rtl":"ltr";c=h.yh();h.B.ae=c.jb.Td();h.B.ce=c.tf().Td();h.g.j.Cb(a,h.B.ae);h.g.j.Cb(a,h.B.ce);return h.B.ql(d,e,f,g)};
h.B.LA=function(){var a=h.g.style.zh(h.B.rp),c=h.g.style.sf(h.B.rp);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.B.VA=function(a,c,d,e){var f=h.B.LA(),g=h.g.style.sf(h.B.le);return c+g.height<f.bottom?h.B.Tu(a,c,f,g):e-g.height>f.top?h.B.Su(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.B.Tu(a,c,f,g):e-g.height>document.documentElement.clientTop?h.B.Su(d,e,f,g):h.B.WA(a,f,g)};
h.B.Tu=function(a,c,d,e){a=h.B.vq(a,d.left,d.right,e.width);return{Gq:a.Xi,Hq:c,gq:a.Xi,hq:c+h.B.ht,Mi:a.Mi,kp:-(h.B.Zl/2+h.B.ws),Bm:!0,jp:!0}};h.B.Su=function(a,c,d,e){a=h.B.vq(a,d.left,d.right,e.width);return{Gq:a.Xi,Hq:c-e.height,gq:a.Xi,hq:c-e.height-h.B.ht,Mi:a.Mi,kp:e.height-2*h.B.ws-h.B.Zl/2,Bm:!1,jp:!0}};h.B.WA=function(a,c,d){a=h.B.vq(a,c.left,c.right,d.width);return{Gq:a.Xi,Hq:0,gq:a.Xi,hq:0,Bm:null,Mi:null,kp:null,jp:!1}};
h.B.vq=function(a,c,d,e){var f=a;a=h.g.kc.ik(c,a-e/2,d-e);f-=h.B.Zl/2;c=h.g.kc.ik(h.B.ss,f-a,e-h.B.ss-h.B.Zl);return{Mi:c,Xi:a}};h.B.isVisible=function(){return!!h.B.Ad};h.B.Ok=function(a,c){h.B.Ad===a&&(c?h.B.Dq():h.B.sb())};h.B.sb=function(){var a=h.B.le;a.style.transform="translate(0, 0)";a.style.opacity=0;h.B.ip=setTimeout(function(){h.B.Dq()},1E3*h.B.lo);h.B.Yh&&(h.B.Yh(),h.B.Yh=null)};
h.B.Dq=function(){if(h.B.isVisible()){h.B.ip&&clearTimeout(h.B.ip);var a=h.B.le;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.B.Yh&&(h.B.Yh(),h.B.Yh=null);h.B.Uz();h.B.Ad=null;h.B.ae&&(h.g.j.Mc(a,h.B.ae),h.B.ae="");h.B.ce&&(h.g.j.Mc(a,h.B.ce),h.B.ce="");fa(h.yh())}};
h.B.ql=function(a,c,d,e){a=h.B.VA(a,c,d,e);a.jp?(h.B.pd.style.display="",h.B.pd.style.transform="translate("+a.Mi+"px,"+a.kp+"px) rotate(45deg)",h.B.pd.setAttribute("class",a.Bm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.B.pd.style.display="none";c=Math.floor(a.Gq);d=Math.floor(a.Hq);e=Math.floor(a.gq);var f=Math.floor(a.hq),g=h.B.le;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Bm};h.B.RH=function(){if(h.B.Ad){var a=h.B.Ad,c=a.W();a=h.B.iw?h.B.Vu(a):h.B.Uu(c);c=a.left+(a.right-a.left)/2;h.B.ql(c,a.bottom,c,a.top)}else h.B.sb()};h.u={};h.u.xj=Object.create(null);h.u.Hj="default";h.u.N=function(a){this.cr=a};h.u.N.prototype.toString=function(){return this.cr};h.u.N.Ds=new h.u.N("connectionChecker");h.u.N.Gj=new h.u.N("cursor");h.u.N.Bb=new h.u.N("event");h.u.N.rc=new h.u.N("field");h.u.N.RENDERER=new h.u.N("renderer");h.u.N.dz=new h.u.N("toolbox");h.u.N.Zo=new h.u.N("theme");h.u.N.oG=new h.u.N("toolboxItem");h.u.N.Vx=new h.u.N("flyoutsVerticalToolbox");h.u.N.Ux=new h.u.N("flyoutsHorizontalToolbox");h.u.N.dt=new h.u.N("metricsManager");
h.u.N.vs=new h.u.N("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.N)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.xj[a];f||(f=h.u.xj[a]=Object.create(null));h.u.rD(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.rD=function(a,c){switch(a){case String(h.u.N.rc):if("function"!=typeof c.$)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.xj[a];d&&d[c]?delete h.u.xj[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.Qu=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.xj[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.sH=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.xj[a])?!!a[c]:!1};h.u.mq=function(a,c,d){return h.u.Qu(a,c,d)};h.u.uq=function(a,c){return h.u.Qu(a,c,void 0)};
h.u.wh=function(a,c,d){c=c.plugins[a.toString()]||h.u.Hj;return"function"==typeof c?c:h.u.mq(a,c,d)};h.h={};h.h.bv="";h.h.Ga=!0;h.h.Rp=0;h.h.Fj="create";h.h.si=h.h.Fj;h.h.ah="delete";h.h.us=h.h.ah;h.h.Cj="change";h.h.Vg=h.h.Cj;h.h.Sj="move";h.h.Wg=h.h.Sj;h.h.wm="var_create";h.h.xm="var_delete";h.h.fp="var_rename";h.h.cp="ui";h.h.$l="drag";h.h.Fi="selected";h.h.Dj="click";h.h.Ko="marker_move";h.h.xs="bubble_open";h.h.qG="trashcan_open";h.h.pG="toolbox_item_select";h.h.$o="theme_change";h.h.ak="viewport_change";h.h.fm="comment_create";h.h.Bs="comment_delete";h.h.As="comment_change";h.h.Ej="comment_move";
h.h.zo="finished_loading";h.h.ax=[h.h.si,h.h.Wg,h.h.fm,h.h.Ej];h.h.Lj=[];h.h.Ha=function(a){h.h.isEnabled()&&(h.h.Lj.length||setTimeout(h.h.EA,0),h.h.Lj.push(a))};h.h.EA=function(){for(var a=h.h.filter(h.h.Lj,!0),c=h.h.Lj.length=0,d;d=a[c];c++)if(d.Nb){var e=h.eb.Gk(d.Nb);if(e){var f=d;if(f.Ga)for(e.li.push(f),e.vl.length=0;e.li.length>e.bt&&0<=e.bt;)e.li.shift();for(var g=0;d=e.xf[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.lj()){var k=[g.xv?h.h.cp:g.type,g.Ya,g.Nb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Sj&&l.index==f-1)m.Wh=g.Wh,m.Vh=g.Vh,m.Cg=g.Cg,l.index=f;else if(g.type==h.h.Cj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.ak)m.Hd=g.Hd,m.Gd=g.Gd,m.scale=g.scale,m.il=g.il;else if(g.type!=h.h.Dj||m.type!=h.h.xs)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.lj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.Cj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.Vz=function(){for(var a=0,c;c=h.h.Lj[a];a++)c.Ga=!1};h.h.disable=function(){h.h.Rp++};h.h.enable=function(){h.h.Rp--};h.h.isEnabled=function(){return 0==h.h.Rp};h.h.Mb=function(){return h.h.bv};h.h.qa=function(a){h.h.bv="boolean"==typeof a?a?h.g.rf():"":a};
h.h.Nu=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.$=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.$(a);c.Nb=(void 0).id;return c};h.h.get=function(a){return h.u.mq(h.u.N.Bb,a)};
h.h.eH=function(a){if((a.type==h.h.Sj||a.type==h.h.Fj)&&a.Nb){var c=h.eb.Gk(a.Nb),d=c.Jc(a.Ya);if(d){a=h.h.Ga;try{h.h.Ga=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=p(d,!1);c=0;for(var g;g=f[c];c++)g.Df(!0)}else if((d.P||d.X)&&!c.bd()){do d.Df(!1),d=u(d);while(d)}}finally{h.h.Ga=a}}}};
h.h.Abstract=function(){this.ad=null;this.Nb=void 0;this.group=h.h.Mb();this.Ga=h.h.Ga};b=h.h.Abstract.prototype;b.xv=!1;b.oa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.$=function(a){this.ad=!1;this.group=a.group};b.lj=function(){return!1};b.run=function(){};function x(a){if(a.Nb)var c=h.eb.Gk(a.Nb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.T=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Bg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Vi=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Vi(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.Ay="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.Ay,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.gD=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Be=function(a){return(new XMLSerializer).serializeToString(a)};h.Ia={te:h.U.Ob,Uc:h.U.Pb,me:5};h.I={};h.I.tD=function(){var a=y,c=h.g.xml.createElement("xml"),d=h.I.sD(h.na.vz(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.co);1<e.length&&(a.Pe.offset=Math.sin(h.g.kc.ii(h.eb.ot)),a.K&&(a.Pe.offset*=-1),e.sort(a.Pe));d=0;for(var f;f=e[d];d++)c.appendChild(f.zw(!0));a=a.fc(!0);for(d=0;e=a[d];d++)c.appendChild(h.I.pp(e,!0));return c};
h.I.sD=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.zc();c.appendChild(f)}return c};h.I.pp=function(a,c){if(a.xd()&&(a=z(a,!1)[0],!a))return new DocumentFragment;var d;a.A.K&&(d=a.A.hn());c=h.I.eg(a,c);var e=a.$a();c.setAttribute("x",Math.round(a.A.K?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.CA=function(a){var c=!1;a.name&&(a.qt?c=!0:a.Ij&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.sz=function(a,c){for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.Ua[f];f++)(g=h.I.CA(g))&&c.appendChild(g)};
h.I.eg=function(a,c){if(a.xd())return(a=z(a,!1)[0])?h.I.eg(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ea?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.lc){var e=a.lc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.sz(a,d);if(e=a.lf.text){var f=a.lf.size,g=a.lf.cw,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.R[e];e++){var l;g=!0;if(f.type!=h.Ia.me){var m=f.connection.ta();f.type==h.Ia.te?l=h.g.xml.createElement("value"):f.type==h.Ia.Uc&&(l=h.g.xml.createElement("statement"));k=f.connection.cj();!k||m&&m.Ea||l.appendChild(h.I.du(k,c));m&&(k=h.I.eg(m,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.uf&&a.uf!=a.uB&&d.setAttribute("inline",
a.uf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.sg()||a.Ea||d.setAttribute("deletable",!1);a.ic()||a.Ea||d.setAttribute("movable",!1);a.wd()||d.setAttribute("editable",!1);if(e=u(a))k=h.I.eg(e,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ba&&a.ba.cj();!k||e&&e.Ea||l.appendChild(h.I.du(k,c));return d};
h.I.du=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.Be=function(a){return h.g.xml.Be(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.fH=function(a){a=h.I.Be(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.Se=function(a){var c=h.g.xml.gD(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.SG=function(a,c){c.Oc(!1);c.clear();a=h.I.lg(a,c);c.Oc(!0);return a};
h.I.lg=function(a,c){if(a instanceof h.eb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.K&&(e=c.hn());d=[];h.g.j.Gl();var f=h.h.Mb();f||h.h.qa(!0);c.Oc&&c.Oc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ga){var q=h.I.Ym(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(t)||q.moveBy(c.K?e-r:r,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.pa?h.Ki?h.Ki.Fk(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Lt?h.Lt.Fk(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.vA(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.qa(!1),h.g.j.Hl()}c.Oc&&c.Oc(!0);h.h.Ha(new (h.h.get(h.h.zo))(c));return d};h.I.FG=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=ha(c));a=h.I.lg(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.K?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Jc(a[d]).$a();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.K?f-k:f-g;for(d=0;d<a.length;d++)c.Jc(a[d]).moveBy(f,e)}return a};
h.I.Ym=function(a,c){if(a instanceof h.eb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.$i();try{var e=h.I.Xp(a,c),f=p(e,!1);if(c.pa){ia(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Ih();for(g=f.length-1;0<=g;g--)f[g].Da(!1);setTimeout(function(){e.Ae||ia(e,!0)},1);A(e);ja(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.na.IA(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ha(new (h.h.get(h.h.wm))(c));h.h.Ha(new (h.h.get(h.h.Fj))(e))}return e};
h.I.vA=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Wf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Qd(e.textContent,f,g)}};
h.I.HB=function(a){for(var c={Kv:[],qh:[],data:[],Zi:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Wf.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Kv.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.qh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.Zi.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.Az=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Zc&&(c.Zc(f),c.Ih&&(d=!0));return d};h.I.wz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.sj(f);c.lf.cw=g;isNaN(k)||isNaN(e)||(c.lf.size=new h.g.Vc(k,e));g&&c.OA&&!c.cd&&setTimeout(function(){c.sd.Xb(!0)},1)}};h.I.xz=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.yz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.uA(c,f,e)}};h.I.Hu=function(a){for(var c={gk:null,hk:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Wf.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.gk=e:"shadow"==e.nodeName.toLowerCase()&&(c.hk=e));return c};
h.I.zz=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ka(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.Hu(g);if(g.gk){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.Xp(g.gk,c,l.connection,!1)}g.hk&&l.connection.zl(g.hk)}};
h.I.Bz=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.Hu(f);if(f.gk){if(!d.ba)throw TypeError("Next statement does not exist.");if(d.ba.isConnected())throw TypeError("Next statement is already connected.");h.I.Xp(f.gk,c,d.ba,!0)}f.hk&&d.ba&&d.ba.zl(f.hk)}};
h.I.Xp=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.oj(f,g);var k=h.I.HB(a),l=h.I.Az(k.Kv,g);h.I.wz(k.qh,g);h.I.xz(k.data,g);if(d)if(e)if(g.X)d.connect(g.X);else throw TypeError("Next block does not have previous statement.");else if(g.P)d.connect(g.P);else if(g.X)d.connect(g.X);else throw TypeError("Child block does not have output or previous statement.");h.I.yz(k.Zi,g);h.I.zz(k.input,c,g,f);h.I.Bz(k.next,
c,g);l&&g.Ih();(c=a.getAttribute("inline"))&&g.Mg("true"==c);(c=a.getAttribute("disabled"))&&g.Df("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.Kp="true"==c;(c=a.getAttribute("movable"))&&g.Qr("true"==c);(c=a.getAttribute("editable"))&&g.Pr("true"==c);(c=a.getAttribute("collapsed"))&&g.ci("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=z(g,!1);for(c=0;d=a[c];c++)if(!d.Ea)throw TypeError("Shadow block not allowed non-shadow child.");if(la(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Sr(!0)}return g};h.I.uA=function(a,c,d){var e=B(a,c);e?e.Fk(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.oA=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ie=function(a){h.h.ie.v.constructor.call(this);this.Ya=(this.ad="undefined"==typeof a)?"":a.id;this.Nb=this.ad?"":a.A.id};h.g.object.T(h.h.ie,h.h.Abstract);h.h.ie.prototype.oa=function(){var a=h.h.ie.v.oa.call(this);a.blockId=this.Ya;return a};h.h.ie.prototype.$=function(a){h.h.ie.v.$.call(this,a);this.Ya=a.blockId};
h.h.Yg=function(a,c,d,e,f){h.h.mx.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.T(h.h.Yg,h.h.ie);h.h.mx=h.h.Yg;b=h.h.Yg.prototype;b.type=h.h.Cj;b.oa=function(){var a=h.h.Yg.v.oa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.$=function(a){h.h.Yg.v.$.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.lj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=x(this).Jc(this.Ya);if(c)switch(c.$d&&c.$d.Xb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=B(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.sj(a||null);break;case "collapsed":c.ci(!!a);break;case "disabled":c.Df(!a);break;case "inline":c.Mg(!!a);break;case "mutation":var d="";c.lc&&(d=(d=c.lc())&&h.I.Be(d));if(c.Zc){var e=h.I.Se(a||"<mutation/>");c.Zc(e)}h.h.Ha(new h.h.Yg(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Ya)};h.h.ke=function(a){h.h.ke.v.constructor.call(this,a);a&&(a.Ea&&(this.Ga=!1),this.xml=a.A.pa?h.I.pp(a):h.I.eg(a),this.Gh=h.h.Nu(a))};h.g.object.T(h.h.ke,h.h.ie);h.h.FD=h.h.ke;h.h.ke.prototype.type=h.h.Fj;h.h.ke.prototype.oa=function(){var a=h.h.ke.v.oa.call(this);a.xml=h.I.Be(this.xml);a.ids=this.Gh;this.Ga||(a.recordUndo=this.Ga);return a};
h.h.ke.prototype.$=function(a){h.h.ke.v.$.call(this,a);this.xml=h.I.Se(a.xml);this.Gh=a.ids;void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};h.h.ke.prototype.run=function(a){var c=x(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.lg(a,c);else{a=0;for(var d;d=this.Gh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.Ya&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.ne=function(a){h.h.ne.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ea&&(this.Ga=!1);this.kr=a.A.pa?h.I.pp(a):h.I.eg(a);this.Gh=h.h.Nu(a)}};h.g.object.T(h.h.ne,h.h.ie);h.h.GD=h.h.ne;h.h.ne.prototype.type=h.h.ah;h.h.ne.prototype.oa=function(){var a=h.h.ne.v.oa.call(this);a.oldXml=h.I.Be(this.kr);a.ids=this.Gh;this.Ga||(a.recordUndo=this.Ga);return a};
h.h.ne.prototype.$=function(a){h.h.ne.v.$.call(this,a);this.kr=h.I.Se(a.oldXml);this.Gh=a.ids;void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};h.h.ne.prototype.run=function(a){var c=x(this);if(a){a=0;for(var d;d=this.Gh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.Ya&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.kr),h.I.lg(a,c)};
h.h.fh=function(a){h.h.fh.v.constructor.call(this,a);a&&(a.Ea&&(this.Ga=!1),a=ma(this),this.Sv=a.Zv,this.Pv=a.ov,this.hr=a.tu)};h.g.object.T(h.h.fh,h.h.ie);h.h.HD=h.h.fh;b=h.h.fh.prototype;b.type=h.h.Sj;b.oa=function(){var a=h.h.fh.v.oa.call(this);this.Wh&&(a.newParentId=this.Wh);this.Vh&&(a.newInputName=this.Vh);this.Cg&&(a.newCoordinate=Math.round(this.Cg.x)+","+Math.round(this.Cg.y));this.Ga||(a.recordUndo=this.Ga);return a};
b.$=function(a){h.h.fh.v.$.call(this,a);this.Wh=a.newParentId;this.Vh=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Cg=new h.g.O(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ga=a.recordUndo)};b.$h=function(){var a=ma(this);this.Wh=a.Zv;this.Vh=a.ov;this.Cg=a.tu};function ma(a){var c=x(a).Jc(a.Ya);a={};var d=c.getParent();if(d){if(a.Zv=d.id,c=na(d,c))a.ov=c.name}else a.tu=c.$a();return a}
b.lj=function(){return this.Sv==this.Wh&&this.Pv==this.Vh&&h.g.O.qf(this.hr,this.Cg)};
b.run=function(a){var c=x(this),d=c.Jc(this.Ya);if(d){var e=a?this.Wh:this.Sv,f=a?this.Vh:this.Pv,g=a?this.Cg:this.hr;a=null;if(e&&(a=c.Jc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&C(d);if(g)f=d.$a(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.P||d.X;c=d.type;if(f){if(a=ka(a,f))var k=a.connection}else c==h.U.Tc&&(k=a.ba);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Ya)};
h.u.register(h.u.N.Bb,h.h.Fj,h.h.ke);h.u.register(h.u.N.Bb,h.h.ah,h.h.ne);h.u.register(h.u.N.Bb,h.h.Cj,h.h.Yg);h.u.register(h.u.N.Bb,h.h.Sj,h.h.fh);h.h.Mj=function(a){this.ad="undefined"==typeof a;this.Nb=a?a.id:"";this.group=h.h.Mb();this.Ga=!1};h.g.object.T(h.h.Mj,h.h.Abstract);h.h.Mj.prototype.type=h.h.zo;h.h.Mj.prototype.oa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Nb&&(a.workspaceId=this.Nb);return a};h.h.Mj.prototype.$=function(a){this.ad=!1;this.Nb=a.workspaceId;this.group=a.group};h.u.register(h.u.N.Bb,h.h.zo,h.h.Mj);h.h.se=function(a){h.h.se.v.constructor.call(this);this.ad="undefined"==typeof a;this.Nb=a?a:"";this.Ga=!1};h.g.object.T(h.h.se,h.h.Abstract);h.h.se.prototype.xv=!0;h.h.ag=function(a,c,d,e){h.h.ag.v.constructor.call(this,a?a.A.id:void 0);this.Ya=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.T(h.h.ag,h.h.se);h.h.ag.prototype.type=h.h.cp;
h.h.ag.prototype.oa=function(){var a=h.h.ag.v.oa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Ya&&(a.blockId=this.Ya);return a};h.h.ag.prototype.$=function(a){h.h.ag.v.$.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Ya=a.blockId};h.u.register(h.u.N.Bb,h.h.cp,h.h.ag);h.h.df=function(a){h.h.df.v.constructor.call(this);this.Sg=(this.ad="undefined"==typeof a)?"":a.zc();this.Nb=this.ad?"":a.A.id};h.g.object.T(h.h.df,h.h.Abstract);h.h.df.prototype.oa=function(){var a=h.h.df.v.oa.call(this);a.varId=this.Sg;return a};h.h.df.prototype.$=function(a){h.h.df.v.oa.call(this);this.Sg=a.varId};h.h.ef=function(a){h.h.ef.v.constructor.call(this,a);a&&(this.ni=a.type,this.mi=a.name)};h.g.object.T(h.h.ef,h.h.df);h.h.ef.prototype.type=h.h.wm;
h.h.ef.prototype.oa=function(){var a=h.h.ef.v.oa.call(this);a.varType=this.ni;a.varName=this.mi;return a};h.h.ef.prototype.$=function(a){h.h.ef.v.$.call(this,a);this.ni=a.varType;this.mi=a.varName};h.h.ef.prototype.run=function(a){var c=x(this);a?c.Qd(this.mi,this.ni,this.Sg):c.Wi(this.Sg)};h.h.ff=function(a){h.h.ff.v.constructor.call(this,a);a&&(this.ni=a.type,this.mi=a.name)};h.g.object.T(h.h.ff,h.h.df);h.h.ff.prototype.type=h.h.xm;
h.h.ff.prototype.oa=function(){var a=h.h.ff.v.oa.call(this);a.varType=this.ni;a.varName=this.mi;return a};h.h.ff.prototype.$=function(a){h.h.ff.v.$.call(this,a);this.ni=a.varType;this.mi=a.varName};h.h.ff.prototype.run=function(a){var c=x(this);a?c.Wi(this.Sg):c.Qd(this.mi,this.ni,this.Sg)};h.h.gf=function(a,c){h.h.gf.v.constructor.call(this,a);a&&(this.ir=a.name,this.dr="undefined"==typeof c?"":c)};h.g.object.T(h.h.gf,h.h.df);h.h.gf.prototype.type=h.h.fp;
h.h.gf.prototype.oa=function(){var a=h.h.gf.v.oa.call(this);a.oldName=this.ir;a.newName=this.dr;return a};h.h.gf.prototype.$=function(a){h.h.gf.v.$.call(this,a);this.ir=a.oldName;this.dr=a.newName};h.h.gf.prototype.run=function(a){var c=x(this);a?c.ai(this.Sg,this.dr):c.ai(this.Sg,this.ir)};h.u.register(h.u.N.Bb,h.h.wm,h.h.ef);h.u.register(h.u.N.Bb,h.h.xm,h.h.ff);h.u.register(h.u.N.Bb,h.h.fp,h.h.gf);h.ys=function(a){this.nk=a;this.hb()};b=h.ys.prototype;b.Xa=null;b.De=null;b.nk=null;b.Kg=1;b.Kl=null;b.bu=new h.g.O(0,0);b.hb=function(){this.Xa||(this.Xa=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.um,"xmlns:html":h.g.j.Ao,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklyBlockDragSurface"},this.nk),this.De=h.g.j.M(h.g.F.Sc,{},this.Xa))};function oa(a,c){if(a.De.childNodes.length)throw Error("Already dragging a block.");a.De.appendChild(c);a.Xa.style.display="block";a.Kl=new h.g.O(0,0)}
b.ki=function(a,c){this.Kl=new h.g.O(a*this.Kg,c*this.Kg);a=this.Kl.x;c=this.Kl.y;a=a.toFixed(0);c=c.toFixed(0);this.Xa.style.display="block";h.g.j.Rn(this.Xa,"translate3d("+a+"px, "+c+"px, 0px)")};b.wq=function(){var a=h.g.Vd(this.Xa);return new h.g.O(a.x/this.Kg,a.y/this.Kg)};b.Mb=function(){return this.De};b.ya=function(){return this.Xa};
b.Gm=function(a){a?a.appendChild(this.De.firstChild):this.De.removeChild(this.De.firstChild);this.Xa.style.display="none";if(this.De.childNodes.length)throw Error("Drag group was not cleared.");this.Kl=null};h.Jd={};h.Jd.Iq=!1;h.Jd.register=function(a){if(h.Jd.Iq)throw Error("CSS already injected");Array.prototype.push.apply(h.Jd.so,a);a.length=0};h.Jd.rg=function(a,c){if(!h.Jd.Iq){h.Jd.Iq=!0;var d=h.Jd.so.join("\n");h.Jd.so.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Jd.so=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.eh=function(a,c){this.dj=a;this.Wr=c.spacing;this.Av=c.length;this.DB=(this.Rq=a.firstChild)&&this.Rq.nextSibling;this.ZC=c.snap};h.eh.prototype.Kg=1;h.eh.prototype.H=function(){this.dj=null};h.eh.prototype.update=function(a){this.Kg=a;var c=this.Wr*a||100;this.dj.setAttribute("width",c);this.dj.setAttribute("height",c);c=Math.floor(this.Wr/2)+.5;var d=c-this.Av/2,e=c+this.Av/2;c*=a;d*=a;e*=a;pa(this.Rq,a,d,e,c,c);pa(this.DB,a,c,c,d,e)};
function pa(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.eh.prototype.moveTo=function(a,c){this.dj.setAttribute("x",a);this.dj.setAttribute("y",c);(h.g.userAgent.Ld||h.g.userAgent.bh)&&this.update(this.Kg)};
h.eh.hb=function(a,c,d){a=h.g.j.M(h.g.F.kt,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.M(h.g.F.Qj,{stroke:c.colour},a),1<c.length&&h.g.j.M(h.g.F.Qj,{stroke:c.colour},a)):h.g.j.M(h.g.F.Qj,{},a);return a};h.kh=function(a,c,d,e){this.name=a;this.dg=c||Object.create(null);this.yp=d||Object.create(null);this.iu=e||Object.create(null);this.fontStyle=Object.create(null);this.Yr=null;h.u.register(h.u.N.Zo,a,this)};h.kh.prototype.Td=function(){return this.name+"-theme"};function D(a,c){return(c=a.iu[c])&&"string"==typeof c&&D(a,c)?D(a,c):c?String(c):null}
h.kh.nA=function(a,c){var d=new h.kh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.uq(h.u.N.Zo,e)),e instanceof h.kh&&(h.g.object.Vi(d,e),d.name=a));h.g.object.Vi(d.dg,c.blockStyles);h.g.object.Vi(d.yp,c.categoryStyles);h.g.object.Vi(d.iu,c.componentStyles);h.g.object.Vi(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Yr=c.startHats);return d};h.cf={};h.cf.Lf={};h.cf.Lf.mA={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.cf.Lf.yp={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.cf.Lf=new h.kh("classic",h.cf.Lf.mA,h.cf.Lf.yp);h.g.Oj={};h.g.Oj.SB=0;h.g.Oj.Ru=function(){return"blockly-"+(h.g.Oj.SB++).toString(36)};h.g.nF=function(){};h.g.ga={};h.g.ga.qo="categoryToolbox";h.g.ga.Os="flyoutToolbox";h.g.ga.Qb={$j:0,am:1,Md:2,af:3};h.g.ga.su=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.ga.yr(a),a=h.g.ga.eA(a);h.g.ga.qD(a);return a};h.g.ga.qD=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.ga.Os&&c!=h.g.ga.qo)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.ga.Os+" or "+h.g.ga.qo);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.ga.aH=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.ga.ns(a):[]};h.g.ga.Mk=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.ga.qo:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.ga.vH=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.ga.eA=function(a){var c={contents:h.g.ga.ns(a)};a instanceof Node&&h.g.ga.Ot(a,c);return c};
h.g.ga.ns=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.ga.ns(e));h.g.ga.Ot(e,f);c.push(f)}return c};h.g.ga.Ot=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.ga.yr=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Ld&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.Se(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.nd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else d=h.g.ga.su(a.toolbox),e=h.g.ga.Mk(d),f=a.trashcan,void 0===f&&(f=e),g=a.collapse,void 0===g&&(g=e),k=a.comments,void 0===k&&(k=e),l=a.disable,void 0===l&&(l=e),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl,q=a.horizontalLayout;void 0===q&&(q=!1);var r=a.toolboxPosition;r="end"!==r;r=q?r?h.g.ga.Qb.$j:h.g.ga.Qb.am:r==n?h.g.ga.Qb.af:h.g.ga.Qb.Md;var t=a.css;void 0===t&&(t=!0);var G="https://blockly-demo.appspot.com/static/media/";
a.media?G=a.media:a.path&&(G=a.path+"media/");var M=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,T=a.renderer||"geras",kd=a.plugins||{};this.K=n;this.fC=M;this.collapse=g;this.Xz=k;this.disable=l;this.readOnly=c;this.bl=a.maxBlocks||Infinity;this.zn=a.maxInstances;this.aw=G;this.Mk=e;this.Wb=h.nd.hC(a,e);this.ev=f;this.mB=m;this.kB=t;this.kn=q;this.Oh=d;this.av=h.nd.gC(a);this.ob=h.nd.jC(a);this.ji=r;this.hD=h.nd.iC(a);this.nw=T;this.ow=a.rendererOverrides;this.zq=null;this.Lc=a.parentWorkspace;
this.plugins=kd};h.ID=function(){};
h.nd.hC=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Fq=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Fq&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Fq||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.yj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.Ce=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.nd.jC=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.yj=void 0===a.wheel?!1:!!a.wheel;c.cD=void 0===a.startScale?1:Number(a.startScale);c.cl=void 0===a.maxScale?3:Number(a.maxScale);c.fl=void 0===a.minScale?.3:Number(a.minScale);c.OC=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.bw=void 0===a.pinch?c.yj||c.controls:!!a.pinch;return c};
h.nd.gC=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.gb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.bI=0<c.spacing&&!!a.snap;return c};h.nd.iC=function(a){a=a.theme||h.cf.Lf;return"string"==typeof a?h.u.uq(h.u.N.Zo,a):a instanceof h.kh?a:h.kh.nA(a.name||"builtin"+h.g.Oj.Ru(),a)};h.nd.yr=function(a){h.g.Rm.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.ga.yr(a)};
h.wt=function(a,c,d){this.C=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var e=c&&d;c&&(this.Fb=new h.Na(a,!0,e,"blocklyMainWorkspaceScrollbar",void 0));d&&(this.Jb=new h.Na(a,!1,e,"blocklyMainWorkspaceScrollbar",void 0));e&&(this.pk=h.g.j.M(h.g.F.Tb,{height:h.Na.fd,width:h.Na.fd,"class":"blocklyScrollbarBackground"},null),h.g.j.Qk(this.pk,a.Gf));this.Oa=null};b=h.wt.prototype;
b.H=function(){h.g.j.removeNode(this.pk);this.Oa=this.C=this.pk=null;this.Fb&&(this.Fb.H(),this.Fb=null);this.Jb&&(this.Jb.H(),this.Jb=null)};
b.resize=function(){var a=this.C.Fe();if(a){var c=!1,d=!1;this.Oa&&this.Oa.Zb==a.Zb&&this.Oa.oc==a.oc&&this.Oa.Gc==a.Gc&&this.Oa.wc==a.wc?(this.Oa&&this.Oa.scrollWidth==a.scrollWidth&&this.Oa.Gd==a.Gd&&this.Oa.scrollLeft==a.scrollLeft||(c=!0),this.Oa&&this.Oa.scrollHeight==a.scrollHeight&&this.Oa.Hd==a.Hd&&this.Oa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.Fb&&c&&this.Fb.resize(a),this.Jb&&d&&this.Jb.resize(a)}finally{h.h.enable()}qa(this.C)}this.Fb&&this.Jb&&(this.Oa&&
this.Oa.Zb==a.Zb&&this.Oa.wc==a.wc||this.pk.setAttribute("x",this.Jb.position.x),this.Oa&&this.Oa.oc==a.oc&&this.Oa.Gc==a.Gc||this.pk.setAttribute("y",this.Fb.position.y));this.Oa=a}};b.set=function(a,c,d){this.Fb&&this.Fb.set(a,!1);this.Jb&&this.Jb.set(c,!1);if(d||void 0===d)a={},this.Fb&&(a.x=ra(this.Fb)),this.Jb&&(a.y=ra(this.Jb)),this.C.Sn(a)};b.yl=function(a){this.Fb&&this.Fb.yl(a);this.Jb&&this.Jb.yl(a)};
b.isVisible=function(){var a=!1;this.Fb&&(a=this.Fb.isVisible());this.Jb&&(a=a||this.Jb.isVisible());return a};
h.Na=function(a,c,d,e,f){this.C=a;this.Gg=d||!1;this.Fh=c;this.Ph=void 0!==f?f:h.Na.qx;this.ratio=this.Oa=null;this.qk(e);this.position=new h.g.O(0,0);a=h.Na.fd;c?(this.Ff.setAttribute("height",a),this.Le.setAttribute("height",a),this.hd.setAttribute("height",a-5),this.hd.setAttribute("y",2.5),this.wn="width",this.dw="x"):(this.Ff.setAttribute("width",a),this.Le.setAttribute("width",a),this.hd.setAttribute("width",a-5),this.hd.setAttribute("x",2.5),this.wn="height",this.dw="y");this.Vv=h.S.Ka(this.Ff,
"mousedown",this,this.ZB);this.Wv=h.S.Ka(this.hd,"mousedown",this,this.$B)};b=h.Na.prototype;b.Yv=new h.g.O(0,0);b.ww=0;b.Dd=0;b.og=0;b.Lk=0;b.Wk=!0;b.Fp=!0;h.Na.fd=15;h.Touch.zt&&(h.Na.fd=25);h.Na.qx=.5;h.Na.KB=function(a,c){return a.Zb==c.Zb&&a.oc==c.oc&&a.Gd==c.Gd&&a.Hd==c.Hd&&a.Gc==c.Gc&&a.wc==c.wc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Na.prototype;
b.H=function(){sa();h.S.vb(this.Vv);this.Vv=null;h.S.vb(this.Wv);this.Wv=null;h.g.j.removeNode(this.Le);this.Ff=this.ra=this.Le=null;this.hd&&(this.C.Pc.unsubscribe(this.hd),this.hd=null);this.C=null};function ta(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Dd)}function ua(a,c){a.og=c;a.hd.setAttribute(a.wn,a.og)}function va(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Dd-a.og)}function E(a,c){a.Lk=c;a.hd.setAttribute(a.dw,a.Lk)}
function wa(a,c){a.Dd=c;a.Le.setAttribute(a.wn,a.Dd);a.Ff.setAttribute(a.wn,a.Dd)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Rn(this.Le,"translate("+(this.position.x+this.Yv.x)+"px,"+(this.position.y+this.Yv.y)+"px)")};b.resize=function(a){if(!a&&(a=this.C.Fe(),!a))return;if(!this.Oa||!h.Na.KB(a,this.Oa)){if(this.Fh){var c=a;xa(this,c)?ya(this,c):za(this,c)}else c=a,xa(this,c)?Aa(this,c):Ba(this,c);this.Oa=a;Ca(this)}};
function xa(a,c){return a.Oa?a.Oa.Zb!==c.Zb||a.Oa.oc!==c.oc||a.Oa.wc!==c.wc||a.Oa.Gc!==c.Gc:!0}function ya(a,c){var d=c.Zb-2*a.Ph;a.Gg&&(d-=h.Na.fd);wa(a,Math.max(0,d));d=c.wc+a.Ph;a.Gg&&a.C.K&&(d+=h.Na.fd);a.setPosition(d,c.Gc+c.oc-h.Na.fd-a.Ph);za(a,c)}function za(a,c){if(c.Zb>=c.scrollWidth)ua(a,a.Dd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Dd*c.Zb/c.scrollWidth;d=ta(a,d);ua(a,d);d=c.scrollWidth-c.Zb;var e=a.Dd-a.og;c=(c.Gd-c.scrollLeft)/d*e;c=va(a,c);E(a,c);a.ratio=e/d}}
function Aa(a,c){var d=c.oc-2*a.Ph;a.Gg&&(d-=h.Na.fd);wa(a,Math.max(0,d));a.setPosition(a.C.K?c.wc+a.Ph:c.wc+c.Zb-h.Na.fd-a.Ph,c.Gc+a.Ph);Ba(a,c)}function Ba(a,c){if(c.oc>=c.scrollHeight)ua(a,a.Dd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Dd*c.oc/c.scrollHeight;d=ta(a,d);ua(a,d);d=c.scrollHeight-c.oc;var e=a.Dd-a.og;c=(c.Hd-c.scrollTop)/d*e;c=va(a,c);E(a,c);a.ratio=e/d}}
b.qk=function(a){var c="blocklyScrollbar"+(this.Fh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Le=h.g.j.M(h.g.F.Yj,{"class":c},null);this.ra=h.g.j.M(h.g.F.Sc,{},this.Le);this.Ff=h.g.j.M(h.g.F.Tb,{"class":"blocklyScrollbarBackground"},this.ra);a=Math.floor((h.Na.fd-5)/2);this.hd=h.g.j.M(h.g.F.Tb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.ra);this.C.Pc.subscribe(this.hd,"scrollbarColour","fill");this.C.Pc.subscribe(this.hd,"scrollbarOpacity","fill-opacity");h.g.j.Qk(this.Le,w(this.C))};
b.isVisible=function(){return this.Wk};b.yl=function(a){var c=a!=this.Fp;this.Fp=a;c&&Da(this)};b.Xb=function(a){var c=a!=this.isVisible();if(this.Gg)throw Error("Unable to toggle visibility of paired scrollbars.");this.Wk=a;c&&Da(this)};function Da(a){a.Fp&&a.isVisible()?a.Le.setAttribute("display","block"):a.Le.setAttribute("display","none")}
b.ZB=function(a){fa(this.C);h.Touch.Hm();sa();if(h.g.Vk(a))a.stopPropagation();else{var c=h.g.hl(a,w(this.C),Ea(this.C));c=this.Fh?c.x:c.y;var d=h.g.qq(this.hd);d=this.Fh?d.x:d.y;var e=this.Lk,f=.95*this.og;c<=d?e-=f:c>=d+this.og&&(e+=f);E(this,va(this,e));Ca(this);a.stopPropagation();a.preventDefault()}};
b.$B=function(a){fa(this.C);sa();h.g.Vk(a)?a.stopPropagation():(this.aD=this.Lk,Fa(this.C),this.ww=this.Fh?a.clientX:a.clientY,h.Na.Eg=h.S.Ka(document,"mouseup",this,this.dC),h.Na.Dg=h.S.Ka(document,"mousemove",this,this.aC),a.stopPropagation(),a.preventDefault())};b.aC=function(a){E(this,va(this,this.aD+((this.Fh?a.clientX:a.clientY)-this.ww)));Ca(this)};b.dC=function(){Ga(this.C);h.Touch.Hm();sa()};
function sa(){h.hc(!0);h.Na.Eg&&(h.S.vb(h.Na.Eg),h.Na.Eg=null);h.Na.Dg&&(h.S.vb(h.Na.Dg),h.Na.Dg=null)}function ra(a){a=a.Lk/(a.Dd-a.og);isNaN(a)&&(a=0);return a}function Ca(a){var c=ra(a),d={};a.Fh?d.x=c:d.y=c;a.C.Sn(d)}b.set=function(a,c){E(this,va(this,a*this.ratio));(c||void 0===c)&&Ca(this)};h.G={};h.G.visible=!1;h.G.Oi=!1;h.G.py=50;h.G.Hv=0;h.G.Dl=0;h.G.Pq=0;h.G.Qq=0;h.G.Ta=null;h.G.ol=null;h.G.ft=0;h.G.gt=10;h.G.My=10;h.G.$x=750;h.G.Jo=5;h.G.Ra=null;h.G.$A=function(){var a=h.G.Zu(h.G.Ta);if(a){for(a=a.ee;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.Zu=function(a){for(;a&&a.ee;){if("string"==typeof a.ee||"function"==typeof a.ee)return a;a=a.ee}return null};
h.G.hb=function(){h.G.Ra||(h.G.Ra=document.createElement("div"),h.G.Ra.className="blocklyTooltipDiv",(h.Jn||document.body).appendChild(h.G.Ra))};h.G.fk=function(a){a.MB=h.S.bind(a,"mouseover",null,h.G.cC);a.LB=h.S.bind(a,"mouseout",null,h.G.bC);a.addEventListener("mousemove",h.G.Xv,!1)};h.G.Ew=function(a){a&&(h.S.vb(a.MB),h.S.vb(a.LB),a.removeEventListener("mousemove",h.G.Xv))};h.G.cC=function(a){h.G.Oi||(a=h.G.Zu(a.currentTarget),h.G.Ta!=a&&(h.G.sb(),h.G.ol=null,h.G.Ta=a),clearTimeout(h.G.Hv))};
h.G.bC=function(){h.G.Oi||(h.G.Hv=setTimeout(function(){h.G.Ta=null;h.G.ol=null;h.G.sb()},1),clearTimeout(h.G.Dl))};h.G.Xv=function(a){if(h.G.Ta&&h.G.Ta.ee&&!h.G.Oi)if(h.G.visible){var c=h.G.Pq-a.pageX;a=h.G.Qq-a.pageY;Math.sqrt(c*c+a*a)>h.G.My&&h.G.sb()}else h.G.ol!=h.G.Ta&&(clearTimeout(h.G.Dl),h.G.Pq=a.pageX,h.G.Qq=a.pageY,h.G.Dl=setTimeout(h.G.YC,h.G.$x))};h.G.H=function(){h.G.Ta=null;h.G.ol=null;h.G.sb()};
h.G.sb=function(){h.G.visible&&(h.G.visible=!1,h.G.Ra&&(h.G.Ra.style.display="none"));h.G.Dl&&clearTimeout(h.G.Dl)};h.G.block=function(){h.G.sb();h.G.Oi=!0};h.G.pD=function(){h.G.Oi=!1};
h.G.YC=function(){if(!h.G.Oi&&(h.G.ol=h.G.Ta,h.G.Ra)){h.G.Ra.textContent="";var a=h.G.$A();a=h.g.Pa.vD(a);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.Ra.appendChild(d)}a=h.G.Ta.K;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.Ra.style.direction=a?"rtl":"ltr";h.G.Ra.style.display="block";h.G.visible=!0;var e=h.G.Pq;e=a?e-(h.G.ft+h.G.Ra.offsetWidth):e+h.G.ft;var f=h.G.Qq+h.G.gt;f+
h.G.Ra.offsetHeight>d+window.scrollY&&(f-=h.G.Ra.offsetHeight+2*h.G.gt);a?e=Math.max(h.G.Jo-window.scrollX,e):e+h.G.Ra.offsetWidth>c+window.scrollX-2*h.G.Jo&&(e=c-h.G.Ra.offsetWidth-2*h.G.Jo);h.G.Ra.style.top=f+"px";h.G.Ra.style.left=e+"px"}};h.g.pb={};h.g.pb.Tw="aria-";h.g.pb.Vy="role";h.g.pb.rm={AE:"grid",BE:"gridcell",CE:"group",qy:"listbox",wy:"menu",xy:"menuitem",lF:"menuitemcheckbox",Dy:"option",RF:"presentation",Wo:"row",rG:"tree",sG:"treeitem"};h.g.pb.State={Rw:"activedescendant",OD:"colcount",ux:"disabled",eE:"expanded",VE:"invalid",oy:"label",aF:"labelledby",dF:"level",KF:"orientation",QF:"posinset",XF:"rowcount",Fi:"selected",aG:"setsize",vG:"valuemax",wG:"valuemin"};h.g.pb.Og=function(a,c){a.setAttribute(h.g.pb.Vy,c)};
h.g.pb.Xn=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.pb.Tw+c,d)};h.GE=function(){};h.HE=function(){};h.IE=function(){};h.RE=function(){};h.g.Rm={};h.g.Rm.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.sa=function(a,c){this.J=a;this.type=c};h.sa.bm=0;h.sa.Qy=1;h.sa.Ty=2;h.sa.Sy=3;h.sa.Ny=4;h.sa.Oy=5;h.sa.Ry=6;h.sa.Py=7;b=h.sa.prototype;b.va=null;b.Ae=!1;b.Pi=null;b.Yn=null;b.x=0;b.y=0;
b.Lm=function(a){var c=this.W(),d=a.W();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.cj(!0);this.Yn=null;var f=this.ta();if(f.Ea)f.H(!1);else{this.disconnect();var g=f}this.Yn=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.Wg))(d));h.sa.cA(this,a);d.Vn(c);k&&(k.$h(),h.h.Ha(k));g&&(a=this.type===h.U.Ob?g.P:g.X,(d=h.sa.Mu(d,a))?a.connect(d):a.lr(this))};b.H=function(){if(this.isConnected()){this.zl(null);var a=this.ta();a&&C(a)}this.Ae=!0};b.W=function(){return this.J};
function F(a){return a.type==h.U.Ob||a.type==h.U.Pb}b.isConnected=function(){return!!this.va};b.xp=function(a){h.g.Rm.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.J.A.mf.xp(this,a,!1)};b.lr=function(){};b.connect=function(a){if(this.va!=a&&H(this.J.A.mf,this,a,!1)){var c=h.h.Mb();c||h.h.qa(!0);F(this)?this.Lm(a):a.Lm(this);c||h.h.qa(!1)}};
h.sa.cA=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.va=c;c.va=a};h.sa.ZA=function(a,c){var d=null;c=c.P;for(var e=c.J.A.mf,f=0,g;g=a.R[f];f++)if((g=g.connection)&&H(e,c,g,!1)){if(d)return null;d=g}return d};h.sa.PA=function(a,c){for(var d;d=h.sa.ZA(a,c);)if(a=d.ta(),!a||a.Ea)return d;return null};h.sa.Mu=function(a,c){if(c.type===h.U.Dc)return h.sa.PA(a,c.W());a=a.vn(!0);var d=c.J.A.mf;return a&&H(d,c,a,!1)?a:null};b=h.sa.prototype;
b.disconnect=function(){var a=this.va;if(!a)throw Error("Source connection not connected.");if(a.va!=this)throw Error("Target connection not connected to source connection.");if(F(this)){var c=this.J;var d=a.W();a=this}else c=a.W(),d=this.J;var e=h.h.Mb();e||h.h.qa(!0);this.Sp(c,d);d.Ea||a.wl();e||h.h.qa(!1)};b.Sp=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.Wg))(c));this.va=this.va.va=null;c.Vn(null);d&&(d.$h(),h.h.Ha(d))};
b.wl=function(){var a=this.W(),c=this.cj();if(a.A&&c)if(a=h.I.Ym(c,a.A),a.P)this.connect(a.P);else if(a.X)this.connect(a.X);else throw Error("Child block does not have output or previous statement.");};b.ta=function(){return this.isConnected()?this.va.W():null};b.Uv=function(){!this.isConnected()||this.va&&H(this.J.A.mf,this,this.va,!1)||C(F(this)?this.ta():this.J)};b.rj=function(a){a?(Array.isArray(a)||(a=[a]),this.Pi=a,this.Uv()):this.Pi=null};
b.zl=function(a){this.Yn=a;a=this.ta();a?a.Ea&&(a.H(!1),this.wl()):this.wl()};b.cj=function(a){return a&&this.ta().Ea?h.I.eg(this.ta()):this.Yn};b.Lv=function(){return[]};b.Ge=function(){for(var a=null,c=this.J.R,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};
b.toString=function(){var a=this.J;if(!a)return"Orphan Connection";if(a.P==this)var c="Output Connection of ";else if(a.X==this)c="Previous Connection of ";else if(a.ba==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.R[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.ME=function(){};h.Fs=function(){};function H(a,c,d,e,f){return a.xp(c,d,e,f)==h.sa.bm}h.Fs.prototype.xp=function(a,c,d,e){if(a&&c){if(F(a)){var f=a.W();var g=c.W()}else g=a.W(),f=c.W();f=f==g?h.sa.Qy:c.type!=h.Di[a.type]?h.sa.Ty:f.A!==g.A?h.sa.Oy:f.Ea&&!g.Ea?h.sa.Ry:h.sa.bm}else f=h.sa.Sy;if(f!=h.sa.bm)a=f;else{a:if(f=a.Pi,g=c.Pi,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Ha(a,c,e||0)?h.sa.Py:h.sa.bm:h.sa.Ny}return a};
function Ha(a,c,d){if(Ia(a,c)>d||c.W().xd())return!1;switch(c.type){case h.U.Tc:return a.va||-1!=h.Yi.indexOf(c)?a=!1:c.va?(a=c.ta(),a=a.xd()?!(a.X&&a.X.ta()):!1):a=!0,a;case h.U.Dc:if(c.isConnected()&&!c.ta().xd()||a.isConnected())return!1;break;case h.U.Ob:if(c.isConnected()&&!c.ta().ic()&&!c.ta().Ea)return!1;break;case h.U.Pb:if(c.isConnected()&&!a.W().ba&&!c.ta().Ea&&c.ta().ba)return!1;break;default:return!1}return-1!=h.Yi.indexOf(c)?!1:!0}h.u.register(h.u.N.Ds,h.u.Hj,h.Fs);h.Ft=function(a){this.Wa=Object.create(null);this.A=a};b=h.Ft.prototype;b.clear=function(){this.Wa=Object.create(null)};b.lw=function(a,c){var d=this.ng(c,a.type),e=I(this.A,!1);h.h.qa(!0);try{if(d&&d.zc()!=a.zc()){var f=a.type;c!=d.name&&Ja(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].R[g];g++)for(var k=0;d.Ua[k];k++);}h.h.Ha(new (h.h.get(h.h.xm))(a));this.Wa[f].splice(this.gn(f).indexOf(a),1)}else Ja(a,c,e)}finally{h.h.qa(!1)}};
b.ai=function(a,c){var d=this.Ah(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.lw(d,c)};function Ja(a,c,d){h.h.Ha(new (h.h.get(h.h.fp))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.R[f];f++)for(var g=0;c.Ua[g];g++);}
b.Qd=function(a,c,d){var e=this.ng(a,c);if(e){if(d&&e.zc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.zc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Ah(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.rf();c=c||"";e=new h.ym(this.A,a,c,e);a=this.Wa[c]||[];a.push(e);delete this.Wa[c];this.Wa[c]=a;return e};
b.Wi=function(a){var c=this.Ah(a);if(c){var d=c.name,e=this.yq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ka(f,"NAME");d=h.L.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.L.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&La(g,c,e)})):La(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function La(a,c,d){var e=h.h.Mb();e||h.h.qa(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Wa[c.type];a=0;for(var k;k=g[a];a++)if(k.zc()==c.zc()){g.splice(a,1);h.h.Ha(new (h.h.get(h.h.xm))(c));break}}finally{e||h.h.qa(!1)}}b.ng=function(a,c){if(c=this.Wa[c||""])for(var d=0,e;e=c[d];d++)if(h.gh.qf(e.name,a))return e;return null};b.Ah=function(a){for(var c=Object.keys(this.Wa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Wa[e][f];f++)if(g.zc()==a)return g;return null};
b.gn=function(a){return(a=this.Wa[a||""])?a.slice():[]};b.$i=function(){var a=[],c;for(c in this.Wa)a=a.concat(this.Wa[c]);return a};b.kq=function(){var a=[],c;for(c in this.Wa)for(var d=this.Wa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.yq=function(a){for(var c=[],d=I(this.A,!1),e=0;e<d.length;e++){var f=la(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].zc()==a&&c.push(d[e])}return c};h.eb=function(a){this.id=h.g.rf();h.eb.bk[this.id]=this;this.options=a||new h.nd({});this.K=!!this.options.K;this.kn=!!this.options.kn;this.ji=this.options.ji;this.mf=new (h.u.wh(h.u.N.Ds,this.options,!0))(this);this.Nl=[];this.co=[];this.Km=Object.create(null);this.xf=[];this.li=[];this.vl=[];this.op=Object.create(null);this.Jf=Object.create(null);this.Wa=new h.Ft(this);this.Nn=null};b=h.eb.prototype;b.pa=!1;b.Lq=!1;b.bt=1024;b.Nm=null;b.H=function(){this.xf.length=0;this.clear();delete h.eb.bk[this.id]};
h.eb.ot=3;b=h.eb.prototype;b.Pe=function(a,c){a=a.$a();c=c.$a();return a.y+h.eb.prototype.Pe.offset*a.x-(c.y+h.eb.prototype.Pe.offset*c.x)};b.zm=function(a){this.Nl.push(a)};b.Pn=function(a){if(!h.g.ek(this.Nl,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.fc=function(a){var c=[].concat(this.Nl);a&&1<c.length&&(this.Pe.offset=Math.sin(h.g.kc.ii(h.eb.ot)),this.K&&(this.Pe.offset*=-1),c.sort(this.Pe));return c};function Ma(a,c){return a.Jf[c]?a.Jf[c].slice(0):[]}
function I(a,c){if(c){a=a.fc(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.fc(!1),d=0;d<c.length;d++)c.push.apply(c,z(c[d],!1));return c.filter(function(e){return!e.xd()})}b.clear=function(){this.Lq=!0;try{var a=h.h.Mb();for(a||h.h.qa(!0);this.Nl.length;)this.Nl[0].H(!1);for(;this.co.length;)this.co[this.co.length-1].H(!1);a||h.h.qa(!1);this.Wa.clear();this.Nn&&this.Nn.clear()}finally{this.Lq=!1}};b.ai=function(a,c){this.Wa.ai(a,c)};
b.Qd=function(a,c,d){return this.Wa.Qd(a,c,d)};b.yq=function(a){return this.Wa.yq(a)};b.Wi=function(a){this.Wa.Wi(a)};b.ng=function(a,c){return this.Wa.ng(a,c)};b.Ah=function(a){return this.Wa.Ah(a)};b.gn=function(a){return this.Wa.gn(a)};b.$i=function(){return this.Wa.$i()};b.kq=function(){return this.Wa.kq()};b.hn=function(){return 0};b.oj=function(a,c){return new h.ui(this,a,c)};
function Na(a,c){if(!Oa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.zn?(void 0!==a.options.zn[e]?a.options.zn[e]:Infinity)-Ma(a,e).length:Infinity))return!1;d+=c[e]}return d>(isNaN(a.options.bl)?Infinity:a.options.bl-I(a,!1).length)?!1:!0}function Oa(a){return Infinity!=a.options.bl||!!a.options.zn}
function Pa(a,c){var d=c?a.vl:a.li;a=c?a.li:a.vl;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ga=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ga=!0}}}function Qa(){var a=y;a.li.length=0;a.vl.length=0;h.h.Vz()}b.Jc=function(a){return this.op[a]||null};h.eb.bk=Object.create(null);h.eb.Gk=function(a){return h.eb.bk[a]||null};
h.eb.getAll=function(){var a=[],c;for(c in h.eb.bk)a.push(h.eb.bk[c]);return a};h.Mt=function(a){this.nk=a;this.hb()};b=h.Mt.prototype;b.Xa=null;b.nk=null;b.hb=function(){this.Xa||(this.Xa=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.um,"xmlns:html":h.g.j.Ao,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.nk.appendChild(this.Xa))};b.ki=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.Xa.style.display="block";h.g.j.Rn(this.Xa,"translate3d("+a+"px, "+c+"px, 0px)")};b.wq=function(){return h.g.Vd(this.Xa)};
b.Gm=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.Xa.childNodes[0],d=this.Xa.childNodes[1];if(!(c&&d&&h.g.j.Aq(c,"blocklyBlockCanvas")&&h.g.j.Aq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Cr?h.g.j.Qk(c,this.Cr):a.insertBefore(c,a.firstChild);h.g.j.Qk(d,c);this.Xa.style.display="none";if(this.Xa.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Rn(this.Xa,
"");this.Cr=null};h.i={};h.i.Tl=!1;h.i.register=function(a,c){h.u.register(h.u.N.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.N.RENDERER,a)};h.i.cI=function(){h.i.Tl=!0};h.i.dI=function(){h.i.Tl=!1};h.i.Va=function(a,c,d){a=new (h.u.mq(h.u.N.RENDERER,a))(a);a.Va(c,d);return a};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Rl=a;this.za=c;this.Pw=null;(a=d||null)&&a.Ow&&(this.Pw=a.Ow)};h.D.types={rc:"field",Kb:"block",ld:"input",hh:"output",Vf:"next",Xf:"previous",jh:"stack",Fc:"workspace"};h.D.Uf=!1;h.D.px=-20;h.D.xH=function(a){switch(a){case h.D.types.Xf:case h.D.types.Vf:case h.D.types.ld:case h.D.types.hh:return!0}return!1};h.D.rk=function(a){return a?new h.D(h.D.types.rc,a):null};
h.D.kg=function(a){if(!a)return null;var c=a.type;return c==h.U.Ob||c==h.U.Pb&&a.Ge()?h.D.rh(a.Ge()):c==h.U.Pb?new h.D(h.D.types.Vf,a):c==h.U.Dc?new h.D(h.D.types.hh,a):c==h.U.Tc?new h.D(h.D.types.Xf,a):null};h.D.rh=function(a){return a&&a.connection?new h.D(h.D.types.ld,a.connection):null};h.D.jg=function(a){return a?new h.D(h.D.types.Kb,a):null};h.D.Om=function(a){return a?new h.D(h.D.types.jh,a):null};h.D.kA=function(a,c){return c&&a?new h.D(h.D.types.Fc,a,{Ow:c}):null};
h.D.cH=function(a){var c=a.X||a.P;return c?h.D.kg(c):h.D.jg(a)};b=h.D.prototype;b.lb=function(){return this.Rl};function Ra(a,c){a=a.za;a instanceof h.ui||(a=a.W());if(!a||!a.A)return null;var d=a.Wd();a=d.A.fc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.Om(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Sa(a){if(!a)return null;do var c=a.X&&a.X.ta();while(c&&u(c)==a&&(a=c));return(c=a.X||a.P)&&c.va&&c.va.Ge()?h.D.rh(c.va.Ge()):h.D.Om(a)}b.W=function(){return this.lb()===h.D.types.Kb?this.za:this.lb()===h.D.types.jh?this.za:this.lb()===h.D.types.Fc?null:this.za.W()};
b.next=function(){switch(this.Rl){case h.D.types.jh:return Ra(this,!0);case h.D.types.hh:var a=this.za;return h.D.jg(a.W());case h.D.types.rc:a:{var c=this.za,d=c.Ge();a=c.W();c=d.Ua.indexOf(c)+1;d=a.R.indexOf(d);for(var e;e=a.R[d];d++){for(var f=e.Ua;c<f.length;){if(J(f[c])||h.D.Uf){a=h.D.rk(f[c]);break a}c++}c=0;if(e.connection){a=h.D.rh(e);break a}}a=null}return a;case h.D.types.ld:a:{c=this.za.Ge();a=c.W();for(c=a.R.indexOf(c)+1;d=a.R[c];c++){e=d.Ua;f=0;for(var g;g=e[f];f++)if(J(g)||h.D.Uf){a=
h.D.rk(g);break a}if(d.connection){a=h.D.rh(d);break a}}a=null}return a;case h.D.types.Kb:return h.D.kg(this.za.ba);case h.D.types.Xf:return a=this.za,h.D.jg(a.W());case h.D.types.Vf:return a=this.za,h.D.kg(a.va)}return null};
b.qg=function(){switch(this.Rl){case h.D.types.Fc:var a=this.za.fc(!0);if(0<a.length)return h.D.Om(a[0]);break;case h.D.types.jh:a=this.za;var c=a.X||a.P;return c?h.D.kg(c):h.D.jg(a);case h.D.types.Kb:a=this.za;a:{a=a.R;c=0;for(var d;d=a[c];c++){for(var e=d.Ua,f=0,g;g=e[f];f++)if(J(g)||h.D.Uf){a=h.D.rk(g);break a}if(d.connection){a=h.D.rh(d);break a}}a=null}return a;case h.D.types.ld:return h.D.kg(this.za.va)}return null};
b.Ig=function(){switch(this.Rl){case h.D.types.jh:return Ra(this,!1);case h.D.types.rc:a:{var a=this.za;var c=a.Ge();var d=a.W();a=c.Ua.indexOf(a)-1;for(var e=d.R.indexOf(c),f;f=d.R[e];e--){if(f.connection&&f!==c){c=h.D.rh(f);break a}for(f=f.Ua;-1<a;){if(J(f[a])||h.D.Uf){c=h.D.rk(f[a]);break a}a--}0<=e-1&&(a=d.R[e-1].Ua.length-1)}c=null}return c;case h.D.types.ld:a:{c=this.za.Ge();d=c.W();for(a=d.R.indexOf(c);e=d.R[a];a--){if(e.connection&&e!==c){c=h.D.rh(e);break a}e=e.Ua;f=e.length-1;for(var g;g=
e[f];f--)if(J(g)||h.D.Uf){c=h.D.rk(g);break a}}c=null}return c;case h.D.types.Kb:return c=this.za,h.D.kg(c.X||c.P);case h.D.types.Xf:c=this.za;if((c=c.va)&&!c.Ge())return h.D.kg(c);break;case h.D.types.Vf:return c=this.za,h.D.jg(c.W())}return null};
b.Fg=function(){switch(this.Rl){case h.D.types.jh:var a=this.za,c=a.$a();return h.D.kA(a.A,new h.g.O(c.x,c.y+h.D.px));case h.D.types.hh:return a=this.za,(c=a.va)?h.D.kg(c):h.D.Om(a.W());case h.D.types.rc:return h.D.jg(this.za.W());case h.D.types.ld:return a=this.za,h.D.jg(a.W());case h.D.types.Kb:return a=this.za,Sa(a);case h.D.types.Xf:return a=this.za,Sa(a.W());case h.D.types.Vf:return a=this.za,Sa(a.W())}return null};h.$b=Object.create(null);h.wa={};h.wa.zj=Object.create(null);h.wa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.wa.zj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.wa.zj[a]=c};h.wa.NH=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.wa.register(a,function(){this.Bg(c)})};
h.wa.OH=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.wa.Zt(f,c.Zc,"domToMutation");h.wa.Zt(f,c.lc,"mutationToDom");var g=h.wa.au(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.wa.register(a,function(){if(g){if(!h.zy)throw Error(f+"Missing require for Blockly.Mutator");this.sw(new h.zy(e||[]))}this.Bg(c);d&&d.apply(this)})};h.wa.unregister=function(a){h.wa.zj[a]?delete h.wa.zj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.wa.apply=function(a,c,d){var e=h.wa.zj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.wa.Sz(a,c);else var f=h.wa.tq(c);e.apply(c);if(d)h.wa.Qz('Error after applying mutator "'+a+'": ',c);else if(!h.wa.PB(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.wa.Zt=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.wa.Sz=function(a,c){if(h.wa.tq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.wa.au=function(a,c){var d=void 0!==a.Ep,e=void 0!==a.Jp;if(d&&e){if("function"!=typeof a.Ep)throw Error(c+"compose must be a function.");if("function"!=typeof a.Jp)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.wa.Qz=function(a,c){if("function"!=typeof c.Zc)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.lc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.wa.au(c,a)};h.wa.tq=function(a){var c=[];void 0!==a.Zc&&c.push(a.Zc);void 0!==a.lc&&c.push(a.lc);void 0!==a.Ep&&c.push(a.Ep);void 0!==a.Jp&&c.push(a.Jp);return c};h.wa.PB=function(a,c){c=h.wa.tq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.wa.KG=function(a,c){var d=[];"object"==typeof document&&h.g.qw(function(){for(var e in c)h.g.$t(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.wa.Rz(this,a,c),d.push(this.type));this.Pg(function(){var e=String(Ka(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Nc(f);return f}.bind(this))}};
h.wa.Rz=function(a,c,d){var e=B(a,c);if(!Ta(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.wa.LG=function(a,c){"object"==typeof document&&h.g.qw(function(){h.g.$t(a)});return function(){this.Pg(function(){var d=B(this,c);return h.g.Nc(a).replace("%1",d?Ua(d):"")}.bind(this))}};h.wa.AA=function(){this.kD=this.ee;this.Pg(function(){var a=this.getParent();return a&&Va(a)&&a.ee||this.kD}.bind(this))};
h.wa.register("parent_tooltip_when_inline",h.wa.AA);h.mg={};h.mg.register=function(a,c){h.u.register(h.u.N.rc,a,c)};h.mg.unregister=function(a){h.u.unregister(h.u.N.rc,a)};h.mg.$=function(a){var c=h.u.uq(h.u.N.rc,a.type);return c?c.$(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.PE=function(){};h.Sa={};h.Sa.Tp=0;h.Sa.Vm=null;h.Sa.sA=function(a){var c=a.A,d=a.ya();c.ue.play("delete");a=Wa(c,d);d=d.cloneNode(!0);d.mD=a.x;d.nD=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");w(c).appendChild(d);d.Tt=d.getBBox();h.Sa.Cu(d,c.K,new Date,c.scale)};h.Sa.Cu=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.mD+(c?-1:1)*a.Tt.width*e/2*f)+","+(a.nD+a.Tt.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Sa.Cu,10,a,c,d,e))};
h.Sa.dA=function(a){var c=a.A,d=c.scale;c.ue.play("click");if(!(1>d)){var e=Wa(c,a.ya());a.P?(e.x+=(a.K?3:-3)*d,e.y+=13*d):a.X&&(e.x+=(a.K?-23:23)*d,e.y+=3*d);a=h.g.j.M(h.g.F.zs,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},w(c));h.Sa.nu(a,new Date,d)}};h.Sa.nu=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Sa.Tp=setTimeout(h.Sa.nu,10,a,c,d))};
h.Sa.rA=function(a){a.A.ue.play("disconnect");if(!(1>a.A.scale)){var c=v(a).height;c=Math.atan(10/c)/Math.PI*180;a.K||(c*=-1);h.Sa.Bu(a.ya(),c,new Date)}};h.Sa.Bu=function(a,c,d){var e=(new Date-d)/200;1<e?a.El="":(a.El="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Sa.Vm=a,h.Sa.Tp=setTimeout(h.Sa.Bu,10,a,c,d));a.setAttribute("transform",a.Ql+a.El)};h.Sa.Up=function(){if(h.Sa.Vm){clearTimeout(h.Sa.Tp);var a=h.Sa.Vm;a.El="";a.setAttribute("transform",a.Ql);h.Sa.Vm=null}};h.h.Kf=function(a,c,d){h.h.Kf.v.constructor.call(this,a?a.A.id:void 0);this.Ya=a?a.id:null;this.vv=c;this.Ut=d};h.g.object.T(h.h.Kf,h.h.se);h.h.Kf.prototype.type=h.h.$l;h.h.Kf.prototype.oa=function(){var a=h.h.Kf.v.oa.call(this);a.isStart=this.vv;a.blockId=this.Ya;a.blocks=this.Ut;return a};h.h.Kf.prototype.$=function(a){h.h.Kf.v.$.call(this,a);this.vv=a.isStart;this.Ya=a.blockId;this.Ut=a.blocks};h.u.register(h.u.N.Bb,h.h.$l,h.h.Kf);h.JE=function(){};h.tc=function(a){this.Rg=h.selected=a;this.C=a.A;this.yg=this.Nq=null;this.Dk=Xa(this,this.Rg);this.jc=this.qb=null;this.fe=!1;this.Bk=this.Eq=this.Qh=null;this.Cm=Ya(this)};h.tc.Ei={Do:0,iy:1,nt:2};h.tc.Is="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.tc.prototype.H=function(){this.Cm.length=0;h.h.disable();try{this.Dk&&this.Dk.H(),this.yg&&this.yg.H()}finally{h.h.enable()}};
h.tc.prototype.update=function(a,c){var d=this.qb&&this.jc?h.Cs:h.ac;for(var e=null,f=null,g=0;g<this.Cm.length;g++){var k=this.Cm[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.On)}d={closest:e,local:f,On:d};if((this.fe=this.Ur(d,c))||Za(this,d,a)){h.h.disable();d.closest?(a=this.qb!=d.closest,c=this.jc!=d.local,this.qb&&this.jc&&(a||c||this.fe)&&$a(this)):$a(this);this.jc=this.qb=this.Qh=null;if(!this.fe&&(a=d.closest,c=d.local,a))if(a==this.qb||a.W().xd())console.log("Trying to connect to an insertion marker");
else{this.qb=a;this.jc=c;a=this.qb;c=this.jc;d=this.Rg;c.type==h.U.Dc||c.type==h.U.Tc?((e=!a.isConnected())||(e=a.ta(),e=!!h.sa.Mu(d,c.type===h.U.Dc?e.P:e.X)),c=e?h.tc.Ei.Do:h.tc.Ei.nt):c=h.tc.Ei.Do;switch(c){case h.tc.Ei.iy:this.Eq=this.qb.W();break;case h.tc.Ei.Do:e=this.jc;c=this.qb;d=this.Nq&&e==this.Nq?this.yg:this.Dk;e=d.rq(e.W(),e);if(e==this.Qh)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Da();d.pa=!0;d.ya().setAttribute("visibility","visible");e&&
c&&(e.type!=h.U.Pb&&e.type!=h.U.Ob||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.Qh=e;break;case h.tc.Ei.nt:this.Bk=this.qb.ta(),K(this.Bk.bb,"blocklyReplaceable",!0)}a&&(d=a.J.A.jb.aa(),c=ab(d,a),a.type==h.U.Ob||a.type==h.U.Dc?(d=d.Ii,c=h.g.s.moveBy(0,-d)+h.g.s.V("v",d)+c.Bd+h.g.s.V("v",d)):(d=d.Vj-d.je,c=h.g.s.moveBy(-d,0)+h.g.s.V("h",d)+c.Hg+h.g.s.V("h",d)),d=a.J.$a(),h.sa.kv=h.g.j.M(h.g.F.Ze,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.J.K?" scale(-1 1)":"")},a.J.ya()))}h.h.enable()}};
function Xa(a,c){var d=c.type;h.h.disable();try{var e=a.C.oj(d);e.rw(!0);if(c.lc){var f=c.lc();f&&e.Zc(f)}for(a=0;a<c.R.length;a++){var g=c.R[a];if(g.name!=h.ab.em){var k=e.R[a];if(!k)throw Error(h.tc.Is.replace("%1","an input"));for(d=0;d<g.Ua.length;d++){var l=g.Ua[d],m=k.Ua[d];if(!m)throw Error(h.tc.Is.replace("%1","a field"));m.setValue(l.getValue())}}}e.ci(c.isCollapsed());e.Mg(Va(c));e.Ih();e.ya().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function Ya(a){var c=a.Rg.Ud(!1),d=a.Rg.vn(!0);if(d&&d!=a.Rg.ba){c.push(d);a.Nq=d;if(a.yg){h.h.disable();try{a.yg.H()}finally{h.h.enable()}}a.yg=Xa(a,d.W())}return c}
function Za(a,c,d){var e=c.local,f=c.closest;c=c.On;if(e&&f){if(a.jc&&a.qb){if(a.qb==f&&a.jc==e)return!1;e=a.jc.x+d.x-a.qb.x;a=a.jc.y+d.y-a.qb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.hx)}if(a.jc||a.qb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.jc||!a.qb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.tc.prototype.Ur=function(a,c){return c&&ca(this.C.jk,c.id)?c.uD(this.Rg,a&&!!a.closest):!1};
function $a(a){a.qb&&a.qb.ta()&&(h.g.j.removeNode(h.sa.kv),delete h.sa.kv);if(a.Bk)K(a.Bk.bb,"blocklyReplaceable",!1),a.Bk=null;else if(a.Eq)a.Eq=null;else if(a.Qh)if(a.Qh){var c=a.Qh,d=c.W(),e=d.ba,f=d.X,g=d.P;g=c.type==h.U.Ob&&!(g&&g.va);!(c!=e||f&&f.va)||g?C(c.ta(),!1):c.type==h.U.Pb&&c!=e?(e=c.va,C(e.W(),!1),f=f?f.va:null,C(d,!0),f&&f.connect(e)):C(d,!0);if(c.va)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Qh=null;(a=d.ya())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.tc.prototype.aj=function(){var a=[];this.Dk&&a.push(this.Dk);this.yg&&a.push(this.yg);return a};h.Aj=function(a,c){this.La=a;this.C=c;this.Ee=new h.tc(this.La);this.ib=null;this.fe=!1;this.Fd=this.La.$a();this.Zm=h.Aj.sB(a)};h.Aj.prototype.H=function(){this.Zm.length=0;this.Ee&&this.Ee.H()};h.Aj.sB=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=L(e);for(var f=0;f<e.length;f++){var g={location:e[f].oH(),icon:e[f]};c.push(g)}}return c};b=h.Aj.prototype;
b.Fl=function(a,c){h.h.Mb()||h.h.qa(!0);var d=new (h.h.get(h.h.$l))(this.La,!0,p(this.La,!1));h.h.Ha(d);this.C.rn&&bb(this.La);h.g.j.Gl();this.C.Oc(!1);h.Sa.Up();if(this.La.getParent()||c&&this.La.ba&&this.La.ba.ta())C(this.La,c),a=this.pj(a),a=h.g.O.sum(this.Fd,a),this.La.translate(a.x,a.y),h.Sa.rA(this.La),a=this.Ee,a.Cm=Ya(a);this.La.Lg(!0);a=this.La;a.Ul&&(c=a.$a(),a.ya().removeAttribute("transform"),a.A.Wc.ki(c.x,c.y),(c=a.ya())&&oa(a.A.Wc,c))};
b.Ce=function(a,c){c=this.pj(c);var d=h.g.O.sum(this.Fd,c);this.La.$q(d);for(d=0;d<this.Zm.length;d++){var e=this.Zm[d];e.icon.ZH(h.g.O.sum(e.location,c))}d=this.ib;this.ib=cb(this.C,a);this.Ee.update(c,this.ib);a=this.fe;this.fe=this.Ee.fe;a!=this.fe&&this.La.Or(this.fe);this.ib!==d&&(d&&d.WB(this.La),this.ib&&this.ib.VB(this.La));this.ib&&this.ib.XB(this.La)};
b.zk=function(a,c){this.Ce(a,c);this.Zm=[];a=new (h.h.get(h.h.$l))(this.La,!1,p(this.La,!1));h.h.Ha(a);h.g.j.Hl();h.Sa.Up();if(this.ib&&this.ib.WC(this.La))c=this.Fd;else{var d=this.pj(c);c=h.g.O.sum(this.Fd,d)}a=this.La;a.Ul&&(a.translate(c.x,c.y),a.A.Wc.Gm(a.A.zb));this.ib&&this.ib.YB(this.La);this.fe?(this.Ck(),this.La.H(!1,!0),h.Yi=[],c=!0):c=!1;c||(this.La.Lg(!1),d?(db(this.La,d.x,d.y),this.Ck(),this.Ee.qb?(d=this.Ee,d.qb&&(h.h.disable(),$a(d),h.h.enable(),d.jc.connect(d.qb),d.Rg.pa&&(h.Sa.dA((F(d.jc)?
d.qb:d.jc).W()),bb(d.Rg.Wd())))):this.La.Da(),eb(this.La)):h.sp(this.La.A,this.C.Th.Kk(!0),this.La));this.C.Oc(!0);h.h.qa(!1)};b.Ck=function(){var a=new (h.h.get(h.h.Wg))(this.La);a.hr=this.Fd;a.$h();h.h.Ha(a)};b.pj=function(a){a=new h.g.O(a.x/this.C.scale,a.y/this.C.scale);this.C.rn&&a.scale(1/this.C.options.Lc.scale);return a};b.aj=function(){return this.Ee&&this.Ee.aj?this.Ee.aj():[]};h.u.register(h.u.N.vs,h.u.Hj,h.Aj);h.NE=function(){};h.QE=function(){};h.LE=function(){};h.ua=function(a,c,d,e,f,g){this.C=a;this.nf=c;this.VC=d;this.pr=this.nr=this.Jv=this.pw=null;this.Ae=!1;d=h.ua.Uw;this.C.K&&(d=-d);this.Dz=h.g.kc.ii(d);a.Gf.appendChild(this.qk(c,!(!f||!g)));this.Db=e;this.mw&&fb(this);f&&g||(a=this.nf.getBBox(),f=a.width+2*h.ua.ge,g=a.height+2*h.ua.ge);gb(this,f,g);fb(this);hb(this);this.mw=!0};h.ua.ge=6;h.ua.Vw=5;h.ua.Uw=20;h.ua.qs=4;h.ua.Sw=8;h.ua.Eg=null;h.ua.Dg=null;
h.ua.fs=function(){h.ua.Eg&&(h.S.vb(h.ua.Eg),h.ua.Eg=null);h.ua.Dg&&(h.S.vb(h.ua.Dg),h.ua.Dg=null)};h.ua.Iz=function(){h.Touch.Hm();h.ua.fs()};b=h.ua.prototype;b.mw=!1;b.Db=null;b.Ne=0;b.Jg=0;b.Rb=0;b.Xd=0;b.lp=!0;
b.qk=function(a,c){this.qd=h.g.j.M(h.g.F.Sc,{},null);var d={filter:"url(#"+this.C.jb.aa().$m+")"};h.g.userAgent.ny&&(d={});d=h.g.j.M(h.g.F.Sc,d,this.qd);this.Vt=h.g.j.M(h.g.F.Ze,{},d);this.Dm=h.g.j.M(h.g.F.Tb,{"class":"blocklyDraggable",x:0,y:0,rx:h.ua.ge,ry:h.ua.ge},d);c?(this.Bf=h.g.j.M(h.g.F.Sc,{"class":this.C.K?"blocklyResizeSW":"blocklyResizeSE"},this.qd),c=2*h.ua.ge,h.g.j.M(h.g.F.Jy,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Bf),h.g.j.M(h.g.F.Qj,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Bf),h.g.j.M(h.g.F.Qj,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Bf)):this.Bf=null;this.C.options.readOnly||(this.nr=h.S.Ka(this.Dm,"mousedown",this,this.Hz),this.Bf&&(this.pr=h.S.Ka(this.Bf,"mousedown",this,this.JC)));this.qd.appendChild(a);return this.qd};b.ya=function(){return this.qd};
b.Hz=function(a){var c=ib(this.C,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.gd||(c.gd=this);c.yd=a}};b.Bl=function(){};b.sg=function(){return!1};b.Or=function(){};
b.JC=function(a){var c=this.qd.parentNode;c.lastChild!==this.qd&&c.appendChild(this.qd);h.ua.fs();h.g.Vk(a)||(this.C.Fl(a,new h.g.O(this.C.K?-this.Rb:this.Rb,this.Xd)),h.ua.Eg=h.S.Ka(document,"mouseup",this,h.ua.Iz),h.ua.Dg=h.S.Ka(document,"mousemove",this,this.KC),h.hc());a.stopPropagation()};b.KC=function(a){this.lp=!1;var c=this.C;a=h.g.hl(a,w(c),Ea(c));a.x/=c.scale;a.y/=c.scale;c=h.g.O.sum(c.Du,a);gb(this,this.C.K?-c.x:c.x,c.y);this.C.K&&fb(this)};
function jb(a,c,d){var e=a.C.K?a.Db.x-c.x-a.Rb:c.x+a.Db.x;c=c.y+a.Db.y;return Math.max(0,Math.min(1,(Math.min(e+a.Rb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Xd,d.top+d.height)-Math.max(c,d.top))/(a.Rb*a.Xd)))}function fb(a){var c=a.Db.x;c=a.C.K?c-(a.Ne+a.Rb):c+a.Ne;a.moveTo(c,a.Jg+a.Db.y)}b.moveTo=function(a,c){this.qd.setAttribute("transform","translate("+a+","+c+")")};b.Lg=function(a){!a&&this.Jv&&this.Jv()};
function gb(a,c,d){var e=2*h.ua.ge;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Rb=c;a.Xd=d;a.Dm.setAttribute("width",c);a.Dm.setAttribute("height",d);a.Bf&&(a.C.K?a.Bf.setAttribute("transform","translate("+2*h.ua.ge+","+(d-e)+") scale(-1 1)"):a.Bf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.lp){c=kb(a.C.Th,!0);d=-a.Rb/4;if(!(a.Rb>c.width)){if(a.C.K){e=a.Db.x-d;var f=e-a.Rb;var g=c.left+c.width,k=c.left+h.Na.fd/a.C.scale}else f=d+a.Db.x,e=f+a.Rb,k=c.left,g=c.left+c.width-h.Na.fd/a.C.scale;
a.C.K?f<k?d=-(k-a.Db.x+a.Rb):e>g&&(d=-(g-a.Db.x)):f<k?d=k-a.Db.x:e>g&&(d=g-a.Db.x-a.Rb)}f=d;d=-a.Xd/4;if(!(a.Xd>c.height)){e=a.Db.y+d;g=e+a.Xd;k=c.top;var l=c.top+c.height-h.Na.fd/a.C.scale,m=a.Db.y;e<k?d=k-m:g>l&&(d=l-m-a.Xd)}k=d;g=a.VC.getBBox();d={x:f,y:-a.Xd-a.C.jb.aa().Rj};e={x:-a.Rb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=jb(a,d,c);l=jb(a,e,c);m=jb(a,f,c);c=Math.max(k,l,m,jb(a,g,c));k==c?(a.Ne=d.x,a.Jg=d.y):l==c?(a.Ne=e.x,a.Jg=e.y):m==c?(a.Ne=
f.x,a.Jg=f.y):(a.Ne=g.x,a.Jg=g.y)}fb(a);hb(a);a.pw&&a.pw()}
function hb(a){var c=[],d=a.Rb/2,e=a.Xd/2,f=-a.Ne,g=-a.Jg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.C.K&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=new h.g.Vc(a.Rb,a.Xd);m=(r.width+r.height)/h.ua.Vw;m=Math.min(m,r.width,r.height)/4;r=1-h.ua.Sw/k;f=d+r*f;g=e+r*g;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.Dz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ua.qs;k=Math.cos(n)*k/h.ua.qs;c.push("M"+
r+","+t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Vt.setAttribute("d",c.join(" "))}b.Oe=function(a){this.Dm.setAttribute("fill",a);this.Vt.setAttribute("fill",a)};b.H=function(){this.nr&&h.S.vb(this.nr);this.pr&&h.S.vb(this.pr);h.ua.fs();h.g.j.removeNode(this.qd);this.Ae=!0};b.$q=function(a,c){a?a.ki(c.x,c.y):this.moveTo(c.x,c.y);this.Ne=this.C.K?this.Db.x-c.x-this.Rb:c.x-this.Db.x;this.Jg=c.y-this.Db.y;hb(this)};
b.$a=function(){return new h.g.O(this.C.K?-this.Ne+this.Db.x-this.Rb:this.Db.x+this.Ne,this.Db.y+this.Jg)};h.ua.Se=function(a){var c=h.g.j.M(h.g.F.yt,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ua.ge},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.M(h.g.F.At,{dy:"1em",x:h.ua.ge},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.ua.bH=function(a,c,d){d=new h.ua(c.A,a,c.bb.ub,d,null,null);d.qd.dataset&&(d.qd.dataset.blockId=c.id);if(c.K){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.ua.ge)}return d};h.h.Ue=function(a){this.we=(this.ad="undefined"==typeof a)?"":a.id;this.Nb=this.ad?"":a.A.id;this.group=h.h.Mb();this.Ga=h.h.Ga};h.g.object.T(h.h.Ue,h.h.Abstract);h.h.Ue.prototype.oa=function(){var a=h.h.Ue.v.oa.call(this);this.we&&(a.commentId=this.we);return a};h.h.Ue.prototype.$=function(a){h.h.Ue.v.$.call(this,a);this.we=a.commentId};h.h.wi=function(a,c,d){h.h.wi.v.constructor.call(this,a);a&&(this.Fn="undefined"==typeof c?"":c,this.En="undefined"==typeof d?"":d)};h.g.object.T(h.h.wi,h.h.Ue);
b=h.h.wi.prototype;b.type=h.h.As;b.oa=function(){var a=h.h.wi.v.oa.call(this);a.oldContents=this.Fn;a.newContents=this.En;return a};b.$=function(a){h.h.wi.v.$.call(this,a);this.Fn=a.oldContents;this.En=a.newContents};b.lj=function(){return this.Fn==this.En};b.run=function(a){var c;(c=x(this).Km[this.we]||null)?c.XH(a?this.En:this.Fn):console.warn("Can't change non-existent comment: "+this.we)};h.h.Ve=function(a){h.h.Ve.v.constructor.call(this,a);a&&(this.xml=a.zw())};h.g.object.T(h.h.Ve,h.h.Ue);
h.h.Ve.prototype.type=h.h.fm;h.h.Ve.prototype.oa=function(){var a=h.h.Ve.v.oa.call(this);a.xml=h.I.Be(this.xml);return a};h.h.Ve.prototype.$=function(a){h.h.Ve.v.$.call(this,a);this.xml=h.I.Se(a.xml)};h.h.Ve.prototype.run=function(a){h.h.Es(this,a)};h.h.Es=function(a,c){var d=x(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.lg(c,d)):(d=d.Km[a.we]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.we)};
h.h.We=function(a){h.h.We.v.constructor.call(this,a);a&&(this.xml=a.zw())};h.g.object.T(h.h.We,h.h.Ue);h.h.We.prototype.type=h.h.Bs;h.h.We.prototype.oa=function(){return h.h.We.v.oa.call(this)};h.h.We.prototype.$=function(a){h.h.We.v.$.call(this,a)};h.h.We.prototype.run=function(a){h.h.Es(this,!a)};h.h.xi=function(a){h.h.xi.v.constructor.call(this,a);a&&(this.Dp=a,this.Xh=a.$u(),this.Uh=null)};h.g.object.T(h.h.xi,h.h.Ue);b=h.h.xi.prototype;
b.$h=function(){if(!this.Dp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Uh=this.Dp.$u();this.Dp=null};b.type=h.h.Ej;b.oa=function(){var a=h.h.xi.v.oa.call(this);this.Xh&&(a.oldCoordinate=Math.round(this.Xh.x)+","+Math.round(this.Xh.y));this.Uh&&(a.newCoordinate=Math.round(this.Uh.x)+","+Math.round(this.Uh.y));return a};
b.$=function(a){h.h.xi.v.$.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Xh=new h.g.O(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.Uh=new h.g.O(Number(c[0]),Number(c[1])))};b.lj=function(){return h.g.O.qf(this.Xh,this.Uh)};b.run=function(a){var c;if(c=x(this).Km[this.we]||null){a=a?this.Uh:this.Xh;var d=c.$u();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.we)};h.u.register(h.u.N.Bb,h.h.fm,h.h.Ve);
h.u.register(h.u.N.Bb,h.h.As,h.h.wi);h.u.register(h.u.N.Bb,h.h.Ej,h.h.xi);h.u.register(h.u.N.Bb,h.h.Bs,h.h.We);h.Bj=function(a,c){this.xb=a;this.C=c;this.ib=null;this.Vl=!1;this.Fd=this.xb.$a();this.uh=h.g.Jh()&&c.Wc?c.Wc:null};h.Bj.prototype.H=function(){this.uh=this.C=this.xb=null};function lb(a,c,d){d=a.pj(d);d=h.g.O.sum(a.Fd,d);a.xb.$q(a.uh,d);d=a.ib;a.ib=cb(a.C,c);c=a.Vl;a.Vl=a.Ur(a.ib);c!=a.Vl&&a.xb.Or(a.Vl);a.ib!==d&&(d&&d.WB(a.xb),a.ib&&a.ib.VB(a.xb));a.ib&&a.ib.XB(a.xb)}h.Bj.prototype.Ur=function(a){return a&&ca(this.C.jk,a.id)?a.uD(this.xb,!1):!1};
function mb(a,c,d){lb(a,c,d);a.ib&&a.ib.WC(a.xb)?c=a.Fd:(c=a.pj(d),c=h.g.O.sum(a.Fd,c));a.xb.moveTo(c.x,c.y);a.ib&&a.ib.YB(a.xb);a.Vl?(a.Ck(),a.xb.H(!1,!0)):(a.uh&&a.uh.Gm(a.C.Gf),a.xb.Lg&&a.xb.Lg(!1),a.Ck());a.C.Oc(!0);h.h.qa(!1)}h.Bj.prototype.Ck=function(){if(this.xb.wH){var a=new (h.h.get(h.h.Ej))(this.xb);a.Xh=this.Fd;a.$h();h.h.Ha(a)}};h.Bj.prototype.pj=function(a){a=new h.g.O(a.x/this.C.scale,a.y/this.C.scale);this.C.rn&&a.scale(1/this.C.options.Lc.scale);return a};h.h.Mf=function(a,c,d){h.h.Mf.v.constructor.call(this,a?a.A.id:c);this.Ya=a?a.id:null;this.xw=d};h.g.object.T(h.h.Mf,h.h.se);h.h.Mf.prototype.type=h.h.Dj;h.h.Mf.prototype.oa=function(){var a=h.h.Mf.v.oa.call(this);a.targetType=this.xw;this.Ya&&(a.blockId=this.Ya);return a};h.h.Mf.prototype.$=function(a){h.h.Mf.v.$.call(this,a);this.xw=a.targetType;this.Ya=a.blockId};h.u.register(h.u.N.Bb,h.h.Dj,h.h.Mf);h.ck=function(a){this.C=a;this.mv=nb(this.C);this.Lw=ob(this.C);this.dD=new h.g.O(a.scrollX,a.scrollY)};h.ck.prototype.H=function(){this.C=null};h.ck.prototype.Fl=function(){h.selected&&pb(h.selected);Fa(this.C)};h.ck.prototype.zk=function(a){this.Ce(a);Ga(this.C)};
h.ck.prototype.Ce=function(a){a=h.g.O.sum(this.dD,a);if(this.mv&&this.Lw)this.C.scroll(a.x,a.y);else if(this.mv)this.C.scroll(a.x,this.C.scrollY);else if(this.Lw)this.C.scroll(this.C.scrollX,a.y);else throw new TypeError("Invalid state.");};h.oe=function(a,c){this.Gv=null;this.xc=new h.g.O(0,0);this.yb=this.Yb=this.tj=this.uj=this.gd=null;this.Hp=c;this.Rk=this.Kh=this.Sk=this.Bh=!1;this.yd=a;this.xa=this.pi=this.ve=this.fg=this.In=this.Hn=null;this.pn=this.gj=this.Yt=!1;this.fv=!h.xx};b=h.oe.prototype;b.H=function(){h.Touch.Hm();h.G.pD();this.Hp.ec=null;this.Hn&&h.S.vb(this.Hn);this.In&&h.S.vb(this.In);this.ve&&this.ve.H();this.pi&&this.pi.H();this.fg&&this.fg.H()};
function qb(a,c){a.xc=h.g.O.Um(new h.g.O(c.clientX,c.clientY),a.Gv);if(a.Bh)var d=!1;else a.Bh=h.g.O.GB(a.xc)>(a.xa?h.Wx:h.wx),d=a.Bh;if(d){if(a.Yt)throw Error("updateIsDragging_ should only be called once per gesture.");a.Yt=!0;a.gd?(a.Rk=!0,a.fg=new h.Bj(a.gd,a.yb),d=a.fg,h.h.Mb()||h.h.qa(!0),d.C.Oc(!1),d.xb.lp=!1,d.uh&&(d.xb.moveTo(0,0),d.uh.ki(d.Fd.x,d.Fd.y),oa(d.uh,d.xb.ya())),d.xb.Lg&&d.xb.Lg(!0),lb(a.fg,a.yd,a.xc),d=!0):d=!1;if(!d){a.Yb?(a.xa?(a.Yb&&a.xa.uH(a.Yb)?!a.xa.BB()||a.xa.zH(a.xc)?
(a.yb=a.xa.bo,rb(a.yb),h.h.Mb()||h.h.qa(!0),a.tj=null,a.Yb=a.xa.fA(a.Yb),a.Yb.select(),d=!0):d=!1:d=!1,a.Kh=d):a.Yb.ic()&&(a.Kh=!0),a.Kh?(a.ve=new (h.u.wh(h.u.N.vs,a.Hp.options,!0))(a.Yb,a.yb),a.ve.Fl(a.xc,a.fv),a.ve.Ce(a.yd,a.xc),d=!0):d=!1):d=!1;if(d=!d)if(a.xa)d=a.xa.BB();else if(d=a.yb)d=a.yb,d=d.options.Wb&&d.options.Wb.Ce;d&&(a.pi=new h.ck(a.yb),a.Sk=!0,a.pi.Fl())}h.zg()}a.yd=c}
b.Wp=function(a){h.g.sn(a)?this.cancel():(this.gj=!0,h.Sa.Up(),rb(this.yb),this.yb.rn&&this.yb.resize(),h.hc(!!this.xa),fa(this.yb),this.yd=a,h.G.block(),this.Yb&&this.Yb.select(),h.g.Vk(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.FB(a,this),this.Gv=new h.g.O(a.clientX,a.clientY),this.fv=a.altKey||a.ctrlKey||a.metaKey,this.fk(a)))};
b.fk=function(a){this.Hn=h.S.Ka(document,"mousemove",null,this.ej.bind(this));this.In=h.S.Ka(document,"mouseup",null,this.jn.bind(this));a.preventDefault();a.stopPropagation()};b.ej=function(a){qb(this,a);this.Sk?this.pi.Ce(this.xc):this.Kh?this.ve.Ce(this.yd,this.xc):this.Rk&&lb(this.fg,this.yd,this.xc);a.preventDefault();a.stopPropagation()};
b.jn=function(a){qb(this,a);h.zg();if(this.pn)console.log("Trying to end a gesture recursively.");else{this.pn=!0;if(this.Rk)mb(this.fg,a,this.xc);else if(this.Kh)this.ve.zk(a,this.xc);else if(this.Sk)this.pi.zk(this.xc);else if(this.gd&&!this.Bh)this.gd.TC&&this.gd.TC(),this.gd.select&&this.gd.select();else if(sb(this)){var c=this.uj,d=this.yd;J(c)&&c.Zn(d);tb(this)}else!this.tj||this.Bh||sb(this)?this.tj||this.gd||this.uj||this.Bh||(c=this.Hp,h.selected&&pb(h.selected),c=this.yb||c,h.h.Ha(new (h.h.get(h.h.Dj))(null,
c.id,"workspace"))):(this.xa&&this.xa.St?this.Yb.isEnabled()&&(h.h.Mb()||h.h.qa(!0),eb(this.xa.fA(this.Yb))):(c=new (h.h.get(h.h.Dj))(this.tj,this.yb.id,"block"),h.h.Ha(c)),tb(this),h.h.qa(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.pn||(h.zg(),this.Rk?mb(this.fg,this.yd,this.xc):this.Kh?this.ve.zk(this.yd,this.xc):this.Sk&&this.pi.zk(this.xc),this.H())};
function ba(a,c){a.Yb?(tb(a),h.hc(!!a.xa),a.Yb.Bl(c)):a.gd?a.gd.Bl(c):a.yb&&!a.xa&&(h.hc(),a.yb.Bl(c));c.preventDefault();c.stopPropagation();a.H()}function tb(a){a.Yb&&!a.xa&&bb(a.Yb)}function ub(a,c){c.Ea?ub(a,c.getParent()):a.Yb=c}function sb(a){return(a.uj?J(a.uj):!1)&&!a.Bh&&(!a.xa||!a.xa.St)}b.bd=function(){return this.Sk||this.Kh||this.Rk};b.aj=function(){return this.ve?this.ve.aj():[]};h.oe.Hh=function(){for(var a=h.eb.getAll(),c=0,d;d=a[c];c++)if(d.ec)return!0;return!1};h.XE=function(){};h.qm=function(){this.ud=this.Rd=this.gb=null;this.type="marker"};function vb(a,c){var d=a.Rd;a.Rd=c;a.ud&&a.ud.draw(d,a.Rd)}h.qm.prototype.draw=function(){this.ud&&this.ud.draw(this.Rd,this.Rd)};h.qm.prototype.sb=function(){this.ud&&this.ud.sb()};h.qm.prototype.H=function(){this.ud&&this.ud.H()};h.Nf=function(){h.Nf.v.constructor.call(this);this.type="cursor"};h.g.object.T(h.Nf,h.qm);h.Nf.prototype.next=function(){var a=this.Rd;if(!a)return null;for(a=a.next();a&&a.next()&&(a.lb()==h.D.types.Vf||a.lb()==h.D.types.Kb);)a=a.next();a&&vb(this,a);return a};h.Nf.prototype.qg=function(){var a=this.Rd;if(!a)return null;if(a.lb()==h.D.types.Xf||a.lb()==h.D.types.hh)a=a.next();(a=a.qg())&&vb(this,a);return a};
h.Nf.prototype.Ig=function(){var a=this.Rd;if(!a)return null;for(a=a.Ig();a&&a.Ig()&&(a.lb()==h.D.types.Vf||a.lb()==h.D.types.Kb);)a=a.Ig();a&&vb(this,a);return a};h.Nf.prototype.Fg=function(){var a=this.Rd;if(!a)return null;(a=a.Fg())&&a.lb()==h.D.types.Kb&&(a=a.Ig()||a);a&&vb(this,a);return a};h.u.register(h.u.N.Gj,h.u.Hj,h.Nf);h.Tj=function(a){this.pf=this.td=null;this.al=Object.create(null);this.C=a};h.Tj.at="local_marker_1";b=h.Tj.prototype;b.Hk=function(){return this.td};b.Jk=function(a){return this.al[a]||null};b.Cf=function(a){a?(this.C.zb.appendChild(a),this.pf=a):this.pf=null};b.Ng=function(a){a?this.C.zb&&(this.pf?this.C.zb.insertBefore(a,this.pf):this.C.zb.appendChild(a)):this.zf=null};
b.H=function(){for(var a=Object.keys(this.al),c=0,d;d=a[c];c++){var e=this.al[d];if(e)e.H(),delete this.al[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.al=null;this.td&&(this.td.H(),this.td=null)};h.Y={};h.Y.Ad=null;h.Y.Wm=null;h.Y.ae="";h.Y.ce="";h.Y.hb=function(){h.Y.Ra||(h.Y.Ra=document.createElement("div"),h.Y.Ra.className="blocklyWidgetDiv",(h.Jn||document.body).appendChild(h.Y.Ra))};h.Y.show=function(a,c,d){h.Y.sb();h.Y.Ad=a;h.Y.Wm=d;a=h.Y.Ra;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.yh();h.Y.ae=c.jb.Td();h.Y.ce=c.tf().Td();h.g.j.Cb(a,h.Y.ae);h.g.j.Cb(a,h.Y.ce)};
h.Y.sb=function(){if(h.Y.isVisible()){h.Y.Ad=null;var a=h.Y.Ra;a.style.display="none";a.style.left="";a.style.top="";h.Y.Wm&&h.Y.Wm();h.Y.Wm=null;a.textContent="";h.Y.ae&&(h.g.j.Mc(a,h.Y.ae),h.Y.ae="");h.Y.ce&&(h.g.j.Mc(a,h.Y.ce),h.Y.ce="");fa(h.yh())}};h.Y.isVisible=function(){return!!h.Y.Ad};h.Y.Ok=function(a){h.Y.Ad==a&&h.Y.sb()};h.Y.ql=function(a,c,d){h.Y.Ra.style.left=a+"px";h.Y.Ra.style.top=c+"px";h.Y.Ra.style.height=d+"px"};
h.Y.lC=function(a,c,d,e){var f=h.Y.Nz(a,c,d);a=h.Y.Mz(a,c,d,e);0>f?h.Y.ql(a,0,d.height+f):h.Y.ql(a,f,d.height)};h.Y.Mz=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Y.Nz=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.kd=function(a,c,d){this.Te=this.uo;this.Cw=this.Kw=null;this.mc=new h.g.Vc(0,0);this.o=this.Zq=this.gi=this.nc=this.Eb=this.Ic=this.zf=this.pf=null;d&&this.kk(d);this.setValue(a);c&&(this.Kw=c)};b=h.kd.prototype;b.uo=null;b.name=void 0;b.Ae=!1;b.Fv=50;b.J=null;b.tg=!0;b.Tg=!0;b.cu=null;h.kd.et="\u00a0";b=h.kd.prototype;b.Ij=!0;b.qt=!1;b.kk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Nc(a.tooltip));c&&this.Pg(c)};
b.aa=function(){!this.o&&this.J&&this.J.A&&this.J.A.pa&&(this.o=this.J.A.jb.aa());return this.o};b.W=function(){return this.J};b.Va=function(){this.Ic||(this.Ic=h.g.j.M(h.g.F.Sc,{},null),this.isVisible()||(this.Ic.style.display="none"),this.J.ya().appendChild(this.Ic),this.ln(),wb(this),this.Pg(this.Cw),h.G.fk(ea(this)),this.Zq=h.S.Ka(ea(this),"mousedown",this,this.jl))};b.ln=function(){xb(this);yb(this)};
function xb(a){a.Eb=h.g.j.M(h.g.F.Tb,{rx:a.aa().km,ry:a.aa().km,x:0,y:0,height:a.mc.height,width:a.mc.width,"class":"blocklyFieldRect"},a.Ic)}function yb(a){a.nc=h.g.j.M(h.g.F.yt,{"class":"blocklyText"},a.Ic);a.aa().xo&&a.nc.setAttribute("dominant-baseline","central");a.gi=document.createTextNode("");a.nc.appendChild(a.gi)}b.Fk=function(a){this.setValue(a.textContent)};b.H=function(){h.B.Ok(this);h.Y.Ok(this);h.G.Ew(ea(this));this.Zq&&h.S.vb(this.Zq);h.g.j.removeNode(this.Ic);this.Ae=!0};
function wb(a){var c=a.Ic;a.Ij&&c&&(a.J.wd()?(h.g.j.Cb(c,"blocklyEditableText"),h.g.j.Mc(c,"blocklyNonEditableText"),c.style.cursor=a.Gj):(h.g.j.Cb(c,"blocklyNonEditableText"),h.g.j.Mc(c,"blocklyEditableText"),c.style.cursor=""))}function J(a){return!!a.J&&a.J.wd()&&!!a.Zn&&"function"===typeof a.Zn}b.isVisible=function(){return this.Tg};b.Xb=function(a){if(this.Tg!=a){this.Tg=a;var c=this.ya();c&&(c.style.display=a?"block":"none")}};b.ya=function(){return this.Ic};b.Vb=function(){};
b.Jr=function(){this.gi&&(this.gi.nodeValue=zb(this));this.Iw()};b.Iw=function(){var a=this.aa(),c=this.Eb?this.aa().Jj:0,d=2*c,e=a.lm,f=0;this.nc&&(f=h.g.j.pq(this.nc,a.dh,a.Pf,a.Of),d+=f);this.Eb&&(e=Math.max(e,a.Ks));this.mc.height=e;this.mc.width=d;Ab(this,c,f);Bb(this)};function Ab(a,c,d){if(a.nc){var e=a.aa(),f=a.mc.height/2;a.nc.setAttribute("x",a.J.K?a.mc.width-d-c:c);a.nc.setAttribute("y",e.xo?f:f-e.lm/2+e.wo)}}
function Bb(a){a.Eb&&(a.Eb.setAttribute("width",a.mc.width),a.Eb.setAttribute("height",a.mc.height),a.Eb.setAttribute("rx",a.aa().km),a.Eb.setAttribute("ry",a.aa().km))}b.sf=function(){if(!this.isVisible())return new h.g.Vc(0,0);this.tg?(this.Jr(),this.tg=!1):this.Tg&&0==this.mc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Jr());return this.mc};
function zb(a){var c=Ua(a);if(!c)return h.kd.et;c.length>a.Fv&&(c=c.substring(0,a.Fv-2)+"\u2026");c=c.replace(/\s/g,h.kd.et);a.J&&a.J.K&&(c+="\u200f");return c}function Ua(a){if(a.xq){var c=a.xq.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.$k=function(){this.tg=!0;this.o=null};function Cb(a){a.tg=!0;a.J&&a.J.pa&&(a.J.Da(),a.J.Hc(),a.js())}
b.setValue=function(a){if(null!==a){var c=this.Xm(a);a=Db(this,a,c);if(!(a instanceof Error)){if(c=this.Kw)if(c=c.call(this,a),a=Db(this,a,c),a instanceof Error)return;c=this.J;if(!c||!c.Ae){var d=this.getValue();d===a?this.xk(a):(c&&h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.Vg))(c,"field",this.name||null,d,a)),this.xk(a),this.tg&&Cb(this))}}}};function Db(a,c,d){if(null===d)return a.tg&&Cb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Te};
b.Xm=function(a){return null===a||void 0===a?null:a};b.xk=function(a){this.Te=a;this.tg=!0};b.jl=function(a){if(this.J&&this.J.A&&(a=ib(this.J.A,a))){if(a.gj)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.uj||(a.uj=this)}};b.Pg=function(a){a||""===a||(a=this.J);var c=ea(this);c?c.ee=a:this.Cw=a};function ea(a){return a.cu||a.ya()}
b.Ge=function(){for(var a=null,c=this.J,d=c.R,e=0;e<c.R.length;e++)for(var f=d[e],g=f.Ua,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Pu=function(){return!1};b.Cf=function(a){a?(this.Ic.appendChild(a),this.pf=a):this.pf=null};b.Ng=function(a){a?(this.Ic.appendChild(a),this.zf=a):this.zf=null};b.js=function(){var a=this.J.A;a.Xk&&this.pf&&a.Hk().draw();a.Xk&&this.zf&&a.Jk(h.Tj.at).draw()};h.Rc=function(a,c,d){this.Fm=null;h.Rc.v.constructor.call(this,a,null,d);d||(this.Fm=c||null)};h.g.object.T(h.Rc,h.kd);h.Rc.prototype.uo="";h.Rc.$=function(a){var c=h.g.Nc(a.text);return new h.Rc(c,void 0,a)};h.Rc.prototype.Ij=!1;h.Rc.prototype.kk=function(a){h.Rc.v.kk.call(this,a);this.Fm=a["class"]};h.Rc.prototype.ln=function(){yb(this);this.Fm&&h.g.j.Cb(this.nc,this.Fm)};h.Rc.prototype.Xm=function(a){return null===a||void 0===a?null:String(a)};h.mg.register("field_label",h.Rc);h.Ys=function(a,c,d,e){if(a!=h.Ia.me&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.J=d;this.connection=e;this.Ua=[]};b=h.Ys.prototype;b.align=h.ab.Id.Md;b.Tg=!0;b.W=function(){return this.J};function N(a,c,d){Eb(a,a.Ua.length,c,d);return a}
function Eb(a,c,d,e){if(0>c||c>a.Ua.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.mg.$({type:"field_label",text:d}));if(d.J)throw Error("Field already bound to a block.");d.J=a.J;a.J.pa&&(d.Va(),d.Vb());d.name=e;d.Xb(a.isVisible());d.Br&&(c=Eb(a,c,d.Br));a.Ua.splice(c,0,d);++c;d.$r&&(c=Eb(a,c,d.$r));a.J.pa&&(a.J=a.J,a.J.Da(),a.J.Hc());return c}b.isVisible=function(){return this.Tg};
b.Xb=function(a){if(this.Tg!=a){this.Tg=a;for(var c=0,d;d=this.Ua[c];c++)d.Xb(a);if(this.connection){this.connection=this.connection;if(a)Fb(this.connection);else if(c=this.connection,O(c,!1),c.va)for(c=p(c.ta(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.Ud(!0),g=0;g<f.length;g++)O(f[g],!1);e=L(e);for(g=0;g<e.length;g++)e[g].Xb(!1)}if(c=this.connection.ta())c.ya().style.display=a?"block":"none"}}};b.$k=function(){for(var a=0,c;c=this.Ua[a];a++)c.$k()};
b.rj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.rj(a)};function Gb(a,c){a.align=c;a.J.pa&&(a.J=a.J,a.J.Da());return a}b.zl=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.zl(a)};b.cj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.cj()};b.Va=function(){if(this.J.A.pa)for(var a=0;a<this.Ua.length;a++)this.Ua[a].Va()};
b.H=function(){for(var a=0,c;c=this.Ua[a];a++)c.H();this.connection&&this.connection.H();this.J=null};h.ui=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Jc(d)?d:h.g.rf();a.op[this.id]=this;this.X=this.ba=this.P=null;this.R=[];this.uf=void 0;this.disabled=!1;this.ee="";this.contextMenu=!0;this.Me=null;this.jf=[];this.Fu=this.Iv=this.Kp=!0;this.oh=this.Ea=!1;this.qh=null;this.lf={text:null,cw:!1,size:new h.g.Vc(160,80)};this.Qw=new h.g.O(0,0);this.A=a;this.cd=a.ug;this.K=
a.K;this.kj=!1;this.He=void 0;this.pa=null;if(c){this.type=c;d=h.$b[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Bg(this,d)}a.zm(this);a.Jf[this.type]||(a.Jf[this.type]=[]);a.Jf[this.type].push(this);(a=h.h.Mb())||h.h.qa(!0);c=h.h.Ga;try{"function"==typeof this.Va&&(h.h.Ga=!1,this.Va(),h.h.Ga=c),h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.si))(this))}finally{a||h.h.qa(!1),h.h.Ga=c}this.uB=this.uf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.kl&&h.g.ek(this.A.xf,this.kl);if(this.onchange=a)this.kl=a.bind(this),this.A.xf.push(this.kl)}};h.ui.em=h.ab.em;h.ui.dm=h.ab.dm;b=h.ui.prototype;b.data=null;b.Ae=!1;b.rd="#000000";b.Il="";
b.H=function(a){if(this.A){this.kl&&h.g.ek(this.A.xf,this.kl);C(this,a);h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.us))(this));h.h.disable();try{if(this.A){this.A.Pn(this);var c=this.A;c.Jf[this.type].splice(c.Jf[this.type].indexOf(this),1);c.Jf[this.type].length||delete c.Jf[this.type];delete this.A.op[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.jf.length-1;0<=d;d--)this.jf[d].H(!1);d=0;for(var e;e=this.R[d];d++)e.H();this.R.length=0;var f=this.Ud(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Ae=!0}}};function C(a,c){if(a.P){var d=null;a.P.isConnected()&&(d=a.P.va,a.P.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.R.length;e++){var f=a.R[e].connection;if(f&&f.type==h.U.Ob&&f.va){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.ta().Ea&&(c=c.va,c.disconnect(),H(a.A.mf,c,d,!1)?d.connect(c):c.lr(d))}}else a.X&&(d=null,a.X.isConnected()&&(d=a.X.va,a.X.disconnect()),e=u(a),c&&e&&!e.Ea&&(c=a.ba.va,c.disconnect(),d&&H(a.A.mf,d,c,!1)&&d.connect(c)))}
b.Ud=function(){var a=[];this.P&&a.push(this.P);this.X&&a.push(this.X);this.ba&&a.push(this.ba);for(var c=0,d;d=this.R[c];c++)d.connection&&a.push(d.connection);return a};b.vn=function(a){for(var c=this.ba;c;){var d=c.ta();if(!d||a&&d.Ea)return c;c=d.ba}return null};b.Hc=function(){};b.getParent=function(){return this.Me};function na(a,c){for(var d=0,e;e=a.R[d];d++)if(e.connection&&e.connection.ta()==c)return e;return null}
function Hb(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.ba&&a.ba.ta()}b.Wd=function(){var a=this;do{var c=a;a=c.Me}while(a);return c};function z(a,c){if(!c)return a.jf;c=[];for(var d=0,e;e=a.R[d];d++)e.connection&&(e=e.connection.ta())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.Vn=function(a){if(a!=this.Me){if(this.Me){h.g.ek(this.Me.jf,this);if(this.X&&this.X.isConnected())throw Error("Still connected to previous block.");if(this.P&&this.P.isConnected())throw Error("Still connected to parent block.");this.Me=null}else this.A.Pn(this);(this.Me=a)?a.jf.push(this):this.A.zm(this)}};function p(a,c){var d=[a];a=z(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.sg=function(){return this.Kp&&!this.Ea&&!(this.A&&this.A.options.readOnly)};
b.ic=function(){return this.Iv&&!this.Ea&&!(this.A&&this.A.options.readOnly)};b.Qr=function(a){this.Iv=a};b.Sr=function(a){this.Ea=a};b.xd=function(){return this.kj};b.rw=function(a){this.kj=a};b.wd=function(){return this.Fu&&!(this.A&&this.A.options.readOnly)};b.Pr=function(a){this.Fu=a;a=0;for(var c;c=this.R[a];a++)for(var d=0,e;e=c.Ua[d];d++)wb(e)};
b.rq=function(a,c){var d=this.Ud(!0);a=a.Ud(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Pg=function(a){this.ee=a};b.nq=function(){return this.rd};b.Oe=function(a){this.rd=h.g.Kn(a).Nk};b.di=function(a){this.Il=a};
function B(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.Ua[f];f++)if(g.name===c)return g;return null}function la(a){for(var c=0,d;d=a.R[c];c++)for(var e=0;d.Ua[e];e++);return[]}function Ka(a,c){return(a=B(a,c))?a.getValue():null}
function Ib(a,c){a=B(a,"NAME");if(!a)throw Error('Field "NAME" not found.');a.setValue(c)}b.Wn=function(a,c){if(a){void 0===c&&(c=null);if(!this.X){if(this.P)throw Error("Remove output connection prior to adding previous connection.");this.X=this.Zk(h.U.Tc)}this.X.rj(c)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.X.H();this.X=null}};
b.Tn=function(a,c){if(a)void 0===c&&(c=null),this.ba||(this.ba=this.Zk(h.U.Pb)),this.ba.rj(c);else if(this.ba){if(this.ba.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ba.H();this.ba=null}};
b.Un=function(a,c){if(a){void 0===c&&(c=null);if(!this.P){if(this.X)throw Error("Remove previous connection prior to adding output connection.");this.P=this.Zk(h.U.Dc)}this.P.rj(c)}else if(this.P){if(this.P.isConnected())throw Error("Must disconnect output value before removing connection.");this.P.H();this.P=null}};b.Mg=function(a){this.uf!=a&&(h.h.Ha(new (h.h.get(h.h.Vg))(this,"inline",null,this.uf,a)),this.uf=a)};
function Va(a){if(void 0!=a.uf)return a.uf;for(var c=1;c<a.R.length;c++)if(a.R[c-1].type==h.Ia.me&&a.R[c].type==h.Ia.me)return!1;for(c=1;c<a.R.length;c++)if(a.R[c-1].type==h.Ia.te&&a.R[c].type==h.Ia.me)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Df=function(a){this.isEnabled()!=a&&(h.h.Ha(new (h.h.get(h.h.Vg))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Jb(a){for(a=Hb(a);a;){if(a.disabled)return!0;a=Hb(a)}return!1}b.isCollapsed=function(){return this.oh};
b.ci=function(a){this.oh!=a&&(h.h.Ha(new (h.h.get(h.h.Vg))(this,"collapsed",null,this.oh,a)),this.oh=a)};
b.toString=function(a,c){function d(n){var q=n.Pi;!q&&n.va&&(q=n.va.Pi);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.lb()==l.lb()&&k.za==l.za&&(k=null)}var f=[];c=c||"?";var g=h.D.Uf;h.D.Uf=!0;for(var k=h.D.jg(this),l=k;k;){switch(k.lb()){case h.D.types.ld:var m=k.za;k.qg()?d(m)&&f.push("("):f.push(c);break;case h.D.types.rc:m=k.za,m.name!=h.ab.dm&&f.push(Ua(m))}m=k;k=m.qg()||m.next();if(!k){k=m.Fg();for(e();k&&!k.next();)k=k.Fg(),e(),k&&k.lb()==h.D.types.ld&&d(k.za)&&
f.push(")");k&&(k=k.next())}}h.D.Uf=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Kb(a,c){return a.nh(h.Ia.me,c||"")}
b.Bg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Bg(this,a)};function Lb(a,c){var d=h.mg.$(c);return!d&&c.alt?"string"==typeof c.alt?(c=Mb(c.alt))?Lb(a,c):null:Lb(a,c.alt):d}function Nb(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function Mb(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.nh=function(a,c){var d=null;if(a==h.Ia.te||a==h.Ia.Uc)d=this.Zk(a);a=new h.Ys(a,c,this,d);this.R.push(a);return a};b.Hr=function(a,c){for(var d=0,e;e=this.R[d];d++)if(e.name==a)return e.H(),this.R.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ka(a,c){for(var d=0,e;e=a.R[d];d++)if(e.name==c)return e;return null}
b.sj=function(a){this.lf.text!=a&&(h.h.Ha(new (h.h.get(h.h.Vg))(this,"comment",null,this.lf.text,a)),this.qh=this.lf.text=a)};b.sw=function(){};b.$a=function(){return this.Qw};b.moveBy=function(a,c){if(this.Me)throw Error("Block has parent.");var d=new (h.h.get(h.h.Wg))(this);this.Qw.translate(a,c);d.$h();h.h.Ha(d)};b.Zk=function(a){return new h.sa(this,a)};h.i.WE=function(){};h.g.ca={BG:0,fF:3,Xw:8,hG:9,rF:12,Fx:13,tm:16,$g:17,ri:18,MF:19,JD:20,Gx:27,Yy:32,Hy:33,Gy:34,Ex:35,Zx:36,Md:37,iz:38,af:39,vx:40,PF:43,SF:44,UE:45,ah:46,ZERO:48,ONE:49,tG:50,iG:51,zE:52,xE:53,dG:54,bG:55,cE:56,pF:57,vE:59,tE:61,sE:173,uE:163,TF:63,CD:64,yD:65,DD:66,po:67,SD:68,E:69,fE:70,Sc:71,DE:72,FE:73,YE:74,ZE:75,$E:76,eF:77,oF:78,HF:79,LF:80,Q:81,UF:82,YF:83,gG:84,uG:85,ep:86,yG:87,gp:88,mz:89,Li:90,Bi:91,CG:92,RD:93,GF:96,zF:97,FF:98,EF:99,vF:100,uF:101,DF:102,CF:103,tF:104,yF:105,xF:106,BF:107,
wF:109,AF:110,sF:111,gE:112,kE:113,lE:114,mE:115,nE:116,oE:117,pE:118,qE:119,rE:120,hE:121,iE:122,jE:123,qF:144,ZF:145,wE:166,bF:183,$F:186,TD:189,dE:187,QD:188,NF:190,eG:191,BD:192,jG:192,cG:222,IF:219,ED:220,ND:221,AG:224,gF:224,hF:91,iF:93,zG:229,xG:252,OF:255};h.Lo=function(){this.Zd=[];this.bi=this.Ta=this.Gn=this.Cn=this.Bn=this.kf=this.Dn=this.Eh=this.rr=null};b=h.Lo.prototype;
b.Da=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.bi&&h.g.pb.Og(c,this.bi);this.Ta=c;for(var d=0,e;e=this.Zd[d];d++)c.appendChild(e.hb());this.Dn=h.S.Ka(c,"mouseover",this,this.iB,!0);this.kf=h.S.Ka(c,"click",this,this.dB,!0);this.Bn=h.S.Ka(c,"mouseenter",this,this.gB,!0);this.Cn=h.S.Ka(c,"mouseleave",this,this.hB,!0);this.Gn=h.S.Ka(c,"keydown",this,this.eB);a.appendChild(c)};
b.focus=function(){var a=this.Ta;a&&(a.focus({preventScroll:!0}),h.g.j.Cb(a,"blocklyFocused"))};b.Og=function(a){this.bi=a};b.H=function(){this.Dn&&(h.S.vb(this.Dn),this.Dn=null);this.kf&&(h.S.vb(this.kf),this.kf=null);this.Bn&&(h.S.vb(this.Bn),this.Bn=null);this.Cn&&(h.S.vb(this.Cn),this.Cn=null);this.Gn&&(h.S.vb(this.Gn),this.Gn=null);for(var a=0,c;c=this.Zd[a];a++)c.H();this.Ta=null};
function Ob(a,c){for(var d=a.Ta;c&&c!=d;){if(h.g.j.Aq(c,"blocklyMenuItem"))for(var e=0,f;f=a.Zd[e];e++)if(f.Ta==c)return f;c=c.parentElement}return null}b.Ef=function(a){var c=this.Eh;c&&(c.Ef(!1),this.Eh=null);a&&(a.Ef(!0),this.Eh=a,c=this.Ta,h.g.style.PC(a.Ta,c),h.g.pb.Xn(c,h.g.pb.State.Rw,a.zc()))};function Pb(a,c,d){c+=d;for(var e;e=a.Zd[c];){if(e.isEnabled()){a.Ef(e);break}c+=d}}b.iB=function(a){(a=Ob(this,a.target))&&(a.isEnabled()?this.Eh!=a&&this.Ef(a):this.Ef(null))};
b.dB=function(a){var c=this.rr;this.rr=null;c&&"number"==typeof a.clientX&&1>h.g.O.Vp(c,new h.g.O(a.clientX,a.clientY))||(a=Ob(this,a.target))&&a.isEnabled()&&a.dk&&a.dk(a)};b.gB=function(){this.focus()};b.hB=function(){if(this.Ta){var a=this.Ta;a&&(a.blur(),h.g.j.Mc(a,"blocklyFocused"));this.Ef(null)}};
b.eB=function(a){if(this.Zd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Eh;switch(a.keyCode){case h.g.ca.Fx:case h.g.ca.Yy:c&&c.isEnabled()&&c.dk&&c.dk(c);break;case h.g.ca.iz:c=this.Zd.indexOf(this.Eh);Pb(this,0>c?this.Zd.length:c,-1);break;case h.g.ca.vx:Pb(this,this.Zd.indexOf(this.Eh),1);break;case h.g.ca.Hy:case h.g.ca.Zx:Pb(this,-1,1);break;case h.g.ca.Gy:case h.g.ca.Ex:Pb(this,this.Zd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.sf=function(){var a=this.Ta,c=h.g.style.sf(a);c.height=a.scrollHeight;return c};h.Mo=function(a,c){this.nf=a;this.Te=c;this.an=!0;this.Ta=null;this.Nr=!1;this.bi=null;this.jv=this.Ap=this.zp=!1;this.dk=null};b=h.Mo.prototype;
b.hb=function(){var a=document.createElement("div");a.id=h.g.Oj.Ru();this.Ta=a;a.className="blocklyMenuItem goog-menuitem "+(this.an?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Ap?"blocklyMenuItemSelected goog-option-selected ":"")+(this.jv?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Nr?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.zp){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.nf;"string"==typeof this.nf&&(d=document.createTextNode(this.nf));c.appendChild(d);a.appendChild(c);this.bi&&h.g.pb.Og(a,this.bi);h.g.pb.Xn(a,h.g.pb.State.Fi,this.zp&&this.Ap||!1);h.g.pb.Xn(a,h.g.pb.State.ux,!this.an);return a};b.H=function(){this.Ta=null};b.zc=function(){return this.Ta.id};b.getValue=function(){return this.Te};b.Og=function(a){this.bi=a};
b.Ef=function(a){this.jv=a;var c=this.Ta;c&&this.isEnabled()&&(a?(h.g.j.Cb(c,"blocklyMenuItemHighlight"),h.g.j.Cb(c,"goog-menuitem-highlight")):(h.g.j.Mc(c,"blocklyMenuItemHighlight"),h.g.j.Mc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.an};b.Df=function(a){this.an=a};function Qb(a,c,d){a.dk=c.bind(d)};h.Ja={};h.Ja.Pm=null;h.Ja.Bc=null;h.Ja.show=function(a,c,d){h.Y.show(h.Ja,d,h.Ja.H);if(c.length){var e=h.Ja.kC(c,d);h.Ja.Bc=e;h.Ja.mC(e,a,d);setTimeout(function(){e.focus()},1);h.Ja.Pm=null}else h.Ja.sb()};h.Ja.kC=function(a,c){var d=new h.Lo;d.Og(h.g.pb.rm.wy);for(var e=0,f;f=a[e];e++){var g=new h.Mo(f.text);g.Nr=c;g.Og(h.g.pb.rm.xy);d.Zd.push(g);g.Df(f.enabled);f.enabled&&Qb(g,function(){h.Ja.sb();this.Za(this.scope)},f)}return d};
h.Ja.mC=function(a,c,d){var e=h.g.aB();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ja.jA(a);var f=a.sf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Y.lC(e,c,f,d);a.focus()};h.Ja.jA=function(a){a.Da(h.Y.Ra);var c=a.Ta;h.g.j.Cb(c,"blocklyContextMenu");h.S.Ka(c,"contextmenu",null,h.g.TB);a.focus()};h.Ja.sb=function(){h.Y.Ok(h.Ja);h.Ja.Pm=null};h.Ja.H=function(){h.Ja.Bc&&(h.Ja.Bc.H(),h.Ja.Bc=null)};
h.Ja.PG=function(a,c){return function(){h.h.disable();try{var d=h.I.Ym(c,a.A),e=a.$a();e.x=a.K?e.x-h.ac:e.x+h.ac;e.y+=2*h.ac;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ea&&h.h.Ha(new (h.h.get(h.h.si))(d));d.select()}};h.Ja.UG=function(a){return{text:h.L.REMOVE_COMMENT,enabled:!0,Za:function(){h.h.qa(!0);a.H(!0,!0);h.h.qa(!1)}}};h.Ja.VG=function(a){return{text:h.L.DUPLICATE_COMMENT,enabled:!0,Za:function(){h.duplicate(a)}}};
h.Ja.nI=function(a,c){if(!h.Ki)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Ld};d.text=h.L.ADD_COMMENT;d.Za=function(){var e=new h.Ki(a,h.L.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Ki.sx,h.Ki.sx),f=aa(a).getBoundingClientRect();f=new h.g.O(c.clientX-f.left,c.clientY-f.top);var g=h.g.qq(a.zb);f=h.g.O.Um(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.pa&&(e.Ih(),e.Da(),e.select())};return d};h.Aa=function(){h.Aa.u=this;this.Cd=Object.create(null)};h.Aa.vc={Kb:"block",Fc:"workspace"};h.Aa.u=null;h.Aa.prototype.register=function(a){if(this.Cd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Cd[a.id]=a};h.Aa.prototype.unregister=function(a){if(!this.Cd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Cd[a]};h.Aa.prototype.getItem=function(a){return this.Cd[a]||null};
function Rb(a,c){var d=[],e=h.Aa.u.Cd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.ed){var g=f.tb(c);"hidden"!=g&&(f={text:"function"==typeof f.yc?f.yc(c):f.yc,enabled:"enabled"==g,Za:f.Za,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Aa;h.h.Yf=function(a,c,d){h.h.Yf.v.constructor.call(this,d);this.Ov=a;this.Mv=c};h.g.object.T(h.h.Yf,h.h.se);h.h.Yf.prototype.type=h.h.Fi;h.h.Yf.prototype.oa=function(){var a=h.h.Yf.v.oa.call(this);a.oldElementId=this.Ov;a.newElementId=this.Mv;return a};h.h.Yf.prototype.$=function(a){h.h.Yf.v.$.call(this,a);this.Ov=a.oldElementId;this.Mv=a.newElementId};h.u.register(h.u.N.Bb,h.h.Fi,h.h.Yf);h.KE=function(){};h.OE=function(){};h.wb=function(a,c){h.wb.v.constructor.call(this,a,c);this.sh=a.A.Nm[c];this.vu=a.A.Nm[h.Di[c]];this.Af=new h.g.O(0,0);this.If=h.wb.re.It;this.va=null};h.g.object.T(h.wb,h.sa);h.wb.re={It:-1,Ct:0,Ji:1};b=h.wb.prototype;b.H=function(){h.wb.v.H.call(this);this.If==h.wb.re.Ji&&Sb(this.sh,this,this.y)};b.W=function(){return h.wb.v.W.call(this)};b.ta=function(){return h.wb.v.ta.call(this)};function Ia(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function Tb(a,c){if(!a.J.A.bd()){var d=a.J.Wd();if(!d.cd){var e=!1;if(!d.ic()){d=c.W().Wd();if(!d.ic())return;c=a;e=!0}var f=h.selected==d;f||Ub(d.bb,!0);var g=c.x+h.ac+Math.floor(Math.random()*h.oo)-a.x,k=c.y+h.ac+Math.floor(Math.random()*h.oo)-a.y;e&&(k=-k);d.K&&(g=c.x-h.ac-Math.floor(Math.random()*h.oo)-a.x);d.moveBy(g,k);f||Ub(d.bb,!1)}}}
b.moveTo=function(a,c){if(this.If==h.wb.re.It){var d=this.sh;d.rb.splice(Vb(d,c),0,this);this.If=h.wb.re.Ji}else this.If==h.wb.re.Ji&&(Sb(this.sh,this,this.y),d=this.sh,d.rb.splice(Vb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Wb(a,c){a.moveTo(c.x+a.Af.x,c.y+a.Af.y)}function P(a,c,d){a.Af.x=c;a.Af.y=d}
function Xb(a){var c=a.va.x-a.x,d=a.va.y-a.y;if(0!=c||0!=d){a=a.ta();var e=a.ya();if(!e)throw Error("block is not rendered.");e=h.g.Vd(e);a.ya().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");db(a,-c,-d)}}
b.closest=function(a,c){var d=this.vu;if(d.rb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Vb(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.rb[m].y-this.y)<=a;)l=d.rb[m],H(d.mu,this,l,!0,k)&&(c=l,k=Ia(l,this)),m--;for(;g<d.rb.length&&Math.abs(d.rb[g].y-this.y)<=a;)l=d.rb[g],H(d.mu,this,l,!0,k)&&(c=l,k=Ia(l,this)),g++;this.x=f;this.y=e;a={connection:c,On:k}}else a={connection:null,On:a};return a};
function O(a,c){c&&a.If==h.wb.re.Ji||!c&&a.If==h.wb.re.Ct||a.J.cd||(c?(c=a.sh,c.rb.splice(Vb(c,a.y),0,a),a.If=h.wb.re.Ji):(a.If==h.wb.re.Ji&&Sb(a.sh,a,a.y),a.If=h.wb.re.Ct))}function Fb(a){O(a,!0);var c=[];if(a.type!=h.U.Ob&&a.type!=h.U.Pb)return c;if(a=a.ta()){if(a.isCollapsed()){var d=[];a.P&&d.push(a.P);a.ba&&d.push(a.ba);a.X&&d.push(a.X)}else d=a.Ud(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Fb(d[e]));c.length||(c[0]=a)}return c}
b.lr=function(a){var c=this.W();if(h.h.Ga){var d=h.h.Mb();setTimeout(function(){c.Ae||c.getParent()||(h.h.qa(d),Tb(this,a),h.h.qa(!1))}.bind(this),h.no)}};b.Sp=function(a,c){h.wb.v.Sp.call(this,a,c);a.pa&&a.Da();c.pa&&(A(c),c.Da(),c.ya().style.display="block")};b.wl=function(){h.wb.v.wl.call(this);var a=this.ta();a&&(a.Ih(),a.Da(!1),a=this.W(),a.pa&&a.Da())};b.Lv=function(a){return Yb(this.vu,this,a)};
b.Lm=function(a){h.wb.v.Lm.call(this,a);var c=this.W();a=a.W();var d=c.pa,e=a.pa;d&&A(c);e&&A(a);d&&e&&(this.type==h.U.Pb||this.type==h.U.Tc?a.Da():c.Da());if(c=na(c,a))c=c.isVisible(),a.ya().style.display=c?"block":"none"};b.Uv=function(){!this.isConnected()||this.va&&H(this.J.A.mf,this,this.va,!1)||(C(F(this)?this.ta():this.J),this.J.Hc())};h.Xg=function(){h.Xg.v.constructor.call(this)};h.g.object.T(h.Xg,h.Nf);h.Xg.GC="basicCursor";b=h.Xg.prototype;b.next=function(){var a=this.Rd;if(!a)return null;(a=Zb(this,a,this.ks))&&vb(this,a);return a};b.qg=function(){return this.next()};b.Ig=function(){var a=this.Rd;if(!a)return null;(a=$b(this,a,this.ks))&&vb(this,a);return a};b.Fg=function(){return this.Ig()};
function Zb(a,c,d){if(!c)return null;var e=c.qg()||c.next();if(d(e))return e;if(e)return Zb(a,e,d);c=ac(a,c.Fg());return d(c)?c:c?Zb(a,c,d):null}function $b(a,c,d){if(!c)return null;var e=c.Ig();e=e?bc(a,e):c.Fg();return d(e)?e:e?$b(a,e,d):null}b.ks=function(a){var c=!1;a=a&&a.lb();if(a==h.D.types.hh||a==h.D.types.ld||a==h.D.types.rc||a==h.D.types.Vf||a==h.D.types.Xf||a==h.D.types.Fc)c=!0;return c};function ac(a,c){if(!c)return null;var d=c.next();return d?d:ac(a,c.Fg())}
function bc(a,c){if(!c.qg())return c;for(c=c.qg();c.next();)c=c.next();return bc(a,c)}h.u.register(h.u.N.Gj,h.Xg.GC,h.Xg);h.bp=function(){h.bp.v.constructor.call(this)};h.g.object.T(h.bp,h.Xg);h.bp.prototype.ks=function(a){a&&a.lb();return!1};h.Qa=function(a,c,d){this.ra=h.g.j.M(h.g.F.Sc,{},null);this.ra.Ql="";this.style=cc(a.jb.aa(),null);this.bb=a.jb.Dv(this.ra,this.style);this.Ir=this.pa=!1;this.A=a;this.X=this.ba=this.P=null;this.Ul=h.g.Jh()&&!!a.Wc;var e=this.bb.ub;e.ee=this;h.G.fk(e);h.Qa.v.constructor.call(this,a,c,d);this.ra.dataset?this.ra.dataset.id=this.id:h.g.userAgent.Ld&&this.ra.setAttribute("data-id",this.id)};h.g.object.T(h.Qa,h.ui);h.Qa.prototype.height=0;h.Qa.prototype.width=0;h.Qa.prototype.io=null;h.Qa.TE=-1;
h.Qa.PD="TEMP_COLLAPSED_WARNING_";b=h.Qa.prototype;b.Ih=function(){if(!this.A.pa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.R[a];a++)c.Va();c=L(this);for(a=0;a<c.length;a++)c[a].gA();this.Vb();K(this.bb,"blocklyDraggable",this.ic());a=this.ya();this.A.options.readOnly||this.zA||!a||h.S.Ka(a,"mousedown",this,this.jl);this.zA=!0;a.parentNode||this.A.zb.appendChild(a)};
b.select=function(){if(this.Ea&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{pb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Fi))(a,this.id,this.A.id);h.h.Ha(a);h.selected=this;Ub(this.bb,!0)}};function pb(a){if(h.selected==a){var c=new (h.h.get(h.h.Fi))(a.id,null,a.A.id);c.Nb=a.A.id;h.h.Ha(c);h.selected=null;Ub(a.bb,!1)}}b.$d=null;b.qh=null;b.sd=null;b.Mw=null;
function L(a){var c=[];a.$d&&c.push(a.$d);a.sd&&c.push(a.sd);a.Mw&&c.push(a.Mw);return c}b.Vn=function(a){var c=this.Me;if(a!=c){h.g.j.Gl();h.Qa.v.Vn.call(this,a);h.g.j.Hl();var d=this.ya();if(!this.A.Lq&&d){var e=this.$a();a?(a.ya().appendChild(d),a=this.$a(),db(this,a.x-e.x,a.y-e.y)):c&&(this.A.zb.appendChild(d),this.translate(e.x,e.y));this.Vb()}}};
b.$a=function(){var a=0,c=0,d=this.Ul?this.A.Wc.Mb():null,e=this.ya();if(e){do{var f=h.g.Vd(e);a+=f.x;c+=f.y;this.Ul&&this.A.Wc.De.firstChild==e&&(f=this.A.Wc.wq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.zb&&e!=d)}return new h.g.O(a,c)};b.moveBy=function(a,c){if(this.Me)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.Wg))(this);var f=this.$a();this.translate(f.x+a,f.y+c);db(this,a,c);d&&(e.$h(),h.h.Ha(e));ja(this.A)};
b.translate=function(a,c){this.ya().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.$a();this.moveBy(a.x-c.x,a.y-c.y)};b.$q=function(a){this.Ul?this.A.Wc.ki(a.x,a.y):(this.ra.Ql="translate("+a.x+","+a.y+")",this.ra.setAttribute("transform",this.ra.Ql+this.ra.El))};
function dc(a){if(a.A&&!a.A.bd()&&!a.getParent()&&!a.cd){var c=a.A.vd;if(c&&c.ZC){var d=c.Wr,e=d/2,f=a.$a();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function ec(a){var c=a.$a(),d=v(a);if(a.K){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.$k=function(){this.bb.ab=this.A.jb.aa();for(var a=0,c;c=this.R[a];a++)c.$k()};
b.ci=function(a){this.oh!=a&&(h.Qa.v.ci.call(this,a),a?this.pa&&this.Da():fc(this))};function fc(a){for(var c=a.isCollapsed(),d=h.ab.em,e=h.ab.dm,f=0,g;g=a.R[f];f++)g.name!=d&&g.Xb(!c);if(c){g=L(a);for(f=0;c=g[f];f++)c.Xb(!1);f=a.toString(h.bx);(g=B(a,e))?g.setValue(f):(g=ka(a,d)||Kb(a,d),N(g,new h.Rc(f),e))}else A(a),a.Hr(d)}
b.jl=function(a){var c=this.A&&ib(this.A,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");c.tj||c.gd||(c.tj=this,this.cd&&this!=this.Wd()?ub(c,this.Wd()):ub(c,this));c.yd=a}};b.showHelp=function(){var a="function"==typeof this.Ch?this.Ch():this.Ch;a&&window.open(a)};
b.Bl=function(a){if(this.A.options.readOnly||!this.contextMenu)var c=null;else c=Rb(h.Aa.vc.Kb,{block:this}),this.lA&&this.lA(c);c&&c.length&&(h.Ja.show(a,c,this.K),h.Ja.Pm=this)};function db(a,c,d){if(a.pa){for(var e=a.Ud(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=L(a);for(f=0;f<e.length;f++)e[f].aA();for(f=0;f<a.jf.length;f++)db(a.jf[f],c,d)}}
b.Lg=function(a){if(a){var c=this.ya();c.Ql="";c.El="";h.Yi=h.Yi.concat(this.Ud(!0));h.g.j.Cb(this.ra,"blocklyDragging")}else h.Yi=[],h.g.j.Mc(this.ra,"blocklyDragging");for(c=0;c<this.jf.length;c++)this.jf[c].Lg(a)};b.Qr=function(a){h.Qa.v.Qr.call(this,a);K(this.bb,"blocklyDraggable",a)};b.Pr=function(a){h.Qa.v.Pr.call(this,a);a=L(this);for(var c=0;c<a.length;c++)wb(a[c])};b.Sr=function(a){h.Qa.v.Sr.call(this,a);this.Vb()};
b.rw=function(a){this.kj!=a&&(this.kj=a)&&(this.Oe(this.A.jb.aa().Eo),K(this.bb,"blocklyInsertionMarker",!0))};b.ya=function(){return this.ra};
b.H=function(a,c){if(this.A){h.G.H();h.G.Ew(this.bb.ub);h.g.j.Gl();var d=this.A;h.selected==this&&(pb(this),gc(this.A));h.Ja.Pm==this&&h.Ja.sb();c&&this.pa&&(C(this,a),h.Sa.sA(this));this.pa=!1;if(this.io){for(var e in this.io)clearTimeout(this.io[e]);this.io=null}c=L(this);for(e=0;e<c.length;e++)c[e].H();h.Qa.v.H.call(this,!!a);h.g.j.removeNode(this.ra);ja(d);this.ra=null;h.g.j.Hl()}};
b.Vb=function(){this.bb.Vb(this);for(var a=L(this),c=0;c<a.length;c++)a[c].Vb();for(a=0;c=this.R[a];a++)for(var d=0,e;e=c.Ua[d];d++)e.Vb()};function A(a){var c=z(a,!1);a.Vb();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.pa&&A(d)}}b.OA=function(){return this.sd};
b.sj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.lf.text!=a&&(h.Qa.v.sj.call(this,a),a=null!=a,!!this.sd==a?this.sd.lI():(a?this.qh=this.sd=new h.Comment(this):(this.sd.H(),this.qh=this.sd=null),this.pa&&(this.Da(),this.Hc())))};b.sw=function(a){this.$d&&this.$d!==a&&this.$d.H();a&&(a.WH(this),this.$d=a,a.gA());this.pa&&(this.Da(),this.Hc())};b.Df=function(a){this.isEnabled()!=a&&(h.Qa.v.Df.call(this,a),this.pa&&!Jb(this)&&A(this))};
b.Ef=function(a){this.pa&&this.bb.Fw(a)};b.Or=function(a){K(this.bb,"blocklyDraggingDelete",a)};b.nq=function(){return this.style.ph};b.Oe=function(a){h.Qa.v.Oe.call(this,a);a=hc(this.A.jb.aa(),this.rd);this.bb.di(a.style);this.style=a.style;this.Il=a.name;this.Vb()};b.di=function(a){var c=cc(this.A.jb.aa(),a);this.Il=a;if(c)this.He=c.He,this.bb.di(c),this.rd=c.ph,this.style=c,this.Vb();else throw Error("Invalid style name: "+a);};
function bb(a){do{var c=a.ya(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Wn=function(a,c){h.Qa.v.Wn.call(this,a,c);this.pa&&(this.Da(),this.Hc())};b.Tn=function(a,c){h.Qa.v.Tn.call(this,a,c);this.pa&&(this.Da(),this.Hc())};b.Un=function(a,c){h.Qa.v.Un.call(this,a,c);this.pa&&(this.Da(),this.Hc())};b.Mg=function(a){h.Qa.v.Mg.call(this,a);this.pa&&(this.Da(),this.Hc())};b.Hr=function(a,c){a=h.Qa.v.Hr.call(this,a,c);this.pa&&(this.Da(),this.Hc());return a};
b.nh=function(a,c){a=h.Qa.v.nh.call(this,a,c);this.pa&&(this.Da(),this.Hc());return a};function ia(a,c){a.X&&O(a.X,c);a.P&&O(a.P,c);if(a.ba){O(a.ba,c);var d=a.ba.ta();d&&ia(d,c)}if(!a.oh)for(d=0;d<a.R.length;d++){var e=a.R[d].connection;e&&(O(e,c),(e=e.ta())&&ia(e,c))}}b.Ud=function(a){var c=[];if(a||this.pa)if(this.P&&c.push(this.P),this.X&&c.push(this.X),this.ba&&c.push(this.ba),a||!this.oh){a=0;for(var d;d=this.R[a];a++)d.connection&&c.push(d.connection)}return c};
b.vn=function(a){return h.Qa.v.vn.call(this,a)};b.rq=function(a,c){return h.Qa.v.rq.call(this,a,c)};b.Zk=function(a){return new h.wb(this,a)};b.Hc=function(){if(this.A&&!this.A.bd()){var a=this.Wd();if(!a.cd)for(var c=this.Ud(!1),d=0,e;e=c[d];d++){e.isConnected()&&F(e)&&e.ta().Hc();for(var f=e.Lv(h.ac),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.W().Wd()!=a&&(F(e)?Tb(k,e):Tb(e,k))}}};
function eb(a){var c=h.h.Mb();setTimeout(function(){h.h.qa(c);dc(a);h.h.qa(!1)},h.no/2);setTimeout(function(){h.h.qa(c);a.Hc();h.h.qa(!1)},h.no)}b.getParent=function(){return h.Qa.v.getParent.call(this)};b.Wd=function(){return h.Qa.v.Wd.call(this)};
b.Da=function(a){if(!this.Ir){this.Ir=!0;try{this.pa=!0;h.g.j.Gl();this.isCollapsed()&&fc(this);this.A.jb.Da(this);var c=this.$a();this.X&&Wb(this.X,c);this.P&&Wb(this.P,c);for(var d=0;d<this.R.length;d++){var e=this.R[d].connection;e&&(Wb(e,c),e.isConnected()&&Xb(e))}this.ba&&(Wb(this.ba,c),this.ba.isConnected()&&Xb(this.ba));if(!1!==a){var f=this.getParent();f?f.Da(!0):ja(this.A)}h.g.j.Hl();this.js()}finally{this.Ir=!1}}};
b.js=function(){this.A.Xk&&this.bb.vk&&this.A.Hk().draw();this.A.Xk&&this.bb.Xq&&this.A.Jk(h.Tj.at).draw()};b.Cf=function(a){this.bb.Cf(a)};b.Ng=function(a){this.bb.Ng(a)};function v(a){var c=a.height,d=a.width,e=u(a);e&&(e=v(e),a=a.A.jb.aa().Oo,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.yi=function(a){this.rb=[];this.mu=a};function ic(a,c,d){if(!a.rb.length)return-1;var e=Vb(a,d);if(e>=a.rb.length)return-1;d=c.y;for(var f=e;0<=f&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f--}for(f=e;f<a.rb.length&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f++}return-1}function Vb(a,c){if(!a.rb.length)return 0;for(var d=0,e=a.rb.length;d<e;){var f=Math.floor((d+e)/2);if(a.rb[f].y<c)d=f+1;else if(a.rb[f].y>c)e=f;else{d=f;break}}return d}
function Sb(a,c,d){c=ic(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.rb.splice(c,1)}function Yb(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.rb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.yi.Va=function(a){var c=[];c[h.U.Ob]=new h.yi(a);c[h.U.Dc]=new h.yi(a);c[h.U.Pb]=new h.yi(a);c[h.U.Tc]=new h.yi(a);return c};h.h.$f=function(a,c){h.h.$f.v.constructor.call(this,c);this.yw=a};h.g.object.T(h.h.$f,h.h.se);h.h.$f.prototype.type=h.h.$o;h.h.$f.prototype.oa=function(){var a=h.h.$f.v.oa.call(this);a.themeName=this.yw;return a};h.h.$f.prototype.$=function(a){h.h.$f.v.$.call(this,a);this.yw=a.themeName};h.u.register(h.u.N.Bb,h.h.$o,h.h.$f);h.h.cg=function(a,c,d,e,f){h.h.cg.v.constructor.call(this,e);this.Hd=a;this.Gd=c;this.scale=d;this.il=f};h.g.object.T(h.h.cg,h.h.se);h.h.cg.prototype.type=h.h.ak;h.h.cg.prototype.oa=function(){var a=h.h.cg.v.oa.call(this);a.viewTop=this.Hd;a.viewLeft=this.Gd;a.scale=this.scale;a.oldScale=this.il;return a};h.h.cg.prototype.$=function(a){h.h.cg.v.$.call(this,a);this.Hd=a.viewTop;this.Gd=a.viewLeft;this.scale=a.scale;this.il=a.oldScale};h.u.register(h.u.N.Bb,h.h.ak,h.h.cg);h.SE=function(){};h.Uj=function(a){this.C=a};function jc(a){var c=0,d=0;a&&(c=a.hn(),d=a.nH());return new h.g.Vc(c,d)}function kc(a){var c=jc(Q(a.C,!0));return{width:c.width,height:c.height,position:a.C.ji}}function lc(a){var c=jc(a.C.mb);return{width:c.width,height:c.height,position:a.C.ji}}function mc(a){var c=0,d=lc(a),e=kc(a),f=!!a.C.mb;a=!!Q(a.C,!0);var g=f?d.position:e.position,k=g==h.g.ga.Qb.Md;g=g==h.g.ga.Qb.$j;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function kb(a,c){c=c?a.C.scale:1;var d=nc(a.C),e=lc(a),f=kc(a),g=a.C.mb?e.position:f.position;if(a.C.mb)if(g==h.g.ga.Qb.$j||g==h.g.ga.Qb.am)d.height-=e.height;else{if(g==h.g.ga.Qb.Md||g==h.g.ga.Qb.af)d.width-=e.width}else if(Q(a.C,!0))if(g==h.g.ga.Qb.$j||g==h.g.ga.Qb.am)d.height-=f.height;else if(g==h.g.ga.Qb.Md||g==h.g.ga.Qb.af)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.C.scrollY/c,left:-a.C.scrollX/c}}
h.Uj.prototype.dn=function(){var a=this.C.scale,c=ha(this.C);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Uj.prototype.Kk=function(a,c,d){a=a?this.C.scale:1;var e=c||kb(this,!1);d=d||this.dn();if(nb(this.C)&&ob(this.C))c={};else{c=nb(this.C);var f=ob(this.C),g=e||kb(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Uj.prototype.Fe=function(){var a=lc(this),c=kc(this),d=nc(this.C),e=mc(this),f=kb(this),g=this.dn(),k=this.Kk(!1,f,g);return{XG:g.height,$G:g.width,ZG:g.top,YG:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,oc:f.height,Zb:f.width,Hd:f.top,Gd:f.left,Gc:e.top,wc:e.left,eI:d.height,gI:d.width,jI:a.width,hI:a.height,ji:a.position,iH:c.width,hH:c.height}};
h.u.register(h.u.N.dt,h.u.Hj,h.Uj);h.mm=function(a,c){this.xa=c;h.mm.v.constructor.call(this,a)};h.g.object.T(h.mm,h.Uj);h.mm.prototype.dn=function(){try{var a=this.C.zb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.C.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.mm.prototype.Kk=function(a,c,d){c=d||this.dn();d=this.xa.jF*this.C.scale;a=a?this.C.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.Bt=function(a,c){this.C=a;this.Hf=c;this.Jl=[];this.xe=Object.create(null)};b=h.Bt.prototype;b.tf=function(){return this.Hf};b.Al=function(a){var c=this.Hf;this.Hf=a;if(a=aa(this.C))c&&h.g.j.Mc(a,c.Td()),h.g.j.Cb(a,this.Hf.Td());for(c=0;a=this.Jl[c];c++)oc(a);c=0;a=Object.keys(this.xe);for(var d;d=a[c];c++)for(var e=0,f;f=this.xe[d][e];e++)f.element.style[f.propertyName]=this.Hf&&D(this.Hf,d)||"";h.hc()};
b.subscribe=function(a,c,d){this.xe[c]||(this.xe[c]=[]);this.xe[c].push({element:a,propertyName:d});a.style[d]=this.Hf&&D(this.Hf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.xe),d=0,e;e=c[d];d++){for(var f=this.xe[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.xe[e].length||delete this.xe[e]}};b.H=function(){this.xe=this.Jl=this.Hf=this.Ad=null};h.Ec=function(a,c){h.Ec.v.constructor.call(this,a,c);this.qn=!1;this.Xc=Object.create(null);this.vw=this.rl=0;this.tv=this.qr=null};h.g.object.T(h.Ec,h.oe);h.Ec.oz=5;h.Ec.pz=6;b=h.Ec.prototype;b.Wp=function(a){this.tv=this.yb.options.ob&&this.yb.options.ob.bw;h.Ec.v.Wp.call(this,a);!this.pn&&h.Touch.un(a)&&pc(this,a)};
b.fk=function(a){this.qr=h.S.Ka(document,"mousedown",null,this.jB.bind(this),!0);this.Hn=h.S.Ka(document,"mousemove",null,this.ej.bind(this),!0);this.In=h.S.Ka(document,"mouseup",null,this.jn.bind(this),!0);a.preventDefault();a.stopPropagation()};b.jB=function(a){!this.bd()&&h.Touch.un(a)&&(pc(this,a),this.qn&&h.zg())};
b.ej=function(a){if(this.bd())h.Touch.Vr(a)&&h.Ec.v.ej.call(this,a);else if(this.qn){if(h.Touch.un(a)){this.Xc[h.Touch.fn(a)]=qc(this,a);var c=Object.keys(this.Xc);if(this.tv&&2===c.length){c=Object.keys(this.Xc);c=h.g.O.Vp(this.Xc[c[0]],this.Xc[c[1]])/this.vw;if(0<this.rl&&Infinity>this.rl){var d=c-this.rl;d=0<d?d*h.Ec.oz:d*h.Ec.pz;var e=this.yb,f=h.g.hl(a,w(e),Ea(e));e.zoom(f.x,f.y,d)}this.rl=c;a.preventDefault()}else h.Ec.v.ej.call(this,a)}h.zg()}else h.Ec.v.ej.call(this,a)};
b.jn=function(a){if(h.Touch.un(a)&&!this.bd()){var c=h.Touch.fn(a);this.Xc[c]&&delete this.Xc[c];2>Object.keys(this.Xc).length&&(this.Xc=Object.create(null),this.rl=0)}!this.qn||this.bd()?h.Touch.Vr(a)&&h.Ec.v.jn.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Ec.v.H.call(this);this.qr&&h.S.vb(this.qr)};function pc(a,c){a.Xc[h.Touch.fn(c)]=qc(a,c);var d=Object.keys(a.Xc);2==d.length&&(a.vw=h.g.O.Vp(a.Xc[d[0]],a.Xc[d[1]]),a.qn=!0,c.preventDefault())}
function qc(a,c){return a.yb?new h.g.O(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Kt=function(a){this.xr=a;this.Xj=Object.create(null)};b=h.Kt.prototype;b.Oq=null;b.H=function(){this.Xj=this.xr=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Xj[c]=e)}};
b.preload=function(){for(var a in this.Xj){var c=this.Xj[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Nj||h.g.userAgent.Ws)break}};b.play=function(a,c){var d=this.Xj[a];d?(a=new Date,null!=this.Oq&&a-this.Oq<h.Xy||(this.Oq=a,d=h.g.userAgent.Nj||h.g.userAgent.Yl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.xr&&this.xr.ue.play(a,c)};
h.bc=function(a,c,d){h.bc.v.constructor.call(this,a);this.Th=new (h.u.wh(h.u.N.dt,a,!0))(this);this.Fe=a.Fe||this.Th.Fe.bind(this.Th);this.Sn=a.Sn||h.bc.UC;this.jk=new h.pc;this.Nm=h.yi.Va(this.mf);c&&(this.Wc=c);d&&(this.oi=d);this.ho=!!this.oi&&h.g.Jh();this.ue=new h.Kt(a.Lc);this.vd=this.options.zq?new h.eh(this.options.zq,a.av):null;this.Yd=new h.Tj(this);this.Bw=Object.create(null);this.Iu=Object.create(null);h.na&&h.na.vh&&rc(this,h.Dt,h.na.vh);h.Gt&&h.Gt.vh&&rc(this,h.jz,h.Gt.vh);h.Ma&&h.Ma.vh&&
(rc(this,h.mt,h.Ma.vh),this.xf.push(h.Ma.OB));this.Pc=this.options.Lc?this.options.Lc.Pc:new h.Bt(this,this.options.hD||h.cf.Lf);this.Pc.Jl.push(this);this.jb=h.i.Va(this.options.nw||"geras",this.tf(),this.options.ow);this.vp=null;this.Xk=!1;this.Ol=[];this.Yp=[];this.up=new h.g.Vc(0,0)};h.g.object.T(h.bc,h.eb);b=h.bc.prototype;b.Qn=null;b.pa=!0;b.Wk=!0;b.ug=!1;b.rn=!1;b.Lr=!0;b.scrollX=0;b.scrollY=0;b.Du=null;b.scale=1;b.jr=1;b.Tv=0;b.Qv=0;b.wj=null;b.Hb=null;b.xa=null;b.mb=null;b.ec=null;b.Wc=null;
b.oi=null;b.ho=!1;b.on=!1;b.Jq=null;b.zv=null;b.bo=null;b.qv=null;b.Kq=!0;b.Cf=function(a){this.Yd.Cf(a)};b.Ng=function(a){this.Yd.Ng(a)};b.Jk=function(a){return this.Yd?this.Yd.Jk(a):null};b.Hk=function(){return this.Yd?this.Yd.Hk():null};b.tf=function(){return this.Pc.tf()};b.Al=function(a){a||(a=h.cf.Lf);this.Pc.Al(a)};
function oc(a){a.ra&&a.jb.Dr(a.ra,a.tf());sc(I(a,!1).filter(function(c){return!!c.Il}));tc(a);a.mb&&oc(a.mb);a.isVisible()&&a.Xb(!0);a=new (h.h.get(h.h.$o))(a.tf().name,a.id);h.h.Ha(a)}function sc(a){for(var c=0,d;d=a[c];c++){var e=d.Il;e&&(d.di(e),d.$d&&d.$d.kI())}}function Ea(a){if(a.Kq){var c=w(a).getScreenCTM();c&&(a.qv=c.inverse(),a.Kq=!1)}return a.qv}b.Sl=function(){this.Kq=!0};b.isVisible=function(){return this.Wk};
function Wa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.zb,c)||h.g.j.containsNode(a.Gf,c))f=a.scale;do{var g=h.g.Vd(c);if(c==a.zb||c==a.Gf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=w(a));return new h.g.O(d,e)}function nc(a){a=a.up;return new h.g.Vc(a.width,a.height)}function aa(a){if(!a.Jq)for(var c=a.ra;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Jq=c;break}c=c.parentNode}return a.Jq}
b.hb=function(a){this.ra=h.g.j.M(h.g.F.Sc,{"class":"blocklyWorkspace"},null);a&&(this.Ff=h.g.j.M(h.g.F.Tb,{height:"100%",width:"100%","class":a},this.ra),"blocklyMainBackground"==a&&this.vd?this.Ff.style.fill="url(#"+this.vd.dj.id+")":this.Pc.subscribe(this.Ff,"workspaceBackgroundColour","fill"));this.zb=h.g.j.M(h.g.F.Sc,{"class":"blocklyBlockCanvas"},this.ra);this.Gf=h.g.j.M(h.g.F.Sc,{"class":"blocklyBubbleCanvas"},this.ra);this.ug||(h.S.Ka(this.ra,"mousedown",this,this.jl,!1,!0),h.S.Ka(this.ra,
"wheel",this,this.eC));this.options.Mk&&(this.mb=new (h.u.wh(h.u.N.dz,this.options,!0))(this));this.vd&&this.vd.update(this.scale);uc(this);var c=h.u.wh(h.u.N.Gj,this.options);c&&(a=this.Yd,c=new c,a.td&&a.td.ud&&a.td.ud.H(),a.td=c,a.td&&(c=a.td,c=new h.i.Sf(a.C,a.C.jb.aa(),c),a.td.ud=c,a.Cf(a.td.ud.hb())));this.jb.hb(this.ra,this.tf());return this.ra};
b.H=function(){this.pa=!1;this.ec&&this.ec.cancel();this.ra&&(h.g.j.removeNode(this.ra),this.ra=null);this.Gf=this.zb=null;this.mb&&(this.mb.H(),this.mb=null);this.xa&&(this.xa.H(),this.xa=null);this.wj&&(this.wj.H(),this.wj=null);this.Hb&&(this.Hb.H(),this.Hb=null);this.Wl&&(this.Wl.H(),this.Wl=null);this.ue&&(this.ue.H(),this.ue=null);this.vd&&(this.vd.H(),this.vd=null);this.jb.H();this.Yd&&(this.Yd.H(),this.Yd=null);h.bc.v.H.call(this);if(this.Pc){var a=this.Pc,c=a.Jl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Jl.splice(c,1);this.Pc.unsubscribe(this.Ff);this.options.Lc||(this.Pc.H(),this.Pc=null)}this.Iu=this.Bw=this.Nm=null;this.options.Lc||(a=w(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Qn&&(h.S.vb(this.Qn),this.Qn=null)};b.oj=function(a,c){return new h.Qa(this,a,c)};function Q(a,c){return a.xa||c?a.xa:a.mb?Q(a.mb):null}function ja(a){a.Lr&&a.pa&&(a.Hb&&a.Hb.resize(),a.Sl())}
b.resize=function(){this.mb&&this.mb.position();this.xa&&this.xa.position();var a=da(this.jk,h.pc.Qc.Ky);var c=this.Th;c={mI:kb(c),DG:mc(c),iI:lc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=ec(f))&&d.push(f);this.Hb&&this.Hb.resize();this.Sl();uc(this)};function rb(a){var c=h.g.TA();h.g.O.qf(a.zv,c)||(a.zv=c,a.Sl(),uc(a))}function vc(a,c,d){var e=w(a);c&&(a.up.width=c,e.Lz=c);d&&(a.up.height=d,e.Kz=d)}
function w(a){if(!a.vp)for(var c=a.ra;c;){if("svg"==c.tagName){a.vp=c;break}c=c.parentNode}return a.vp}function qa(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.jr&&1>Math.abs(d-a.Tv)&&1>Math.abs(e-a.Qv))){var f=new (h.h.get(h.h.ak))(d,e,c,a.id,a.jr);a.jr=c;a.Tv=d;a.Qv=e;h.h.Ha(f)}}}
b.translate=function(a,c){if(this.ho&&this.on)this.oi.ki(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.zb.setAttribute("transform",d);this.Gf.setAttribute("transform",d)}if(this.Wc){d=this.Wc;var e=this.scale;d.Kg=e;var f=a.toFixed(0),g=c.toFixed(0);d.bu.x=parseInt(f,10);d.bu.y=parseInt(g,10);d.De.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.vd&&this.vd.moveTo(a,c);qa(this)};
function Ga(a){if(a.ho){a.on=!1;var c=a.oi.wq();a.oi.Gm(a.ra);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.zb.setAttribute("transform",c);a.Gf.setAttribute("transform",c)}}
function Fa(a){if(a.ho&&!a.on){a.on=!0;var c=a.zb.previousSibling,d=parseInt(w(a).getAttribute("width"),10),e=parseInt(w(a).getAttribute("height"),10),f=h.g.Vd(a.zb),g=a.oi,k=a.zb,l=a.Gf,m=a.scale;if(g.Xa.childNodes.length)throw Error("Already dragging a block.");g.Cr=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.Xa.setAttribute("width",d);g.Xa.setAttribute("height",e);g.Xa.appendChild(k);g.Xa.appendChild(l);g.Xa.style.display=
"block";a.oi.ki(f.x,f.y)}}b.hn=function(){var a=this.Fe();return a?a.Zb/this.scale:0};b.Xb=function(a){this.Wk=a;if(this.ra)if(this.Hb&&this.Hb.yl(a),Q(this)&&Q(this).yl(a),w(this).style.display=a?"block":"none",this.mb&&this.mb.Xb(a),a){a=I(this,!1);for(var c=a.length-1;0<=c;c--)a[c].$k();this.Da();this.mb&&this.mb.position()}else h.hc(!0)};b.Da=function(){for(var a=I(this,!1),c=a.length-1;0<=c;c--)a[c].Da(!1);if(this.ec)for(a=this.ec.aj(),c=0;c<a.length;c++)a[c].Da(!1);c=this.Yd;c.C.Xk&&c.pf&&c.C.Hk().draw()};
b.Ln=function(a){if(this.pa&&a.tagName&&!(a.getElementsByTagName("block").length>=(isNaN(this.options.bl)?Infinity:this.options.bl-I(this,!1).length)))if(this.ec&&this.ec.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.Ki.Fk(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.K&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Lt.gH(c);c.select()}else{h.h.disable();try{var f=h.I.Ym(a,this),g=parseInt(a.getAttribute("x"),
10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&!isNaN(k)){this.K&&(g=-g);do{a=!1;var l=I(this,!1);c=0;for(var m;m=l[c];c++){var n=m.$a();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var q=f.Ud(!1);c=0;for(var r;r=q[c];c++)if(r.closest(h.ac,new h.g.O(g,k)).connection){a=!0;break}}a&&(g=this.K?g-h.ac:g+h.ac,k+=2*h.ac)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Ea&&h.h.Ha(new (h.h.get(h.h.si))(f));f.select()}};
function tc(a){(a=a.ug?a.bo:a)&&!a.ec&&a.mb&&Q(a.mb)&&a.mb.MH()}b.ai=function(a,c){h.bc.v.ai.call(this,a,c);tc(this)};b.Wi=function(a){h.bc.v.Wi.call(this,a);tc(this)};b.Qd=function(a,c,d){a=h.bc.v.Qd.call(this,a,c,d);tc(this);return a};function uc(a){var c=da(a.jk,h.pc.Qc.yx);a.Yp=[];for(var d=0,e;e=c[d];d++){var f=e.jH();f&&a.Yp.push({fu:e,Wz:f})}}function cb(a,c){for(var d=0,e;e=a.Yp[d];d++)if(e.Wz.contains(c.clientX,c.clientY))return e.fu;return null}
b.jl=function(a){var c=ib(this,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");c.yb||(c.yb=this);c.yd=a;c.Wp(a)}};b.Fl=function(a,c){a=h.g.hl(a,w(this),Ea(this));a.x/=this.scale;a.y/=this.scale;this.Du=h.g.O.Um(c,a)};b.bd=function(){return null!=this.ec&&this.ec.bd()};
b.ic=function(){return this.options.Wb&&!!this.options.Wb.scrollbars||this.options.Wb&&this.options.Wb.yj||this.options.Wb&&this.options.Wb.Ce||this.options.ob&&this.options.ob.yj||this.options.ob&&this.options.ob.bw};function nb(a){var c=!!a.Hb;return a.ic()&&(!c||c&&!!a.Hb.Fb)}function ob(a){var c=!!a.Hb;return a.ic()&&(!c||c&&!!a.Hb.Jb)}
b.eC=function(a){if(h.oe.Hh())a.preventDefault(),a.stopPropagation();else{var c=this.options.ob&&this.options.ob.yj,d=this.options.Wb&&this.options.Wb.yj;if(c||d){var e=h.g.YA(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.hl(a,w(this),Ea(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function ha(a){a=[].concat(a.Ol);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=ec(a[0]),d=1;d<a.length;d++){var e=a[d];e.xd&&e.xd()||(e=ec(e),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.Bl=function(a){if(!this.options.readOnly&&!this.ug){var c=Rb(h.Aa.vc.Fc,{A:this});this.bA&&this.bA(c,a);h.Ja.show(a,c,this.K)}};
function fa(a){if(a.options.Lc)fa(a.options.Lc);else{h.Yk=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{w(a).focus({preventScroll:!0})}catch(c){try{w(a).parentNode.setActive()}catch(d){w(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.ob.OC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.ob.cl?d=this.options.ob.cl/this.scale:e<this.options.ob.fl&&(d=this.options.ob.fl/this.scale);var f=this.zb.getCTM(),g=w(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.ob.cl&&a>this.options.ob.cl?a=this.options.ob.cl:this.options.ob.fl&&a<this.options.ob.fl&&(a=this.options.ob.fl);this.scale=a;h.hc(!1);this.xa&&(this.xa.LH(),uc(this));this.vd&&this.vd.update(this.scale);a=this.Fe();this.scrollX-=a.wc;this.scrollY-=a.Gc;a.Gd+=a.wc;a.Hd+=a.Gc;this.scroll(this.scrollX,this.scrollY);if(this.Hb)if(this.xa){var c=this.Hb;c.Fb&&ya(c.Fb,a);c.Jb&&Aa(c.Jb,a)}else c=this.Hb,c.Fb&&za(c.Fb,a),c.Jb&&Ba(c.Jb,a)};
b.scroll=function(a,c){h.hc(!0);var d=this.Fe();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.oc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Zb)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Hb&&this.Hb.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.wc;c+=d.Gc;this.translate(a,c)};
h.bc.UC=function(a){var c=this.Fe();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Zb)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.oc)*a.y));this.translate(this.scrollX+c.wc,this.scrollY+c.Gc)};b=h.bc.prototype;b.Jc=function(a){return h.bc.v.Jc.call(this,a)};b.fc=function(a){return h.bc.v.fc.call(this,a)};b.zm=function(a){this.Ol.push(a);h.bc.v.zm.call(this,a)};b.Pn=function(a){h.g.ek(this.Ol,a);h.bc.v.Pn.call(this,a)};
b.Oc=function(a){var c=!this.Lr&&a;this.Lr=a;c&&ja(this)};b.clear=function(){this.Oc(!1);h.bc.v.clear.call(this);this.Ol=[];this.Oc(!0)};function wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Iu.CREATE_VARIABLE=c}function rc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Bw[c]=d}
function ib(a,c){var d="mousedown"==c.type||"touchstart"==c.type||"pointerdown"==c.type,e=a.ec;return e?d&&e.gj?(console.warn("Tried to start the same gesture twice."),e.cancel(),null):e:d?(a.ec=new h.Ec(c,a),a.ec):null}function gc(a){a.ec&&a.ec.cancel()};h.rg=function(a,c){h.Pz();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.nd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.pb.Xn(d,h.g.pb.State.oy,h.L.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.qk(d,c);var e=new h.ys(d),f=new h.Mt(d),g=h.hA(a,c,e,f);h.tB(g);h.Yk=g;h.Ml(g);d.addEventListener("focusin",function(){h.Yk=g});return g};
h.qk=function(a,c){a.setAttribute("dir","LTR");h.Jd.rg(c.kB,c.aw);a=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.um,"xmlns:html":h.g.j.Ao,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.M(h.g.F.Gs,{},a);c.zq=h.eh.hb(String(Math.random()).substring(2),c.av,d);return a};
h.hA=function(a,c,d,e){c.Lc=null;c=new h.bc(c,d,e);d=c.options;c.scale=d.ob.cD;a.appendChild(c.hb("blocklyMainBackground"));h.g.j.Cb(aa(c),c.jb.Td());h.g.j.Cb(aa(c),c.tf().Td());if(!d.Mk&&d.Oh){e=h.g.F.Yj;var f=new h.nd({parentWorkspace:c,rtl:c.K,oneBasedIndex:c.options.fC,horizontalLayout:c.kn,renderer:c.options.nw,rendererOverrides:c.options.ow,move:{scrollbars:!0}});f.ji=c.options.ji;c.xa=c.kn?new (h.u.wh(h.u.N.Ux,c.options,!0))(f):new (h.u.wh(h.u.N.Vx,c.options,!0))(f);c.xa.St=!1;c.xa.cB().Xb(!0);
e=c.xa.hb(e);h.g.j.Qk(e,a)}if(d.ev){if(!h.gz)throw Error("Missing require for Blockly.Trashcan");c.wj=new h.gz(c);e=c.wj.hb();c.ra.insertBefore(e,c.zb)}if(d.ob&&d.ob.controls){if(!h.qz)throw Error("Missing require for Blockly.ZoomControls");c.Wl=new h.qz(c);d=c.Wl.hb();c.ra.appendChild(d)}c.Pc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);c.xf.push(h.Jz(c));h.Ml(c);h.Y.hb();h.B.hb();h.G.hb();return c};
h.BA=function(a,c){var d=null;switch(c.type){case h.h.si:case h.h.Wg:(d=a.Jc(c.Ya))&&(d=d.Wd());break;case h.h.fm:case h.h.Ej:d=a.Km[c.we]||null}return d};h.Wt=function(a){var c=a.Th;if(!(nb(c.C)&&ob(c.C)||a.bd())){c=c.Kk(!0);for(var d=[].concat(a.Ol),e=0,f;f=d[e];e++)h.sp(a,c,f)}};
h.Jz=function(a){return function(c){var d=a.Th;if(!(nb(d.C)&&ob(d.C)||a.bd()))if(-1!==h.h.ax.indexOf(c.type)){d=d.Kk(!0);var e=h.BA(a,c);if(e){var f=h.h.Mb();h.h.qa(c.group);h.sp(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.qa(f)}}else c.type===h.h.ak&&c.scale>c.il&&h.Wt(a)}};
h.sp=function(a,c,d){var e=ec(d),f=h.g.kc.ik(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.K?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.kc.ik(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.tB=function(a){var c=a.options,d=w(a);h.S.Ka(d.parentNode,"contextmenu",null,function(f){h.g.sn(f)||f.preventDefault()});d=h.S.Ka(window,"resize",null,function(){h.hc(!0);h.Ml(a);h.Wt(a)});a.Qn=d;h.rg.Ez();if(c.Oh){d=a.mb;var e=Q(a,!0);d?d.Va():e&&(e.Va(a),e.show(c.Oh),"function"==typeof e.QC&&e.QC())}c.ev&&a.wj.Va();c.ob&&c.ob.controls&&a.Wl.Va();c.Wb&&c.Wb.scrollbars?(a.Hb=new h.wt(a,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.Fq,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.vertical),a.Hb.resize()):a.Sn({x:.5,
y:.5});c.mB&&h.rg.EB(c.aw,a)};h.rg.Ez=function(){h.tA||(h.S.Ka(document,"scroll",null,function(){for(var a=h.eb.getAll(),c=0,d;d=a[c];c++)d.Sl&&d.Sl()}),h.S.Ka(document,"keydown",null,h.mr),h.S.bind(document,"touchend",null,h.zg),h.S.bind(document,"touchcancel",null,h.zg),h.g.userAgent.Nj&&h.S.Ka(window,"orientationchange",document,function(){h.Ml(h.yh())}));h.tA=!0};
h.rg.EB=function(a,c){function d(){for(;f.length;)h.S.vb(f.pop());e.preload()}var e=c.ue;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.S.Ka(document,"mousemove",null,d,!0));f.push(h.S.Ka(document,"touchstart",null,d,!0))};h.gh=function(a){this.IC=Object.create(null);if(a){a=a.split(",");for(var c=0;c<a.length;c++)this.IC[a[c]]=!0}this.reset()};h.gh.VD="DEVELOPER_VARIABLE";h.gh.prototype.reset=function(){this.sh=Object.create(null);Object.create(null);this.Wa=null};h.gh.qf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Ma={};h.Ma.By=h.mt;h.Ma.ox="x";h.Ma.uz=function(a){var c=Ma(a,"procedures_defnoreturn").map(function(d){return d.bj()});a=Ma(a,"procedures_defreturn").map(function(d){return d.bj()});c.sort(h.Ma.jw);a.sort(h.Ma.jw);return[c,a]};h.Ma.jw=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Ma.DA=function(a,c){if(c.cd)return a;for(a=a||h.L.UNNAMED_KEY||"unnamed";!h.Ma.xB(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Ma.xB=function(a,c,d){return!h.Ma.zB(a,c,d)};h.Ma.zB=function(a,c,d){c=I(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].bj){var f=c[e].bj();if(h.gh.qf(f[0],a))return!0}return!1};h.Ma.QH=function(a){a=a.trim();var c=h.Ma.DA(a,this.W()),d=this.getValue();if(d!=a&&d!=c){a=I(this.W().A,!1);for(var e=0;e<a.length;e++)a[e].HC&&a[e].HC(d,c)}return c};
h.Ma.vh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(h.$b.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.L.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.$b.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.L.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.$b.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Ma.uz(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Ma.Gw=function(a){for(var c=[],d=Ma(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(Ka(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.na.Ku(h.Ma.ox,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.ga.su(d)){if(!a.options.Oh)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.ga.Mk(c)){if(!a.mb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Oh=c;a.mb.Da(c)}else{if(!a.xa)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Oh=c;a.xa.show(c)}}else if(a.options.Oh)throw Error("Can't nullify an existing toolbox.");};h.Ma.OB=function(a){if(a.type==h.h.xs&&"mutator"===a.JG&&a.CH){a=h.eb.Gk(a.Nb).Jc(a.Ya);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.$d.cB(),h.Ma.Gw(a),a.xf.push(h.Ma.NB)}};h.Ma.NB=function(a){a.type!=h.h.si&&a.type!=h.h.us&&a.type!=h.h.Vg||h.Ma.Gw(h.eb.Gk(a.Nb))};
h.Ma.MA=function(a,c){var d=[];c=I(c,!1);for(var e=0;e<c.length;e++)if(c[e].XA){var f=c[e].XA();f&&h.gh.qf(f,a)&&d.push(c[e])}return d};h.Ma.IH=function(a){var c=h.h.Ga,d=a.bj()[0],e=a.lc(!0);a=h.Ma.MA(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.lc();g=g&&h.I.Be(g);f.Zc(e);var k=f.lc();k=k&&h.I.Be(k);g!=k&&(h.h.Ga=!1,h.h.Ha(new (h.h.get(h.h.Vg))(f,"mutation",null,g,k)),h.h.Ga=c)}};h.Ma.lH=function(a,c){c=I(c,!1);for(var d=0;d<c.length;d++)if(c[d].bj){var e=c[d].bj();if(e&&h.gh.qf(e[0],a))return c[d]}return null};h.Lb=function(){h.Lb.u=this;this.Cd=Object.create(null);this.nj=Object.create(null)};h.Lb.An={Shift:h.g.ca.tm,Control:h.g.ca.$g,Alt:h.g.ca.ri,Meta:h.g.ca.Bi};h.Lb.prototype.register=function(a,c){if(this.Cd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Cd[a.name]=a};
h.Lb.prototype.unregister=function(a){if(!this.Cd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.nj){var d=c,e=this.nj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.nj[d])}delete this.Cd[a];return!0};function R(a,c){var d=h.Lb.u;a=String(a);var e=d.nj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.nj[a]=[c]}
h.Lb.prototype.mr=function(a,c){var d="";for(e in h.Lb.An)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.nj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.Cd[f],(!f.tb||f.tb(a))&&f.Za&&f.Za(a,c,f))return!0;return!1};
function S(a,c){var d="";if(c){for(var e=h.g.object.values(h.Lb.An),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Lb.An)-1<c.indexOf(h.Lb.An[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Lb;h.ym=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.qB=e||h.g.rf();h.h.Ha(new (h.h.get(h.h.wm))(this))};h.ym.prototype.zc=function(){return this.qB};h.ym.$z=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.na={};h.na.By=h.Dt;h.na.vz=function(a){var c=I(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=la(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.zc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.na.ps={};
h.na.EG=function(a){a=I(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.mH;!f&&e.SA&&(f=e.SA,h.na.ps[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.na.ps[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.na.vh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wc(a,function(e){h.na.uu(e.qH())});c.push(d);a=h.na.GA(a);return c=c.concat(a)};
h.na.GA=function(a){a=a.gn("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.$b.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.$b.math_change?8:24);e.appendChild(h.na.jq(d));c.push(e)}h.$b.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.$b.variables_get?20:8),e.appendChild(h.na.jq(d)),d=h.I.Se('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.$b.variables_get){a.sort(h.ym.$z);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.na.jq(f)),c.push(e)}}return c};h.na.Et="ijkmnopqrstuvwxyzabcdefgh";h.na.HA=function(a){return h.na.Ku(h.na.Et.charAt(0),a.kq())};
h.na.Ku=function(a,c){if(!c.length)return a;for(var d=h.na.Et,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.na.uu=function(a,c,d){function e(g){h.na.kw(h.L.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.na.QB(k,a);if(l){if(l.type==f)var m=h.L.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Qd(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.na.Qd=h.na.uu;
h.na.lw=function(a,c){function d(e){var f=h.L.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.na.kw(f,e,function(g){if(g){var k=h.na.RB(g,c.type,a);k?(k=h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.ai(c.zc(),g)}})}d("")};h.na.kw=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.L.RENAME_VARIABLE||e==h.L.NEW_VARIABLE)&&(e=null);d(e)})};
h.na.RB=function(a,c,d){d=d.Wa.$i();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.na.QB=function(a,c){c=c.Wa.$i();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.na.jq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.zc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.na.pH=function(a,c,d,e){var f=h.na.ng(a,c,d,e);f||(f=h.na.iA(a,c,d,e));return f};h.na.ng=function(a,c,d,e){var f=a.Nn,g=null;if(c&&(g=a.Ah(c),!g&&f&&(g=f.Ah(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.ng(d,e);!g&&f&&(g=f.ng(d,e))}return g};h.na.iA=function(a,c,d,e){var f=a.Nn;d||(d=h.na.HA(a.ug?a.bo:a));return f?f.Qd(d,e,c):a.Qd(d,e,c)};
h.na.IA=function(a,c){a=a.$i();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Yk=null;h.selected=null;h.Yi=[];h.Qi=null;h.Im=null;h.Bp=null;h.MG=null;h.Jn=null;h.fI=function(a){h.g.Rm.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Vc(a.Lz,a.Kz)};h.SH=function(a){ja(a)};
h.Ml=function(a){for(;a.options.Lc;)a=a.options.Lc;var c=w(a),d=nc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),vc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),vc(a,null,e));a.resize()}};h.mr=function(a){var c=h.Yk;!c||h.g.sn(a)||c.pa&&!c.isVisible()||h.Lb.u.mr(c,a)};h.Lp=function(a){a.A.ug||(h.h.qa(!0),h.hc(),a.P?a.H(!1,!0):a.H(!0,!0),h.h.qa(!1))};
h.Gp=function(a){if(a.kj)a=null;else{var c=h.I.eg(a,!0);h.I.oA(c);var d=a.$a();c.setAttribute("x",a.K?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.A,oD:h.g.Lu(a)}}a&&(h.Qi=a.xml,h.Im=a.source,h.Bp=a.oD)};h.Ln=function(){if(!h.Qi)return!1;var a=h.Im;a.ug&&(a=a.bo);return h.Bp&&Na(a,h.Bp)?(h.h.qa(!0),a.Ln(h.Qi),h.h.qa(!1),!0):!1};h.duplicate=function(a){var c=h.Qi,d=h.Im;h.Gp(a);a.A.Ln(h.Qi);h.Qi=c;h.Im=d};h.JH=function(a){h.g.sn(a)||a.preventDefault()};
h.hc=function(a){h.G.sb();h.Y.sb();h.B.Dq();var c=!!a;da(h.yh().jk,h.pc.Qc.Ww).forEach(function(d){d.GG(c)})};h.yh=function(){return h.Yk};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};
h.CB=function(a){return function(){var c=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");a.style&&a.style.He&&(this.He=a.style.He,a.style=null);if(a.style&&a.colour)throw Error(c+"Must not have both a colour and a style.");if(a.style){var d=a.style;try{this.di(d)}catch(t){console.warn(c+"Style does not exist: ",d)}}else if("colour"in a)if(void 0===a.colour)console.warn(c+"Undefined colour value.");else{d=a.colour;
try{this.Oe(d)}catch(t){console.warn(c+"Illegal colour value: ",d)}}for(d=0;void 0!==a["message"+d];){var e=a["args"+d]||[],f=a["lastDummyAlign"+d],g=c;var k=h.g.jD(a["message"+d]);for(var l=e.length,m=[],n=0,q=0;q<k.length;q++){var r=k[q];if("number"==typeof r){if(1>r||r>l)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++}}if(n!=l)throw Error('Block "'+this.type+'": Message does not reference all '+
l+" arg(s).");l=[];for(m=0;m<k.length;m++){n=k[m];"number"==typeof n&&(n=e[n-1]);if("string"==typeof n&&(n=Mb(n),!n))continue;l.push(n)}(e=l.length)&&!Nb(l[e-1].type)&&(e={type:"input_dummy"},f&&(e.align=f),l.push(e));f=[];for(e=0;k=l[e];e++)if(Nb(k.type)){m=g;q={LEFT:h.ab.Id.Md,RIGHT:h.ab.Id.af,CENTRE:h.ab.Id.cm,CENTER:h.ab.Id.cm};n=null;switch(k.type){case "input_value":n=this.nh(h.Ia.te,k.name);break;case "input_statement":n=this.nh(h.Ia.Uc,k.name);break;case "input_dummy":n=Kb(this,k.name)}n?
(k.check&&n.rj(k.check),k.align&&(q=q[k.align.toUpperCase()],void 0===q?console.warn(m+"Illegal align value: ",k.align):Gb(n,q)),k=n):k=null;if(k){for(m=0;n=f[m];m++)N(k,n[0],n[1]);f.length=0}}else(m=Lb(this,k))&&f.push([m,k.name]);d++}void 0!==a.inputsInline&&this.Mg(a.inputsInline);void 0!==a.output&&this.Un(!0,a.output);void 0!==a.previousStatement&&this.Wn(!0,a.previousStatement);void 0!==a.nextStatement&&this.Tn(!0,a.nextStatement);void 0!==a.tooltip&&(d=a.tooltip,d=h.g.Nc(d),this.Pg(d));void 0!==
a.enableContextMenu&&(d=a.enableContextMenu,this.contextMenu=!!d);void 0!==a.helpUrl&&(d=a.helpUrl,this.Ch=h.g.Nc(d));"string"==typeof a.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&h.wa.apply(a.mutator,this,!0);c=a.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.wa.apply(c[d],this,!1)}};
h.dH=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.$b[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.$b[e]={Va:h.CB(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.BH=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.tH=function(a){return h.g.gb.nv(a)};
h.Pz=function(){h.cc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.cc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.cc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.cc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.cc("MATH_HUE",["Blocks","math","HUE"],void 0);h.cc("MATH_HUE",["Constants","Math","HUE"],230);h.cc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.cc("TEXTS_HUE",["Constants","Text","HUE"],160);h.cc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.cc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.cc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.cc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.cc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.cc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.cc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.cc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.cc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.$H=function(a){h.Jn=a};h.mp=h.S.bind;h.gs=h.S.vb;h.IG=h.S.Ka;h.AD=h.ab.Id.Md;h.zD=h.ab.Id.cm;h.os=h.ab.Id.af;h.Ob=h.U.Ob;h.Dc=h.U.Dc;h.Pb=h.U.Pb;h.Tc=h.U.Tc;h.bE=h.Ia.me;h.nG=h.g.ga.Qb.$j;h.kG=h.g.ga.Qb.am;h.lG=h.g.ga.Qb.Md;
h.mG=h.g.ga.Qb.af;var xc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},yc="ace ar fa he mzn ps ur".split(" "),zc=window.BlocklyGamesLang,Ac=window.BlocklyGamesLanguages,Bc=/\.html$/.test(window.location.pathname);function Cc(){return-1!=yc.indexOf(zc)}var U,Dc=Number,Ec,Fc=window.location.search.match(/[?&]level=([^&]+)/);Ec=Fc?decodeURIComponent(Fc[1].replace(/\+/g,"%20")):"NaN";var Gc=Dc(Ec);U=isNaN(Gc)?1:h.g.kc.ik(1,Gc,10);
function Hc(){document.title=document.getElementById("title").textContent;document.dir=Cc()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",zc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Ac.length;d++){var e=Ac[d];c.push([xc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==zc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Ic(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Jc,1)}function Ic(a){var c=Kc;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c=Lc(a);return null===c?"[Unknown message: "+a+"]":c}
function Lc(a){return(a=document.getElementById(a))?(a=a.textContent,a=a.replace(/\\n/g,"\n")):null}function Mc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function Jc(){if(!Bc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.ka={};h.ka.Gr=function(){h.Aa.u.register({yc:function(){return h.L.UNDO},tb:function(a){return 0<a.A.li.length?"enabled":"disabled"},Za:function(a){Pa(a.A,!1)},ed:h.Aa.vc.Fc,id:"undoWorkspace",weight:1})};h.ka.Fr=function(){h.Aa.u.register({yc:function(){return h.L.REDO},tb:function(a){return 0<a.A.vl.length?"enabled":"disabled"},Za:function(a){Pa(a.A,!0)},ed:h.Aa.vc.Fc,id:"redoWorkspace",weight:2})};
h.ka.pC=function(){h.Aa.u.register({yc:function(){return h.L.CLEAN_UP},tb:function(a){return a.A.ic()?1<a.A.fc(!1).length?"enabled":"disabled":"hidden"},Za:function(a){a=a.A;a.Oc(!1);h.h.qa(!0);for(var c=a.fc(!0),d=0,e=0,f;f=c[e];e++)if(f.ic()){var g=f.$a();f.moveBy(-g.x,d-g.y);dc(f);d=f.$a().y+v(f).height+a.jb.aa().Rj}h.h.qa(!1);a.Oc(!0)},ed:h.Aa.vc.Fc,id:"cleanWorkspace",weight:3})};h.ka.Aw=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.ci.bind(f,a),d),f=u(f),d+=10};
h.ka.qC=function(){h.Aa.u.register({yc:function(){return h.L.COLLAPSE_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.fc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},Za:function(a){h.ka.Aw(!0,a.A.fc(!0))},ed:h.Aa.vc.Fc,id:"collapseWorkspace",weight:4})};
h.ka.BC=function(){h.Aa.u.register({yc:function(){return h.L.EXPAND_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.fc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},Za:function(a){h.ka.Aw(!1,a.A.fc(!0))},ed:h.Aa.vc.Fc,id:"expandWorkspace",weight:5})};h.ka.Pt=function(a,c){if(a.sg())Array.prototype.push.apply(c,p(a,!1));else{a=z(a,!1);for(var d=0;d<a.length;d++)h.ka.Pt(a[d],c)}};
h.ka.oq=function(a){var c=[];a=a.fc(!0);for(var d=0;d<a.length;d++)h.ka.Pt(a[d],c);return c};h.ka.Qm=function(a,c){h.h.qa(c);var d=a.shift();d&&(d.A?(d.H(!1,!0),setTimeout(h.ka.Qm,10,a,c)):h.ka.Qm(a,c));h.h.qa(!1)};
h.ka.xC=function(){h.Aa.u.register({yc:function(a){if(a.A)return a=h.ka.oq(a.A).length,1==a?h.L.DELETE_BLOCK:h.L.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){if(a.A)return 0<h.ka.oq(a.A).length?"enabled":"disabled"},Za:function(a){if(a.A){gc(a.A);var c=h.ka.oq(a.A),d=h.g.rf();2>c.length?h.ka.Qm(c,d):h.confirm(h.L.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.ka.Qm(c,d)})}},ed:h.Aa.vc.Fc,id:"workspaceDelete",weight:6})};
h.ka.FC=function(){h.ka.Gr();h.ka.Fr();h.ka.pC();h.ka.qC();h.ka.BC();h.ka.xC()};h.ka.zC=function(){h.Aa.u.register({yc:function(){return h.L.DUPLICATE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.sg()&&a.ic()?(Oa(a.A)?Na(a.A,h.g.Lu(a)):1)?"enabled":"disabled":"hidden"},Za:function(a){a.block&&h.duplicate(a.block)},ed:h.Aa.vc.Kb,id:"blockDuplicate",weight:1})};
h.ka.sC=function(){h.Aa.u.register({yc:function(a){return a.block.sd?h.L.REMOVE_COMMENT:h.L.ADD_COMMENT},tb:function(a){a=a.block;return h.g.userAgent.Ld||a.cd||!a.A.options.Xz||a.isCollapsed()||!a.wd()?"hidden":"enabled"},Za:function(a){a=a.block;a.sd?a.sj(null):a.sj("")},ed:h.Aa.vc.Kb,id:"blockComment",weight:2})};
h.ka.DC=function(){h.Aa.u.register({yc:function(a){return Va(a.block)?h.L.EXTERNAL_INPUTS:h.L.INLINE_INPUTS},tb:function(a){a=a.block;if(!a.cd&&a.ic()&&!a.isCollapsed())for(var c=1;c<a.R.length;c++)if(a.R[c-1].type!=h.Ia.Uc&&a.R[c].type!=h.Ia.Uc)return"enabled";return"hidden"},Za:function(a){a.block.Mg(!Va(a.block))},ed:h.Aa.vc.Kb,id:"blockInline",weight:3})};
h.ka.rC=function(){h.Aa.u.register({yc:function(a){return a.block.isCollapsed()?h.L.EXPAND_BLOCK:h.L.COLLAPSE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.ic()&&a.A.options.collapse?"enabled":"hidden"},Za:function(a){a.block.ci(!a.block.isCollapsed())},ed:h.Aa.vc.Kb,id:"blockCollapseExpand",weight:4})};
h.ka.yC=function(){h.Aa.u.register({yc:function(a){return a.block.isEnabled()?h.L.DISABLE_BLOCK:h.L.ENABLE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.A.options.disable&&a.wd()?Jb(a)?"disabled":"enabled":"hidden"},Za:function(a){a=a.block;var c=h.h.Mb();c||h.h.qa(!0);a.Df(!a.isEnabled());c||h.h.qa(!1)},ed:h.Aa.vc.Kb,id:"blockDisable",weight:5})};
h.ka.Er=function(){h.Aa.u.register({yc:function(a){var c=a.block;a=p(c,!1).length;(c=u(c))&&(a-=p(c,!1).length);return 1==a?h.L.DELETE_BLOCK:h.L.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){return!a.block.cd&&a.block.sg()?"enabled":"hidden"},Za:function(a){h.h.qa(!0);a.block&&h.Lp(a.block);h.h.qa(!1)},ed:h.Aa.vc.Kb,id:"blockDelete",weight:6})};
h.ka.CC=function(){h.Aa.u.register({yc:function(){return h.L.HELP},tb:function(a){a=a.block;return("function"==typeof a.Ch?a.Ch():a.Ch)?"enabled":"hidden"},Za:function(a){a.block.showHelp()},ed:h.Aa.vc.Kb,id:"blockHelp",weight:7})};h.ka.oC=function(){h.ka.zC();h.ka.sC();h.ka.DC();h.ka.rC();h.ka.yC();h.ka.Er();h.ka.CC()};h.ka.vC=function(){h.ka.FC();h.ka.oC()};h.ka.vC();h.kb={};h.kb.names={Hx:"escape",ah:"delete",gx:"copy",lx:"cut",Iy:"paste",hz:"undo",Uy:"redo"};h.kb.AC=function(){var a={name:h.kb.names.Hx,tb:function(c){return!c.options.readOnly},Za:function(){h.hc();return!0}};h.Lb.u.register(a);R(h.g.ca.Gx,a.name)};
h.kb.Er=function(){var a={name:h.kb.names.ah,tb:function(c){return!c.options.readOnly&&h.selected&&h.selected.sg()},Za:function(c,d){d.preventDefault();if(h.oe.Hh())return!1;h.Lp(h.selected);return!0}};h.Lb.u.register(a);R(h.g.ca.ah,a.name);R(h.g.ca.Xw,a.name)};
h.kb.tC=function(){var a={name:h.kb.names.gx,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()&&h.selected&&h.selected.sg()&&h.selected.ic()},Za:function(d,e){e.preventDefault();h.hc();h.Gp(h.selected);return!0}};h.Lb.u.register(a);var c=S(h.g.ca.po,[h.g.ca.$g]);R(c,a.name);c=S(h.g.ca.po,[h.g.ca.ri]);R(c,a.name);c=S(h.g.ca.po,[h.g.ca.Bi]);R(c,a.name)};
h.kb.uC=function(){var a={name:h.kb.names.lx,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()&&h.selected&&h.selected.sg()&&h.selected.ic()&&!h.selected.A.ug},Za:function(){h.Gp(h.selected);h.Lp(h.selected);return!0}};h.Lb.u.register(a);var c=S(h.g.ca.gp,[h.g.ca.$g]);R(c,a.name);c=S(h.g.ca.gp,[h.g.ca.ri]);R(c,a.name);c=S(h.g.ca.gp,[h.g.ca.Bi]);R(c,a.name)};
h.kb.EC=function(){var a={name:h.kb.names.Iy,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()},Za:function(){return h.Ln()}};h.Lb.u.register(a);var c=S(h.g.ca.ep,[h.g.ca.$g]);R(c,a.name);c=S(h.g.ca.ep,[h.g.ca.ri]);R(c,a.name);c=S(h.g.ca.ep,[h.g.ca.Bi]);R(c,a.name)};
h.kb.Gr=function(){var a={name:h.kb.names.hz,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()},Za:function(d){h.hc();Pa(d,!1);return!0}};h.Lb.u.register(a);var c=S(h.g.ca.Li,[h.g.ca.$g]);R(c,a.name);c=S(h.g.ca.Li,[h.g.ca.ri]);R(c,a.name);c=S(h.g.ca.Li,[h.g.ca.Bi]);R(c,a.name)};
h.kb.Fr=function(){var a={name:h.kb.names.Uy,tb:function(d){return!h.oe.Hh()&&!d.options.readOnly},Za:function(d){h.hc();Pa(d,!0);return!0}};h.Lb.u.register(a);var c=S(h.g.ca.Li,[h.g.ca.tm,h.g.ca.$g]);R(c,a.name);c=S(h.g.ca.Li,[h.g.ca.tm,h.g.ca.ri]);R(c,a.name);c=S(h.g.ca.Li,[h.g.ca.tm,h.g.ca.Bi]);R(c,a.name);c=S(h.g.ca.mz,[h.g.ca.$g]);R(c,a.name)};h.kb.wC=function(){h.kb.AC();h.kb.Er();h.kb.tC();h.kb.uC();h.kb.EC();h.kb.Gr();h.kb.Fr()};h.kb.wC();h.g.s={};h.g.s.Ca=function(a,c){return" "+a+","+c+" "};h.g.s.curve=function(a,c){return" "+a+c.join("")};h.g.s.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.s.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.s.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.s.line=function(a){return" l"+a.join("")};h.g.s.V=function(a,c){return" "+a+" "+c+" "};h.g.s.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Xe=function(){this.pe=0;this.Wy=3;this.md=5;this.ct=8;this.uc=10;this.xt=this.md;this.Zj=15;this.Ii=5;this.Yo=8;this.Cy=15;this.Oo=4;this.yy=12;this.Ax=16;this.zx=this.Hs=this.Zj;this.je=8;this.bz=this.Vj=15;this.tt=0;this.vt=20;this.Yw=4;this.ez=this.md;this.fz=this.uc;this.$w=this.md;this.Zw=this.uc;this.Xl=!1;this.$y=15;this.az=100;this.Zy=15;this.Rj=24;this.Cx=14.5;this.Bx=this.Zj+11;this.Ix=2;this.Dx=this.Rj;this.st=h.g.s.moveBy(0,0);this.ky=12;this.ly=6;this.dh=11;this.Pf="normal";this.Of=
"sans-serif";this.wo=this.lm=-1;this.km=4;this.Ks=16;this.Jj=5;this.Px="#fff";this.xo=!h.g.userAgent.Ld&&!h.g.userAgent.bh;this.Ls=this.Ks;this.Rx=this.Qx=this.Ms=!1;this.Tx=this.Jj;this.Kj=12;this.Sx="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ul=String(Math.random()).substring(2);this.$m="";this.fq=null;this.Au="";this.Qp=null;this.wu="";this.tk=this.Ip=null;this.gm="#cc0a0a";this.pm="#4286f4";this.im=100;this.Jt=5;this.hm=10;this.ix=2;this.kx=4;this.Eo="#000000";this.nm=.2;this.rt={Ly:1,Ci:2}};b=h.i.Xe.prototype;
b.Va=function(){this.Ai=this.Tq();this.Ci=this.Uq();this.Gi=this.Wq();this.So=this.Vq();var a=this.je,c=h.g.s.arc("a","0 0,0",a,h.g.s.Ca(-a,a)),d=h.g.s.arc("a","0 0,0",a,h.g.s.Ca(a,a));this.om={width:a,height:a,zr:c,Mn:d};a=this.je;c=h.g.s.moveBy(0,a)+h.g.s.arc("a","0 0,1",a,h.g.s.Ca(a,-a));d=h.g.s.arc("a","0 0,1",a,h.g.s.Ca(a,a));var e=h.g.s.arc("a","0 0,1",a,h.g.s.Ca(-a,-a)),f=h.g.s.arc("a","0 0,1",a,h.g.s.Ca(-a,a));this.Wj={ds:c,lD:d,Gz:f,qp:e,LC:a}};
b.Al=function(a){this.dg=Object.create(null);var c=a.dg,d;for(d in c)this.dg[d]=Nc(c[d]);this.Of=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Of;this.Pf=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Pf;this.dh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.dh;c=h.g.j.JB(this.dh+"pt",this.Pf,this.Of);this.lm=c.height;this.wo=c.Od;this.gm=D(a,"cursorColour")||this.gm;this.pm=D(a,"markerColour")||this.pm;this.Eo=D(a,"insertionMarkerColour")||this.Eo;
this.nm=Number(D(a,"insertionMarkerOpacity"))||this.nm;this.Xl=null!=a.Yr?a.Yr:this.Xl};function hc(a,c){var d="auto_"+c;a.dg[d]||(a.dg[d]=Nc({colourPrimary:c}));return{style:a.dg[d],name:d}}function cc(a,c){return a.dg[c||""]||(c&&0==c.indexOf("auto_")?hc(a,c.substring(5)).style:Nc({colourPrimary:"#000000"}))}
function Nc(a){var c={};a&&h.g.object.Bg(c,a);a=h.g.Kn(c.colourPrimary||"#000");c.ph=a.Nk;c.colourSecondary?a=h.g.Kn(c.colourSecondary).Nk:(a=c.ph,a=h.g.gb.np("#fff",a,.6)||a);c.Jm=a;c.colourTertiary?a=h.g.Kn(c.colourTertiary).Nk:(a=c.ph,a=h.g.gb.np("#fff",a,.3)||a);c.Ri=a;c.He=c.hat||"";return c}b.H=function(){this.fq&&h.g.j.removeNode(this.fq);this.Qp&&h.g.j.removeNode(this.Qp);this.Ip&&h.g.j.removeNode(this.Ip);this.tk=null};
b.Tq=function(){var a=this.ky,c=this.ly,d=h.g.s.line([h.g.s.Ca(c,a/4),h.g.s.Ca(2*-c,a/2),h.g.s.Ca(c,a/4)]);return{height:a,width:c,path:d}};b.Wq=function(){var a=this.$y,c=this.az,d=h.g.s.curve("c",[h.g.s.Ca(30,-a),h.g.s.Ca(70,-a),h.g.s.Ca(c,0)]);return{height:a,width:c,path:d}};
b.Vq=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.s.Ca(c,g*l);return h.g.s.curve("c",[h.g.s.Ca(0,g*(l+2.5)),h.g.s.Ca(-c,k*(l+.5)),h.g.s.Ca(-c,g*l)])+h.g.s.curve("s",[h.g.s.Ca(c,2.5*k),m])}var c=this.Yo,d=this.Zj,e=a(!0),f=a(!1);return{type:this.rt.Ly,width:c,height:d,Bd:f,ml:e}};b.Uq=function(){function a(k){return h.g.s.line([h.g.s.Ca(k*e,d),h.g.s.Ca(3*k,0),h.g.s.Ca(k*e,-d)])}var c=this.Cy,d=this.Oo,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.rt.Ci,width:c,height:d,Hg:f,$v:g}};
function ab(a,c){switch(c.type){case h.U.Ob:case h.U.Dc:return a.So;case h.U.Tc:case h.U.Pb:return a.Ci;default:throw Error("Unknown connection type");}}
b.hb=function(a,c,d){d=this.lq(d);c="blockly-renderer-style-"+c;this.tk=document.getElementById(c);var e=d.join("\n");this.tk?this.tk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.tk=d);a=h.g.j.M(h.g.F.Gs,{},a);c=h.g.j.M(h.g.F.Ns,{id:"blocklyEmbossFilter"+this.ul},a);h.g.j.M(h.g.F.Mx,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.M(h.g.F.Ox,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.M(h.g.F.Nx,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.M(h.g.F.vo,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.M(h.g.F.vo,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.$m=c.id;this.fq=c;c=h.g.j.M(h.g.F.kt,{id:"blocklyDisabledPattern"+this.ul,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.M(h.g.F.Tb,{width:10,height:10,fill:"#aaa"},c);h.g.j.M(h.g.F.Ze,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Au=c.id;this.Qp=c;h.i.Cc&&(a=h.g.j.M(h.g.F.Ns,{id:"blocklyDebugFilter"+this.ul,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.M(h.g.F.Jx,{result:"outBlur"},a),h.g.j.M(h.g.F.Lx,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.M(h.g.F.Kx,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.M(h.g.F.vo,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.wu=a.id,this.Ip=a)};
b.lq=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Pf+" "+this.dh+"pt "+this.Of+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Px+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Of+";","font-weight: "+this.Pf+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.nm+
";","stroke: none;","}"]};h.i.m={NONE:0,rc:1,Ps:2,Ss:4,Xo:8,ts:16,Vs:32,Js:64,ld:128,Ts:256,ut:512,ex:1024,Ro:2048,No:4096,Ey:8192,to:16384,Io:32768,Ho:65536,Vo:131072,Uo:262144,Zs:524288,Wo:1048576,ap:2097152,mo:4194304,Us:8388608};h.i.m.cF=h.i.m.Io|h.i.m.Ho;h.i.m.WF=h.i.m.Vo|h.i.m.Uo;h.i.m.gr=16777216;h.i.m.lb=function(){Object.prototype.hasOwnProperty.call(h.i.m,void 0)||(h.i.m[void 0]=h.i.m.gr,h.i.m.gr<<=1);return h.i.m[void 0]};h.i.m.Ke=function(a){return a.type&h.i.m.rc};h.i.m.Mh=function(a){return a.type&h.i.m.Ps};
h.i.m.ij=function(a){return a.type&h.i.m.Ss};h.i.m.dd=function(a){return a.type&h.i.m.Xo};h.i.m.AH=function(a){return a.type&h.i.m.Vs};h.i.m.wf=function(a){return a.type&h.i.m.ld};h.i.m.Tk=function(a){return a.type&h.i.m.Js};h.i.m.vg=function(a){return a.type&h.i.m.Ts};h.i.m.Nh=function(a){return a.type&h.i.m.ut};h.i.m.mj=function(a){return a.type&h.i.m.Ro};h.i.m.xg=function(a){return a.type&h.i.m.No};h.i.m.AB=function(a){return a.type&(h.i.m.Ro|h.i.m.No)};h.i.m.wg=function(a){return a.type&h.i.m.Ho};
h.i.m.uv=function(a){return a.type&h.i.m.Uo};h.i.m.Uk=function(a){return a.type&h.i.m.Io};h.i.m.DH=function(a){return a.type&h.i.m.Vo};h.i.m.yH=function(a){return a.type&h.i.m.to};h.i.m.rv=function(a){return a.type&h.i.m.Zs};h.i.m.FH=function(a){return a.type&h.i.m.Wo};h.i.m.vB=function(a){return a.type&h.i.m.ts};h.i.m.tn=function(a){return a.type&h.i.m.ap};h.i.m.nn=function(a){return a.type&h.i.m.mo};h.i.m.wv=function(a){return a.type&(h.i.m.ap|h.i.m.mo)};h.i.m.wB=function(a){return a.type&h.i.m.Us};h.i.Tf=function(a){this.height=this.width=0;this.type=h.i.m.NONE;this.gg=this.ma=0;this.o=a;this.zd=this.o.Vj};h.i.sa=function(a,c){h.i.sa.v.constructor.call(this,a);this.dc=c;this.shape=ab(this.o,c);this.Lh=!!this.shape.isDynamic;this.type|=h.i.m.ex};h.g.object.T(h.i.sa,h.i.Tf);h.i.Qo=function(a,c){h.i.Qo.v.constructor.call(this,a,c);this.type|=h.i.m.Ey;this.height=this.Lh?0:this.shape.height;this.Ed=this.width=this.Lh?0:this.shape.width;this.Yc=this.o.Ii;this.mk=0};h.g.object.T(h.i.Qo,h.i.sa);
h.i.To=function(a,c){h.i.To.v.constructor.call(this,a,c);this.type|=h.i.m.Ro;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.To,h.i.sa);h.i.Po=function(a,c){h.i.Po.v.constructor.call(this,a,c);this.type|=h.i.m.No;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.Po,h.i.sa);h.i.Pj=function(a,c){h.i.Pj.v.constructor.call(this,a,c.connection);this.type|=h.i.m.ld;this.input=c;this.align=c.align;(this.hg=c.connection&&c.connection.ta()?c.connection.ta():null)?(a=v(this.hg),this.lk=a.width,this.Mm=a.height):this.Mm=this.lk=0;this.Yc=this.mk=0};h.g.object.T(h.i.Pj,h.i.sa);
h.i.Qf=function(a,c){h.i.Qf.v.constructor.call(this,a,c);this.type|=h.i.m.Ts;this.hg?(this.width=this.lk,this.height=this.Mm):(this.height=this.o.Bx,this.width=this.o.Cx);this.Si=this.Lh?this.shape.height(this.height):this.shape.height;this.ze=this.Lh?this.shape.width(this.height):this.shape.width;this.hg||(this.width+=this.ze*(this.Lh?2:1));this.Yc=this.Lh?this.shape.Yc(this.Si):this.o.Ii;this.mk=this.Lh?this.shape.mk(this.ze):0};h.g.object.T(h.i.Qf,h.i.Pj);
h.i.Zf=function(a,c){h.i.Zf.v.constructor.call(this,a,c);this.type|=h.i.m.ut;this.height=this.hg?this.Mm+this.o.tt:this.o.Dx;this.width=this.o.bz+this.shape.width};h.g.object.T(h.i.Zf,h.i.Pj);h.i.jm=function(a,c){h.i.jm.v.constructor.call(this,a,c);this.type|=h.i.m.Js;this.height=this.hg?this.Mm-this.o.Ii-this.o.md:this.shape.height;this.width=this.shape.width+this.o.Ix;this.Yc=this.o.Ii;this.Si=this.shape.height;this.ze=this.shape.width};h.g.object.T(h.i.jm,h.i.Pj);h.i.Fo=function(a,c){h.i.Fo.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.m.Ss;a=c.kH();this.height=a.height;this.width=a.width};h.g.object.T(h.i.Fo,h.i.Tf);h.i.Go=function(a){h.i.Go.v.constructor.call(this,a);this.type|=h.i.m.Zs;this.height=this.o.Ai.height;this.width=this.o.Ai.width};h.g.object.T(h.i.Go,h.i.Tf);
h.i.kd=function(a,c){h.i.kd.v.constructor.call(this,a);this.Zi=c;this.wd=c.Ij;this.FA=c.Pu();this.type|=h.i.m.rc;a=this.Zi.sf();this.height=a.height;this.width=a.width};h.g.object.T(h.i.kd,h.i.Tf);h.i.Bo=function(a){h.i.Bo.v.constructor.call(this,a);this.type|=h.i.m.Ps;this.height=this.o.Gi.height;this.width=this.o.Gi.width;this.Ni=this.height};h.g.object.T(h.i.Bo,h.i.Tf);
h.i.Hi=function(a,c){h.i.Hi.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Vo:h.i.m.Io)|h.i.m.to;this.width=this.height=this.o.pe};h.g.object.T(h.i.Hi,h.i.Tf);h.i.sm=function(a,c){h.i.sm.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Uo:h.i.m.Ho)|h.i.m.to;this.width=this.o.je;this.height=this.o.je/2};h.g.object.T(h.i.sm,h.i.Tf);h.i.Ye=function(a,c){h.i.Ye.v.constructor.call(this,a);this.type=this.type|h.i.m.Xo|h.i.m.Vs;this.width=c;this.height=this.o.Zy};h.g.object.T(h.i.Ye,h.i.Tf);h.i.ih=function(a){this.type=h.i.m.Wo;this.elements=[];this.ma=this.Ab=this.jd=this.minWidth=this.minHeight=this.width=this.height=0;this.cv=this.fj=this.Bq=this.Gb=this.pg=!1;this.o=a;this.zd=this.o.Vj;this.align=null};h.i.ih.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.m.wf(d))return d;return null}h.i.ih.prototype.ao=function(){return!0};h.i.ih.prototype.Ak=function(){return!0};
h.i.lh=function(a){h.i.lh.v.constructor.call(this,a);this.type|=h.i.m.ap;this.Ni=this.hf=0;this.lB=!1;this.connection=null};h.g.object.T(h.i.lh,h.i.ih);h.i.lh.prototype.Cq=function(a){var c=(a.He?"cap"===a.He:this.o.Xl)&&!a.P&&!a.X,d=a.X&&a.X.ta();return!!a.P||c||(d?u(d)==a:!1)};
h.i.lh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.dd(f)||(h.i.m.Mh(f)?d=Math.max(d,f.Ni):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.hf=this.Ni=d;this.jd=this.width};h.i.lh.prototype.ao=function(){return!1};h.i.lh.prototype.Ak=function(){return!1};h.i.Zg=function(a){h.i.Zg.v.constructor.call(this,a);this.type|=h.i.m.mo;this.dv=!1;this.connection=null;this.Od=this.wk=0};
h.g.object.T(h.i.Zg,h.i.ih);h.i.Zg.prototype.Cq=function(a){return!!a.P||!!u(a)};h.i.Zg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.dd(f)||(h.i.m.xg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.wk=d;this.jd=this.width};h.i.Zg.prototype.ao=function(){return!1};h.i.Zg.prototype.Ak=function(){return!1};
h.i.vm=function(a,c,d){h.i.vm.v.constructor.call(this,a);this.type=this.type|h.i.m.Xo|h.i.m.ts;this.width=d;this.height=c;this.Ju=!1;this.jd=0;this.elements=[new h.i.Ye(this.o,d)]};h.g.object.T(h.i.vm,h.i.ih);h.i.vm.prototype.measure=function(){};h.i.zi=function(a){h.i.zi.v.constructor.call(this,a);this.type|=h.i.m.Us;this.lu=0};h.g.object.T(h.i.zi,h.i.ih);
h.i.zi.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.m.wf(d)&&(h.i.m.Nh(d)?a+=d.lk:h.i.m.Tk(d)&&0!=d.lk&&(a+=d.lk-d.ze)),h.i.m.dd(d)||(this.height=Math.max(this.height,d.height));this.lu=a;this.jd=this.width+a};h.i.zi.prototype.Ak=function(){return!this.pg&&!this.Gb};h.i.Nd=function(a,c){this.Ba=c;this.jb=a;this.o=this.jb.aa();this.P=c.P?new h.i.Qo(this.o,c.P):null;this.jj=Va(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.xd=c.xd();this.K=c.K;this.Qg=this.width=this.Ug=this.height=0;this.rows=[];this.pv=[];this.hv=[];this.Ib=new h.i.lh(this.o);this.fb=new h.i.Zg(this.o);this.$n=this.Ed=0};b=h.i.Nd.prototype;
b.measure=function(){var a=!!this.Ba.X,c=(this.Ba.He?"cap"===this.Ba.He:this.o.Xl)&&!this.P&&!a,d=this.Ib.Cq(this.Ba)?h.i.Hi:h.i.sm;this.Ib.elements.push(new d(this.o));c?(a=new h.i.Bo(this.o),this.Ib.elements.push(a),this.Ib.hf=a.Ni):a&&(this.Ib.lB=!0,this.Ib.connection=new h.i.To(this.o,this.Ba.X),this.Ib.elements.push(this.Ib.connection));this.Ba.R.length&&this.Ba.R[0].type==h.Ia.Uc&&!this.Ba.isCollapsed()?this.Ib.minHeight=this.o.fz:this.Ib.minHeight=this.o.ez;d=h.i.Hi;this.Ib.elements.push(new d(this.o,
"right"));this.rows.push(this.Ib);a=new h.i.zi(this.o);this.pv.push(a);d=L(this.Ba);c=0;for(var e;e=d[c];c++){var f=new h.i.Fo(this.o,e);this.isCollapsed&&e.TG?this.hv.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Ba.R[c];c++)if(d.isVisible()){!e||d.type!=h.Ia.Uc&&e.type!=h.Ia.Uc&&(d.type!=h.Ia.te&&d.type!=h.Ia.me||this.jj)||(this.rows.push(a),a=new h.i.zi(this.o),this.pv.push(a));for(e=0;f=d.Ua[e];e++)a.elements.push(new h.i.kd(this.o,f,d));this.Rt(d,a);e=d}this.isCollapsed&&(a.cv=!0,a.elements.push(new h.i.Go(this.o)));
(a.elements.length||a.fj)&&this.rows.push(a);this.Ar();this.rows.push(this.fb);this.Qt();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.vm(this.o,this.Xu(f,g),this.width-this.Ed);f.Gb&&(k.Ju=!0);g.Gb&&(k.KH=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Gb&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.jd);this.Qg=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Gb&&(f.Qg=
this.Qg);this.Ug=Math.max(c,d);this.P&&(this.Ed=this.P.width,this.width+=this.P.width,this.Ug+=this.P.width);this.hp();this.Gu()};
b.Ar=function(){this.fb.dv=!!this.Ba.ba;this.fb.minHeight=this.Ba.R.length&&this.Ba.R[this.Ba.R.length-1].type==h.Ia.Uc?this.o.Zw:this.o.$w;this.fb.Cq(this.Ba)?this.fb.elements.push(new h.i.Hi(this.o)):this.fb.elements.push(new h.i.sm(this.o));this.fb.dv&&(this.fb.connection=new h.i.Po(this.o,this.Ba.ba),this.fb.elements.push(this.fb.connection));this.fb.elements.push(new h.i.Hi(this.o,"right"))};
b.Rt=function(a,c){this.jj&&a.type==h.Ia.te?(c.elements.push(new h.i.Qf(this.o,a)),c.Bq=!0):a.type==h.Ia.Uc?(c.elements.push(new h.i.Zf(this.o,a)),c.Gb=!0):a.type==h.Ia.te?(c.elements.push(new h.i.jm(this.o,a)),c.pg=!0):a.type==h.Ia.me&&(c.minHeight=Math.max(c.minHeight,a.W()&&a.W().Ea?this.o.zx:this.o.Hs),c.fj=!0);null==c.align&&(c.align=a.align)};
b.Qt=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.ao()&&c.elements.push(new h.i.Ye(this.o,this.xh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.Ye(this.o,this.xh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.Ak()&&c.elements.push(new h.i.Ye(this.o,this.xh(d[d.length-1],null)))}}};
b.xh=function(a,c){if(!a&&c&&h.i.m.Nh(c))return this.o.vt;if(a&&h.i.m.wf(a)&&!c){if(h.i.m.Tk(a))return this.o.pe;if(h.i.m.vg(a))return this.o.uc;if(h.i.m.Nh(a))return this.o.pe}return a&&h.i.m.Uk(a)&&c&&(h.i.m.mj(c)||h.i.m.xg(c))?c.zd:a&&h.i.m.wg(a)&&c&&(h.i.m.mj(c)||h.i.m.xg(c))?c.zd-this.o.je:this.o.md};b.hp=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Gb)Oc(this,c);else{var d=this.Ik(c)-c.width;0<d&&Pc(c,d);h.i.m.wv(c)&&(c.jd=c.width)}};b.Ik=function(){return this.width-this.Ed};
function Pc(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.m.dd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.m.dd(f)){e=f;break a}e=null}if(a.pg||a.Gb)a.jd+=c;a.align==h.ab.Id.Md?e.width+=c:a.align==h.ab.Id.cm?(d.width+=c/2,e.width+=c/2):a.align==h.ab.Id.af?d.width+=c:e.width+=c;a.width+=c}
function Oc(a,c){var d=W(c),e=c.width-d.width,f=a.Qg;e=f-e;0<e&&Pc(c,e);e=c.width;f=a.Ik(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.jd=Math.max(c.width,a.Qg+c.lu)}b.Xu=function(){return this.o.md};b.Ou=function(a,c){return h.i.m.dd(c)?a.Ab+c.height/2:h.i.m.nn(a)?(a=a.Ab+a.height-a.wk,h.i.m.xg(c)?a+c.height/2:a-c.height/2):h.i.m.tn(a)?h.i.m.Mh(c)?a.hf-c.height/2:a.hf+c.height/2:a.Ab+a.height/2};
function Qc(a,c){for(var d=c.ma,e=0,f;f=c.elements[e];e++)h.i.m.dd(f)&&(f.height=c.height),f.ma=d,f.gg=a.Ou(c,f),d+=f.width}b.Gu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Ab=c,e.ma=this.Ed,c+=e.height,a=Math.max(a,e.jd),Qc(this,e);this.P&&this.Ba.ba&&this.Ba.ba.isConnected()&&(a=Math.max(a,v(this.Ba.ba.ta()).width));this.Ug=a+this.Ed;this.height=c;this.$n=this.Ib.hf;this.fb.Od=c-this.fb.wk};h.i.Cc=function(a){this.Sd=[];this.Re=null;this.o=a};h.i.Cc.ye={NC:!0,xA:!0,rows:!0,yA:!0,ou:!0,Fz:!0,ku:!0,Da:!0};
function Rc(a,c,d){if(h.i.Cc.ye.yA){var e=c.ma;d&&(e=-(e+c.width));d=c.gg-c.height/2;a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d,width:c.width,height:c.height,stroke:"black",fill:"none","stroke-width":"1px"},a.Re));h.i.m.Ke(c)&&c.Zi instanceof h.Rc&&a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d+a.o.wo,width:c.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},a.Re))}h.i.m.wf(c)&&h.i.Cc.ye.ou&&Sc(a,c.dc)}
function Sc(a,c){if(h.i.Cc.ye.ou){if(c.type==h.U.Ob){var d=4;var e="magenta";var f="none"}else c.type==h.U.Dc?(d=2,f=e="magenta"):c.type==h.U.Pb?(d=4,e="goldenrod",f="none"):c.type==h.U.Tc&&(d=2,f=e="goldenrod");a.Sd.push(h.g.j.M(h.g.F.zs,{"class":"blockRenderDebug",cx:c.Af.x,cy:c.Af.y,r:d,fill:f,stroke:e},a.Re))}}
function Tc(a,c,d){for(var e=0,f;f=a.Sd[e];e++)h.g.j.removeNode(f);a.Sd=[];a.Re=c.ya();a.nC="#"+Math.floor(16777215*Math.random()).toString(16);f=e=0;for(var g;g=d.rows[f];f++){if(h.i.m.vB(g)){var k=e;if(h.i.Cc.ye.NC){var l=Math.abs(g.height),m=0>g.height;m&&(k-=l);a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowSpacerRect blockRenderDebug",x:d.K?-(g.ma+g.width):g.ma,y:k,width:g.width,height:l,stroke:m?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},a.Re))}}else{m=a;l=g;k=d.K;for(var n=
0,q=l.elements.length;n<q;n++){var r=l.elements[n];if(r)if(h.i.m.dd(r)){if(h.i.Cc.ye.xA){var t=Math.abs(r.width),G=0>r.width,M=G?r.ma-t:r.ma;k&&(M=-(M+t));m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"elemSpacerRect blockRenderDebug",x:M,y:r.gg-r.height/2,width:t,height:r.height,stroke:"pink",fill:G?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},m.Re))}}else Rc(m,r,k);else console.warn("A row has an undefined or null element.",l,r)}h.i.Cc.ye.rows&&(m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"elemRenderingRect blockRenderDebug",
x:k?-(l.ma+l.width):l.ma,y:l.Ab,width:l.width,height:l.height,stroke:"red",fill:"none","stroke-width":"1px"},m.Re)),h.i.m.wv(l)||h.i.Cc.ye.ku&&m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"connectedBlockWidth blockRenderDebug",x:k?-(l.ma+l.jd):l.ma,y:l.Ab,width:l.jd,height:l.height,stroke:m.nC,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},m.Re)))}e+=g.height}c.X&&Sc(a,c.X);c.ba&&Sc(a,c.ba);c.P&&Sc(a,c.P);d.MC&&Rc(a,d.MC,d.K);h.i.Cc.ye.Fz&&(e=d.K?-d.width:0,a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"blockBoundingBox blockRenderDebug",
x:e,y:0,width:d.width,height:d.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},a.Re)),h.i.Cc.ye.ku&&(e=d.K?-d.Ug:0,a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"blockRenderDebug",x:e,y:0,width:d.Ug,height:d.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},a.Re))));Uc(a,c.bb.ub)}function Uc(a,c){h.i.Cc.ye.Da&&(c.setAttribute("filter","url(#"+a.o.wu+")"),setTimeout(function(){c.setAttribute("filter","")},100))};h.i.qc=function(a,c){this.Ba=a;this.la=c;a.$a();this.mn=this.Fa="";this.o=c.jb.aa()};b=h.i.qc.prototype;b.draw=function(){Vc(this);Wc(this);Xc(this);this.Ba.bb.Rr(this.Fa+"\n"+this.mn);this.la.K&&this.Ba.bb.iq();h.i.Tl&&Tc(this.Ba.Kr,this.Ba,this.la);Yc(this)};function Yc(a){a.Ba.height=a.la.height;a.Ba.width=a.la.Ug}function Vc(a){for(var c=0,d;d=a.la.hv[c];c++)d.icon.pB.setAttribute("display","none")}
function Wc(a){a.cq();for(var c=1;c<a.la.rows.length-1;c++){var d=a.la.rows[c];d.cv?a.yk(d):d.Gb?a.bq(d):d.pg?a.eq(d):a.Eu(d)}a.Zp();a.aq()}
b.cq=function(){var a=this.la.Ib,c=a.elements,d=this.la.Ib;if(d.connection){var e=d.ma+d.zd;P(d.connection.dc,this.la.K?-e:e,0)}this.Fa+=h.g.s.moveBy(a.ma,this.la.$n);for(d=0;e=c[d];d++)h.i.m.wg(e)?this.Fa+=this.o.Wj.ds:h.i.m.uv(e)?this.Fa+=this.o.Wj.lD:h.i.m.mj(e)?this.Fa+=e.shape.Hg:h.i.m.Mh(e)?this.Fa+=this.o.Gi.path:h.i.m.dd(e)&&(this.Fa+=h.g.s.V("h",e.width));this.Fa+=h.g.s.V("v",a.height)};b.yk=function(a){this.Fa+=this.o.Ai.path+h.g.s.V("v",a.height-this.o.Ai.height)};
b.eq=function(a){var c=W(a);this.ew(a);var d="function"==typeof c.shape.Bd?c.shape.Bd(c.height):c.shape.Bd;this.Fa+=h.g.s.V("H",c.ma+c.width)+d+h.g.s.V("v",a.height-c.Si)};b.bq=function(a){var c=W(a);this.Fa+=h.g.s.V("H",c.ma+c.zd+c.shape.width)+(c.shape.$v+h.g.s.V("h",-(c.zd-this.o.om.width))+this.o.om.zr)+h.g.s.V("v",a.height-2*this.o.om.height)+this.o.om.Mn+h.g.s.V("H",a.ma+a.width);this.hw(a)};b.Eu=function(a){this.Fa+=h.g.s.V("V",a.Ab+a.height)};
b.Zp=function(){var a=this.la.fb,c=a.elements;this.gw();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.m.xg(g)?e+=g.shape.$v:h.i.m.Uk(g)?e+=h.g.s.V("H",a.ma):h.i.m.wg(g)?e+=this.o.Wj.qp:h.i.m.uv(g)?(e+=this.o.Wj.Gz,d=this.o.Wj.LC):h.i.m.dd(g)&&(e+=h.g.s.V("h",-1*g.width));this.Fa+=h.g.s.V("V",a.Od-d);this.Fa+=e};
b.aq=function(){var a=this.la.P;if(this.la.P){var c=this.la.Ed+this.la.P.mk;P(this.Ba.P,this.la.K?-c:c,this.la.P.Yc)}a&&(c=a.Yc+a.height,a="function"==typeof a.shape.ml?a.shape.ml(a.height):a.shape.ml,this.Fa+=h.g.s.V("V",c)+a);this.Fa+="z"};
function Xc(a){for(var c=0,d;d=a.la.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.m.vg(f))a.$p(f);else if(h.i.m.ij(f)||h.i.m.Ke(f)){var g=a;if(h.i.m.Ke(f))var k=f.Zi.ya();else h.i.m.ij(f)&&(k=f.icon.pB);var l=f.gg-f.height/2,m=f.ma,n="";g.la.K&&(m=-(m+f.width),f.FA&&(m+=f.width,n="scale(-1 1)"));h.i.m.ij(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.aA()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.la.xd&&k.setAttribute("display",
"none")}}b.$p=function(a){var c=a.width,d=a.height,e=a.Yc,f=a.Si+e;this.mn+=h.g.s.moveTo(a.ma+a.ze,a.gg-d/2)+h.g.s.V("v",e)+a.shape.Bd+h.g.s.V("v",d-f)+h.g.s.V("h",c-a.ze)+h.g.s.V("v",-d)+"z";this.fw(a)};b.fw=function(a){var c=a.gg-a.height/2;if(a.dc){var d=a.ma+a.ze+a.mk;this.la.K&&(d*=-1);P(a.dc,d,c+a.Yc)}};b.hw=function(a){var c=W(a);if(c.dc){var d=a.ma+a.Qg+c.zd;this.la.K&&(d*=-1);P(c.dc,d,a.Ab)}};b.ew=function(a){var c=W(a);if(c.dc){var d=a.ma+a.width;this.la.K&&(d*=-1);P(c.dc,d,a.Ab)}};
b.gw=function(){var a=this.la.fb;if(a.connection){var c=a.connection,d=c.ma;P(c.dc,this.la.K?-d:d,a.Od)}};h.h.Rf=function(a,c,d,e){var f=a?a.A.id:void 0;e&&e.lb()==h.D.types.Fc&&(f=e.za.id);h.h.Rf.v.constructor.call(this,f);this.Ya=a?a.id:null;this.Rv=d;this.Nv=e;this.Je=c};h.g.object.T(h.h.Rf,h.h.se);h.h.Rf.prototype.type=h.h.Ko;h.h.Rf.prototype.oa=function(){var a=h.h.Rf.v.oa.call(this);a.isCursor=this.Je;a.blockId=this.Ya;a.oldNode=this.Rv;a.newNode=this.Nv;return a};h.h.Rf.prototype.$=function(a){h.h.Rf.v.$.call(this,a);this.Je=a.isCursor;this.Ya=a.blockId;this.Rv=a.oldNode;this.Nv=a.newNode};
h.u.register(h.u.N.Bb,h.h.Ko,h.h.Rf);h.i.Sf=function(a,c,d){this.C=a;this.Yq=d;this.ll=null;this.o=c;this.Ui=null;a=this.Je()?this.o.gm:this.o.pm;this.rd=d.gb||a};h.i.Sf.jx="blocklyCursor";h.i.Sf.uy="blocklyMarker";h.i.Sf.Yx=.75;b=h.i.Sf.prototype;b.ya=function(){return this.ra};b.Jk=function(){return this.Yq};b.Je=function(){return"cursor"==this.Yq.type};
b.hb=function(){var a=this.Je()?h.i.Sf.jx:h.i.Sf.uy;this.ra=h.g.j.M(h.g.F.Sc,{"class":a},null);this.zf=h.g.j.M(h.g.F.Sc,{width:this.o.im,height:this.o.Jt},this.ra);this.Ag=h.g.j.M(h.g.F.Tb,{width:this.o.im,height:this.o.Jt,style:"display: none"},this.zf);this.Sh=h.g.j.M(h.g.F.Tb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.zf);this.Rh=h.g.j.M(h.g.F.Ze,{transform:"",style:"display: none"},this.zf);this.yf=h.g.j.M(h.g.F.Ze,{transform:"",style:"display: none",fill:"none",
"stroke-width":this.o.kx},this.zf);this.Je()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.rd+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.M(h.g.F.jo,a,this.Ag),h.g.j.M(h.g.F.jo,a,this.Rh),a.attributeName="stroke",h.g.j.M(h.g.F.jo,a,this.yf));return this.ra};function Zc(a,c){a.Je()?(a.ll&&a.ll.Cf(null),c.Cf(a.ya())):(a.ll&&a.ll.Ng(null),c.Ng(a.ya()));a.ll=c}
b.draw=function(a,c){if(c){this.o=this.C.jb.aa();var d=this.Je()?this.o.gm:this.o.pm;this.rd=this.Yq.gb||d;this.Ag.setAttribute("fill",this.rd);this.Sh.setAttribute("stroke",this.rd);this.Rh.setAttribute("fill",this.rd);this.yf.setAttribute("stroke",this.rd);this.Je()&&(d=this.rd+";transparent;transparent;",this.Ag.firstChild.setAttribute("values",d),this.Rh.firstChild.setAttribute("values",d),this.yf.firstChild.setAttribute("values",d));d=c.za.type;if(c.lb()==h.D.types.Kb)$c(this,c);else if(c.lb()==
h.D.types.hh)$c(this,c);else if(d==h.U.Ob){var e=c.za;d=e.W();var f=e.Af.x,g=e.Af.y;e=h.g.s.moveTo(0,0)+ab(this.o,e).Bd;this.Rh.setAttribute("d",e);this.Rh.setAttribute("transform","translate("+f+","+g+")"+(this.C.K?" scale(-1 1)":""));this.Ui=this.Rh;Zc(this,d);ad(this)}else if(d==h.U.Pb)g=c.za,d=g.W(),f=0,g=g.Af.y,e=v(d).width,this.C.K&&(f=-e),bd(this,f,g,e),Zc(this,d),ad(this);else if(c.lb()==h.D.types.Xf)$c(this,c);else if(c.lb()==h.D.types.rc)d=c.za,f=d.sf().width,g=d.sf().height,cd(this,0,0,
f,g),Zc(this,d),ad(this);else if(c.lb()==h.D.types.Fc)f=c.Pw,d=f.x,f=f.y,this.C.K&&(d-=this.o.im),bd(this,d,f,this.o.im),Zc(this,this.C),ad(this);else if(c.lb()==h.D.types.jh){d=c.za;g=v(d);f=g.width+this.o.hm;g=g.height+this.o.hm;var k=e=-this.o.hm/2,l=-this.o.hm/2;this.C.K&&(k=-(f+e));cd(this,k,l,f,g);Zc(this,d);ad(this)}d=c.W();a=new (h.h.get(h.h.Ko))(d,this.Je(),a,c);h.h.Ha(a);a=this.Ui.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.sb()};
function $c(a,c){c=c.W();var d=c.width,e=c.height,f=e*h.i.Sf.Yx,g=a.o.ix;if(c.X){var k=ab(a.o,c.X);e=k;d=h.g.s.moveBy(-g,f)+h.g.s.V("V",-g)+h.g.s.V("H",a.o.Vj)+e.Hg+h.g.s.V("H",d+2*g)+h.g.s.V("V",f);a.yf.setAttribute("d",d)}else c.P?(f=k=ab(a.o,c.P),d=h.g.s.moveBy(d,0)+h.g.s.V("h",-(d-f.width))+h.g.s.V("v",a.o.Ii)+f.Bd+h.g.s.V("V",e)+h.g.s.V("H",d),a.yf.setAttribute("d",d)):(d=h.g.s.moveBy(-g,f)+h.g.s.V("V",-g)+h.g.s.V("H",d+2*g)+h.g.s.V("V",f),a.yf.setAttribute("d",d));a.C.K&&a.Ek(a.yf);a.Ui=a.yf;
Zc(a,c);ad(a)}function ad(a){a.sb();a.Ui.style.display=""}function bd(a,c,d,e){a.Ag.setAttribute("x",c);a.Ag.setAttribute("y",d);a.Ag.setAttribute("width",e);a.Ui=a.Ag}function cd(a,c,d,e,f){a.Sh.setAttribute("x",c);a.Sh.setAttribute("y",d);a.Sh.setAttribute("width",e);a.Sh.setAttribute("height",f);a.Ui=a.Sh}b.Ek=function(a){a.setAttribute("transform","scale(-1 1)")};b.sb=function(){this.Ag.style.display="none";this.Sh.style.display="none";this.Rh.style.display="none";this.yf.style.display="none"};
b.H=function(){this.ra&&h.g.j.removeNode(this.ra)};h.i.$e=function(a,c,d){this.ab=d;this.Qe=a;this.ub=h.g.j.M(h.g.F.Ze,{"class":"blocklyPath"},this.Qe);this.style=c;this.Xq=this.vk=null};b=h.i.$e.prototype;b.Rr=function(a){this.ub.setAttribute("d",a)};b.iq=function(){this.ub.setAttribute("transform","scale(-1 1)")};b.Cf=function(a){a?(this.Qe.appendChild(a),this.vk=a):this.vk=null};b.Ng=function(a){a?(this.vk?this.Qe.insertBefore(a,this.vk):this.Qe.appendChild(a),this.Xq=a):this.Xq=null};
b.Vb=function(a){this.ub.setAttribute("stroke",this.style.Ri);this.ub.setAttribute("fill",this.style.ph);this.Hw(a.Ea);this.hs(!a.isEnabled()||Jb(a))};b.di=function(a){this.style=a};function K(a,c,d){d?h.g.j.Cb(a.Qe,c):h.g.j.Mc(a.Qe,c)}b.Fw=function(a){a?this.ub.setAttribute("filter","url(#"+this.ab.$m+")"):this.ub.setAttribute("filter","none")};b.Hw=function(a){a&&(this.ub.setAttribute("stroke","none"),this.ub.setAttribute("fill",this.style.Jm))};
b.hs=function(a){K(this,"blocklyDisabled",a);a&&this.ub.setAttribute("fill","url(#"+this.ab.Au+")")};function Ub(a,c){K(a,"blocklySelected",c)};h.i.bf=function(a){this.name=a;this.wr=this.o=null};b=h.i.bf.prototype;b.Td=function(){return this.name+"-renderer"};b.Va=function(a,c){this.o=this.Sq();c&&(this.wr=c,h.g.object.Bg(this.o,c));this.o.Al(a);this.o.Va()};b.hb=function(a,c){this.o.hb(a,this.name+"-"+c.name,"."+this.Td()+"."+c.Td())};b.Dr=function(a,c){var d=this.aa();d.H();this.o=this.Sq();this.wr&&h.g.object.Bg(this.o,this.wr);this.o.ul=d.ul;this.o.Al(c);this.o.Va();this.hb(a,c)};b.H=function(){this.o&&this.o.H()};b.Sq=function(){return new h.i.Xe};
b.Ev=function(a){return new h.i.Nd(this,a)};b.Cv=function(a,c){return new h.i.qc(a,c)};b.Dv=function(a,c){return new h.i.$e(a,c,this.o)};b.aa=function(){return this.o};b.Da=function(a){if(h.i.Tl&&!a.Kr){if(!h.i.Cc)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Cc(this.aa());a.Kr=c}c=this.Ev(a);c.measure();this.Cv(a,c).draw()};h.Z={};h.Z.Xe=function(){h.Z.Xe.v.constructor.call(this);this.xo=!1;this.Sb=1;this.vy=30;this.tt=-this.Oo/2};h.g.object.T(h.Z.Xe,h.i.Xe);h.Z.Xe.prototype.lq=function(a){return h.Z.Xe.v.lq.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.nm+";","stroke: none;","}"])};h.Z.Rs=function(a){this.la=a;this.Pk=this.ea="";this.Ub=this.la.K;a=a.jb;this.o=a.aa();this.$c=a.$c;this.Kc=this.$c.OFFSET;this.vr=this.$c.Fy;this.hj=this.$c.jy;this.tl=this.$c.So;this.UB=this.$c.Ci;this.bD=this.$c.Gi;this.yv=this.$c.Ai};h.Z.Rs.prototype.yk=function(a){this.la.K&&(this.ea+=this.yv.Hg+h.g.s.V("v",a.height-this.yv.height-this.Kc))};
function dd(a,c){var d=c.ma+c.width-a.Kc;c.Ju&&(a.ea+=h.g.s.V("H",d));a.Ub&&(a.ea+=h.g.s.V("H",d),c.height>a.Kc&&(a.ea+=h.g.s.V("V",c.Ab+c.height-a.Kc)))};h.Z.Qf=function(a,c){h.Z.Qf.v.constructor.call(this,a,c);this.hg&&(this.width+=this.o.Sb,this.height+=this.o.Sb)};h.g.object.T(h.Z.Qf,h.i.Qf);h.Z.Zf=function(a,c){h.Z.Zf.v.constructor.call(this,a,c);this.hg&&(this.height+=this.o.Sb)};h.g.object.T(h.Z.Zf,h.i.Zf);h.Z.Nd=function(a,c){h.Z.Nd.v.constructor.call(this,a,c)};h.g.object.T(h.Z.Nd,h.i.Nd);b=h.Z.Nd.prototype;b.Ar=function(){h.Z.Nd.v.Ar.call(this);this.Ba.R.length&&this.Ba.R[this.Ba.R.length-1].type==h.Ia.Uc||(this.fb.minHeight=this.o.md-this.o.Sb)};
b.Rt=function(a,c){this.jj&&a.type==h.Ia.te?(c.elements.push(new h.Z.Qf(this.o,a)),c.Bq=!0):a.type==h.Ia.Uc?(c.elements.push(new h.Z.Zf(this.o,a)),c.Gb=!0):a.type==h.Ia.te?(c.elements.push(new h.i.jm(this.o,a)),c.pg=!0):a.type==h.Ia.me&&(c.minHeight=Math.max(c.minHeight,this.o.Hs),c.fj=!0);this.jj||null!=c.align||(c.align=a.align)};
b.Qt=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.pg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.ao()&&d.elements.push(new h.i.Ye(this.o,this.xh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.xh(e[f],e[f+1]);d.elements.push(new h.i.Ye(this.o,g))}d.elements.push(e[e.length-1]);d.Ak()&&(g=this.xh(e[e.length-1],null),a&&d.fj&&(g+=this.o.Yo),d.elements.push(new h.i.Ye(this.o,g)))}}};
b.xh=function(a,c){if(!a)return c&&h.i.m.Ke(c)&&c.wd?this.o.md:c&&h.i.m.vg(c)?this.o.ct:c&&h.i.m.Nh(c)?this.o.vt:this.o.uc;if(!h.i.m.wf(a)&&(!c||h.i.m.Nh(c)))return h.i.m.Ke(a)&&a.wd?this.o.md:h.i.m.ij(a)?2*this.o.uc+1:h.i.m.Mh(a)?this.o.pe:h.i.m.AB(a)?this.o.uc:h.i.m.wg(a)?this.o.yy:h.i.m.rv(a)?this.o.pe:this.o.uc;if(h.i.m.wf(a)&&!c){if(h.i.m.Tk(a))return this.o.pe;if(h.i.m.vg(a))return this.o.uc;if(h.i.m.Nh(a))return this.o.pe}if(!h.i.m.wf(a)&&c&&h.i.m.wf(c)){if(h.i.m.Ke(a)&&a.wd){if(h.i.m.vg(c)||
h.i.m.Tk(c))return this.o.Wy}else{if(h.i.m.vg(c)||h.i.m.Tk(c))return this.o.ct;if(h.i.m.Nh(c))return this.o.uc}return this.o.uc-1}if(h.i.m.ij(a)&&c&&!h.i.m.wf(c))return this.o.uc;if(h.i.m.vg(a)&&c&&h.i.m.Ke(c))return c.wd?this.o.md:this.o.uc;if(h.i.m.Uk(a)&&c){if(h.i.m.Mh(c))return this.o.pe;if(h.i.m.mj(c))return c.zd;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Sb/2,c.zd+a}if(h.i.m.wg(a)&&c){if(h.i.m.mj(c))return c.zd-this.o.je;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Sb/2,c.zd-this.o.je+a}return h.i.m.Ke(a)&&
c&&h.i.m.Ke(c)&&a.wd==c.wd||c&&h.i.m.rv(c)?this.o.uc:this.o.md};b.Xu=function(a,c){return h.i.m.tn(a)&&h.i.m.nn(c)?this.o.Ax:h.i.m.tn(a)||h.i.m.nn(c)?this.o.pe:a.pg&&c.pg?this.o.uc:!a.Gb&&c.Gb?this.o.Yw:a.Gb&&c.Gb||!a.Gb&&c.fj||a.fj?this.o.uc:this.o.md};
b.Ou=function(a,c){if(h.i.m.dd(c))return a.Ab+c.height/2;if(h.i.m.nn(a))return a=a.Ab+a.height-a.wk,h.i.m.xg(c)?a+c.height/2:a-c.height/2;if(h.i.m.tn(a))return h.i.m.Mh(c)?a.hf-c.height/2:a.hf+c.height/2;var d=a.Ab;h.i.m.Ke(c)||h.i.m.ij(c)?(d+=c.height/2,(a.Bq||a.Gb)&&c.height+this.o.xt<=a.height&&(d+=this.o.xt)):d=h.i.m.vg(c)?d+c.height/2:d+a.height/2;return d};
b.hp=function(){if(this.jj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.er=a,h.i.m.wB(e)&&(e.Gb&&Oc(this,e),c&&c.Gb&&e.width<c.width?e.er=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Gb?a=this.Ik(e):h.i.m.dd(e)?e.width=Math.max(a,e.er):(a=Math.max(a,e.er)-e.width,0<a&&Pc(e,a),a=e.width)}else h.Z.Nd.v.hp.call(this)};b.Ik=function(a){return this.jj&&a.Gb?this.Qg+this.o.vy+this.Ed:h.Z.Nd.v.Ik.call(this,a)};
b.Gu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Ab=c;e.ma=this.Ed;c+=e.height;a=Math.max(a,e.jd);var f=c-this.Ib.Ni;e==this.fb&&f<this.o.Rj&&(f=this.o.Rj-f,this.fb.height+=f,c+=f);Qc(this,e)}this.P&&this.Ba.ba&&this.Ba.ba.isConnected()&&(a=Math.max(a,v(this.Ba.ba.ta()).width-this.o.Sb));this.fb.Od=c-this.fb.wk;this.Ug=a+this.Ed+this.o.Sb;this.width+=this.o.Sb;this.height=c+this.o.Sb;this.$n=this.Ib.hf};h.Z.qc=function(a,c){h.Z.qc.v.constructor.call(this,a,c);this.Ie=new h.Z.Rs(c)};h.g.object.T(h.Z.qc,h.i.qc);b=h.Z.qc.prototype;b.draw=function(){Vc(this);Wc(this);Xc(this);var a=this.Ba.bb;a.Rr(this.Fa+"\n"+this.mn);var c=this.Ie;a.ei.setAttribute("d",c.ea+"\n"+c.Pk);this.la.K&&a.iq();h.i.Tl&&Tc(this.Ba.Kr,this.Ba,this.la);Yc(this)};
b.cq=function(){var a=this.Ie,c=this.la.Ib;a.ea+=h.g.s.moveBy(c.ma,a.la.$n);for(var d=0,e;e=c.elements[d];d++)h.i.m.Uk(e)?a.ea+=a.$c.st:h.i.m.wg(e)?a.ea+=a.vr.ds(a.Ub):h.i.m.mj(e)?a.ea+=a.UB.Hg:h.i.m.Mh(e)?a.ea+=a.bD.path(a.Ub):h.i.m.dd(e)&&0!=e.width&&(a.ea+=h.g.s.V("H",e.ma+e.width-a.Kc));a.ea+=h.g.s.V("H",c.ma+c.width-a.Kc);dd(this.Ie,this.la.Ib);h.Z.qc.v.cq.call(this)};b.yk=function(a){this.Ie.yk(a);h.Z.qc.v.yk.call(this,a)};
b.eq=function(a){var c=this.Ie,d=W(a);if(c.Ub){var e=a.height-d.Si;c.ea+=h.g.s.moveTo(d.ma+d.width-c.Kc,a.Ab)+c.tl.Bd(c.Ub)+h.g.s.V("v",e)}else c.ea+=h.g.s.moveTo(d.ma+d.width,a.Ab)+c.tl.Bd(c.Ub);h.Z.qc.v.eq.call(this,a)};
b.bq=function(a){var c=this.Ie,d=W(a);if(c.Ub){var e=a.height-2*c.hj.height;c.ea+=h.g.s.moveTo(d.ma,a.Ab)+c.hj.zr(c.Ub)+h.g.s.V("v",e)+c.hj.Mn(c.Ub)+h.g.s.lineTo(a.width-d.ma-c.hj.width,0)}else c.ea+=h.g.s.moveTo(d.ma,a.Ab+a.height)+c.hj.Mn(c.Ub)+h.g.s.lineTo(a.width-d.ma-c.hj.width,0);h.Z.qc.v.bq.call(this,a)};b.Eu=function(a){dd(this.Ie,a);this.Fa+=h.g.s.V("H",a.ma+a.width)+h.g.s.V("V",a.Ab+a.height)};
b.Zp=function(){var a=this.Ie,c=this.la.fb;if(a.Ub)a.ea+=h.g.s.V("V",c.Od-a.Kc);else{var d=a.la.fb.elements[0];h.i.m.Uk(d)?a.ea+=h.g.s.moveTo(c.ma+a.Kc,c.Od-a.Kc):h.i.m.wg(d)&&(a.ea+=h.g.s.moveTo(c.ma,c.Od),a.ea+=a.vr.qp())}h.Z.qc.v.Zp.call(this)};
b.aq=function(){var a=this.Ie,c=a.la.P;c&&(c=c.Yc+c.height,a.Ub?a.ea+=h.g.s.moveTo(a.la.Ed,c):(a.ea+=h.g.s.moveTo(a.la.Ed+a.Kc,a.la.fb.Od-a.Kc),a.ea+=h.g.s.V("V",c)),a.ea+=a.tl.ml(a.Ub));a.Ub||(c=a.la.Ib,a.ea=h.i.m.wg(c.elements[0])?a.ea+h.g.s.V("V",a.vr.height):a.ea+h.g.s.V("V",c.hf+a.Kc));h.Z.qc.v.aq.call(this)};
b.$p=function(a){var c=this.Ie,d=c.Kc,e=a.ma+a.ze,f=a.gg-a.height/2,g=a.width-a.ze,k=f+d;if(c.Ub){f=a.Yc-d;var l=a.height-(a.Yc+a.Si)+d;c.Pk+=h.g.s.moveTo(e-d,k)+h.g.s.V("v",f)+c.tl.Bd(c.Ub)+h.g.s.V("v",l)+h.g.s.V("h",g)}else c.Pk+=h.g.s.moveTo(a.ma+a.width+d,k)+h.g.s.V("v",a.height)+h.g.s.V("h",-g)+h.g.s.moveTo(e,f+a.Yc)+c.tl.Bd(c.Ub);h.Z.qc.v.$p.call(this,a)};b.fw=function(a){var c=a.gg-a.height/2;if(a.dc){var d=a.ma+a.ze+this.o.Sb;this.la.K&&(d*=-1);P(a.dc,d,c+a.Yc+this.o.Sb)}};
b.hw=function(a){var c=W(a);if(c.dc){var d=a.ma+a.Qg+c.zd;d=this.la.K?-1*d:d+this.o.Sb;P(c.dc,d,a.Ab+this.o.Sb)}};b.ew=function(a){var c=W(a);if(c.dc){var d=a.ma+a.width+this.o.Sb;this.la.K&&(d*=-1);P(c.dc,d,a.Ab)}};b.gw=function(){var a=this.la.fb;if(a.connection){var c=a.connection,d=c.ma;P(c.dc,(this.la.K?-d:d)+this.o.Sb/2,a.Od+this.o.Sb)}};h.Z.Qs=function(a){this.Ti=a;this.OFFSET=.5;this.st=h.g.s.moveBy(this.OFFSET,this.OFFSET)};b=h.Z.Qs.prototype;b.Va=function(){this.jy=ed(this);this.Fy=fd(this);this.So=this.Vq();this.Ci=this.Uq();this.Ai=this.Tq();this.Gi=this.Wq()};
function ed(a){var c=a.Ti.je;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,0",c,h.g.s.Ca(-d-a,c-d)),f=h.g.s.arc("a","0 0,0",c+a,h.g.s.Ca(c+a,c+a)),g=h.g.s.moveBy(d,-d)+h.g.s.arc("a","0 0,0",c+a,h.g.s.Ca(c-d,d+a));return{width:c+a,height:c,zr:function(k){return k?e:""},Mn:function(k){return k?f:g}}}
function fd(a){var c=a.Ti.je;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ca(c-d,-d+a)),f=h.g.s.moveBy(a,c)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ca(c,-c+a)),g=-d,k=h.g.s.moveBy(d,g)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ca(-d+a,-g-c));return{height:c,ds:function(l){return l?e:f},qp:function(){return k}}}
b.Vq=function(){var a=this.Ti.Yo,c=this.Ti.Zj,d=h.g.s.moveBy(-2,-c+3.4)+h.g.s.lineTo(-.45*a,-2.1),e=h.g.s.V("v",2.5)+h.g.s.moveBy(.97*-a,2.5)+h.g.s.curve("q",[h.g.s.Ca(.05*-a,10),h.g.s.Ca(.3*a,9.5)])+h.g.s.moveBy(.67*a,-1.9)+h.g.s.V("v",2.5),f=h.g.s.V("v",-1.5)+h.g.s.moveBy(-.92*a,-.5)+h.g.s.curve("q",[h.g.s.Ca(-.19*a,-5.5),h.g.s.Ca(0,-11)])+h.g.s.moveBy(.92*a,1),g=h.g.s.moveBy(-5,c-.7)+h.g.s.lineTo(.46*a,-2.1);return{width:a,height:c,ml:function(k){return k?d:f},Bd:function(k){return k?e:g}}};
b.Uq=function(){return{Hg:h.g.s.V("h",this.OFFSET)+this.Ti.Ci.Hg}};b.Tq=function(){return{Hg:h.g.s.lineTo(5.1,2.6)+h.g.s.moveBy(-10.2,6.8)+h.g.s.lineTo(5.1,2.6),height:12,width:10.2}};b.Wq=function(){var a=this.Ti.Gi.height,c=h.g.s.moveBy(25,-8.7)+h.g.s.curve("c",[h.g.s.Ca(29.7,-6.2),h.g.s.Ca(57.2,-.5),h.g.s.Ca(75,8.7)]),d=h.g.s.curve("c",[h.g.s.Ca(17.8,-9.2),h.g.s.Ca(45.3,-14.9),h.g.s.Ca(75,-8.7)])+h.g.s.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.Z.$e=function(a,c,d){this.ab=d;this.Qe=a;this.Ll=h.g.j.M(h.g.F.Ze,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Qe);this.ub=h.g.j.M(h.g.F.Ze,{"class":"blocklyPath"},this.Qe);this.ei=h.g.j.M(h.g.F.Ze,{"class":"blocklyPathLight"},this.Qe);this.Cp="#000000";this.style=c};h.g.object.T(h.Z.$e,h.i.$e);b=h.Z.$e.prototype;b.Rr=function(a){this.ub.setAttribute("d",a);this.Ll.setAttribute("d",a)};
b.iq=function(){this.ub.setAttribute("transform","scale(-1 1)");this.ei.setAttribute("transform","scale(-1 1)");this.Ll.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Vb=function(a){this.ei.style.display="";this.Ll.style.display="";this.ei.setAttribute("stroke",this.style.Ri);this.Ll.setAttribute("fill",this.Cp);h.Z.$e.v.Vb.call(this,a);this.ub.setAttribute("stroke","none")};b.di=function(a){this.style=a;this.Cp=h.g.gb.np("#000",this.style.ph,.2)||this.Cp};
b.Fw=function(a){a?(this.ub.setAttribute("filter","url(#"+this.ab.$m+")"),this.ei.style.display="none"):(this.ub.setAttribute("filter","none"),this.ei.style.display="inline")};b.Hw=function(a){a&&(this.ei.style.display="none",this.Ll.setAttribute("fill",this.style.Jm),this.ub.setAttribute("stroke","none"),this.ub.setAttribute("fill",this.style.Jm))};b.hs=function(a){h.Z.$e.v.hs.call(this,a);a&&this.ub.setAttribute("stroke","none")};h.Z.bf=function(a){h.Z.bf.v.constructor.call(this,a);this.$c=null};h.g.object.T(h.Z.bf,h.i.bf);b=h.Z.bf.prototype;b.Va=function(a,c){h.Z.bf.v.Va.call(this,a,c);this.$c=new h.Z.Qs(this.aa());this.$c.Va()};b.Dr=function(a,c){h.Z.bf.v.Dr.call(this,a,c);this.$c.Va()};b.Sq=function(){return new h.Z.Xe};b.Ev=function(a){return new h.Z.Nd(this,a)};b.Cv=function(a,c){return new h.Z.qc(a,c)};b.Dv=function(a,c){return new h.Z.$e(a,c,this.aa())};h.i.register("geras",h.Z.bf);h.L.ADD_COMMENT="Add Comment";h.L.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.L.CLEAN_UP="Clean up Blocks";h.L.COLLAPSE_ALL="Collapse Blocks";h.L.COLLAPSE_BLOCK="Collapse Block";h.L.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.L.DELETE_BLOCK="Delete Block";h.L.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.L.DELETE_X_BLOCKS="Delete %1 Blocks";h.L.DISABLE_BLOCK="Disable Block";
h.L.DUPLICATE_BLOCK="Duplicate";h.L.DUPLICATE_COMMENT="Duplicate Comment";h.L.ENABLE_BLOCK="Enable Block";h.L.EXPAND_ALL="Expand Blocks";h.L.EXPAND_BLOCK="Expand Block";h.L.EXTERNAL_INPUTS="External Inputs";h.L.HELP="Help";h.L.INLINE_INPUTS="Inline Inputs";h.L.NEW_VARIABLE="Create variable...";h.L.NEW_VARIABLE_TITLE="New variable name:";h.L.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.L.REDO="Redo";h.L.REMOVE_COMMENT="Remove Comment";h.L.RENAME_VARIABLE="Rename variable...";
h.L.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.L.UNDO="Undo";h.L.UNNAMED_KEY="unnamed";h.L.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.L.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.L.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.L.PROCEDURES_DEFRETURN_PROCEDURE=h.L.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},gd=null,hd=null;function id(){var a=gd();jd("xml="+encodeURIComponent(a))}var X={};function jd(a){var c=ld;X["/storage"]&&X["/storage"].abort();X["/storage"]=new XMLHttpRequest;X["/storage"].onload=function(){200===this.status?c&&c.call(this):md(V("Games_httpRequestError")+"\nXHR status: "+this.status);X["/storage"]=null};X["/storage"].open("POST","/storage");X["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");X["/storage"].send(a)}
function ld(){window.location.hash=this.responseText.trim();md(V("Games_linkAlert").replace("%1",window.location.href));hd=gd()}function md(a){if("object"===typeof Y){var c=document.getElementById("linkButton");Y.eD(c,a)}else alert(a)};var y=null,nd="";function od(){Hc();var a=document.getElementById("linkButton");a&&(Bc?a.style.display="none":(gd=pd,Mc(a,id)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",qd,!0)}function pd(){var a=h.I.tD();if(1==y.fc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.Be(a)}function rd(){"object"==typeof BlocklyStorage&&null!==hd&&hd!=pd()&&(window.location.hash="",hd=null)}
function sd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;y=h.rg("blockly",a);y.xf.push(rd)}function td(){window.location=(Bc?"index.html":"./")+"?lang="+zc}
function qd(){window.sessionStorage&&(window.sessionStorage.Bv=pd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function ud(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+zc+"&level="+(U+1):td()}function vd(){var a="".replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")};var Y={vf:!1,xu:null,Sm:null,Cl:function(a,c,d,e,f,g){function k(){if(Y.vf){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var q=a.getElementsByClassName("primary");q.length||(q=a.getElementsByClassName("secondary"),q.length||(q=a.getElementsByTagName("button")));q.length&&q[0].focus()}}if(!a)throw TypeError("Content not found: "+a);Y.vf&&Y.Dh(!1);h.yh()&&h.hc(!0);Y.vf=!0;Y.xu=c;Y.Sm=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),Y.Mp=h.mp(e,"mousedown",null,Y.pA));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.L.XD;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=h.L.WD;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");try{c.blur()}catch(q){}d&&
c?(Y.yn(c,!1,.2),Y.yn(l,!0,.8),setTimeout(k,175)):k()},yu:0,zu:0,pA:function(a){Y.Pp();if(!h.g.Vk(a)){var c=document.getElementById("dialog");Y.yu=c.offsetLeft-a.clientX;Y.zu=c.offsetTop-a.clientY;Y.Op=h.mp(document,"mouseup",null,Y.Pp);Y.Np=h.mp(document,"mousemove",null,Y.qA);a.stopPropagation()}},qA:function(a){var c=document.getElementById("dialog"),d=Y.yu+a.clientX;a=Y.zu+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-
c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Pp:function(){Y.Op&&(h.gs(Y.Op),Y.Op=null);Y.Np&&(h.gs(Y.Np),Y.Np=null)},Dh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.vf){Y.Pp();Y.Mp&&(h.gs(Y.Mp),Y.Mp=null);Y.vf=!1;Y.Sm&&Y.Sm();Y.Sm=null;var d=!1===a?null:Y.xu;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(Y.yn(a,!1,.8),Y.yn(d,!0,.2),
setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},yn:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=Y.JA(a);c?(f.className="dialogAnimate",setTimeout(e,1)):
(f.className="",e());f.style.visibility="visible"}},JA:function(a){var c=h.g.style.zh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},eD:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");Y.Cl(d,a,!0,
!0,{width:"50%",left:"25%",top:"5em"},Y.Zr);Y.Xr()},rz:function(){if(!Ic(U))if(Y.vf||y.bd())setTimeout(Y.rz,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",Y.Dh,!0);c.addEventListener("touchend",Y.Dh,!0);c=document.getElementById("abortOk");c.addEventListener("click",td,!0);c.addEventListener("touchend",td,!0);Y.Cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Y.Nt,
!0)});document.body.addEventListener("keydown",Y.Nt,!0)}},WG:function(){var a=document.getElementById("dialogDone");if(y){var c=document.getElementById("dialogLinesText");c.textContent="";var d=vd();var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=
d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",Y.Dh,!0);c.addEventListener("touchend",Y.Dh,!0);c=document.getElementById("doneOk");c.addEventListener("click",ud,!0);c.addEventListener("touchend",ud,!0);Y.Cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.ju,!0)});document.body.addEventListener("keydown",Y.ju,!0);document.getElementById("dialogDoneText").textContent=d},Tm:function(a){!Y.vf||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.Dh(!0),a.stopPropagation(),a.preventDefault())},Xr:function(){document.body.addEventListener("keydown",Y.Tm,!0)},Zr:function(){document.body.removeEventListener("keydown",Y.Tm,!0)},ju:function(a){Y.Tm(a);13!=a.keyCode&&32!=a.keyCode||ud()},Nt:function(a){Y.Tm(a);13!=a.keyCode&&32!=a.keyCode||td()}};
window.BlocklyDialogs=Y;Y.hideDialog=Y.Dh;var wd=wd||{};function xd(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.HG=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!yd){var yd,zd="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(zd=navigator.userAgent);var Ad=0==zd.indexOf("Opera");yd={HH:{EE:"ScriptEngine"in window},JF:Ad,Ld:!Ad&&-1!=zd.indexOf("MSIE"),Ht:!Ad&&-1!=zd.indexOf("WebKit")}}if(!Bd)var Bd={};
if(!Cd)var Cd={};if(!Dd)var Dd={};if(!Ed)var Ed={};if(!Fd)var Fd={};if(!Gd)var Gd={};var Hd=wd.nx?{TH:!0}:{},Id=wd.nx?{UH:!0}:{};function Jd(){throw Error("Do not instantiate directly");}Jd.prototype.pu=null;Jd.prototype.toString=function(){return this.content};function Kd(a){if(null!=a)switch(a.pu){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ld(){Jd.call(this)}xd(Ld,Jd);Ld.prototype.qu=Hd;
function Z(a){return null!=a&&a.qu===Hd?a:Md(String(String(a)).replace(Nd,Od),Kd(a))}var Md=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.pu=e);return f}}(Ld),Pd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function Od(a){return Pd[a]}var Nd=/[\x00\x22\x26\x27\x3c\x3e]/g;function Qd(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Rd(){var a={lang:zc,nB:Bc},c='<table width="100%"><tr><td><h1><span id="title">'+((a.nB?'<a href="index.html?lang='+Z(a.lang)+'">':'<a href="./?lang='+Z(a.lang)+'">')+"Blockly Games</a> : "+Z("Puzzle")+"</span>");if(a.level){for(var d=" &nbsp; ",e=a.IB+1,f=1;f<e;f++){var g="?lang="+Z(a.lang)+"&level="+Z(f);d+=" "+(f==a.level?'<span class="level_number level_done" id="level'+Z(f)+'">'+Z(f)+"</span>":f==a.IB?'<a class="level_number" id="level'+Z(f)+'" href="'+Z(g)+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="'+Z(g)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Puzzle_animal1">Duck</span><span id="Puzzle_animal1Pic">duck.jpg</span><span id="Puzzle_animal1PicHeight">70</span><span id="Puzzle_animal1PicWidth">100</span><span id="Puzzle_animal1Legs">&nbsp;&nbsp;2&nbsp;&nbsp;</span><span id="Puzzle_animal1Trait1">Feathers</span><span id="Puzzle_animal1Trait2">Beak</span><span id="Puzzle_animal1HelpUrl">https://en.wikipedia.org/wiki/Duck</span><span id="Puzzle_animal2">Cat</span><span id="Puzzle_animal2Pic">cat.jpg</span><span id="Puzzle_animal2PicHeight">70</span><span id="Puzzle_animal2PicWidth">100</span><span id="Puzzle_animal2Legs">&nbsp;&nbsp;4&nbsp;&nbsp;</span><span id="Puzzle_animal2Trait1">Whiskers</span><span id="Puzzle_animal2Trait2">Fur</span><span id="Puzzle_animal2HelpUrl">https://en.wikipedia.org/wiki/Cat</span><span id="Puzzle_animal3">Bee</span><span id="Puzzle_animal3Pic">bee.jpg</span><span id="Puzzle_animal3PicHeight">70</span><span id="Puzzle_animal3PicWidth">100</span><span id="Puzzle_animal3Legs">&nbsp;&nbsp;6&nbsp;&nbsp;</span><span id="Puzzle_animal3Trait1">Honey</span><span id="Puzzle_animal3Trait2">Stinger</span><span id="Puzzle_animal3HelpUrl">https://en.wikipedia.org/wiki/Bee</span><span id="Puzzle_animal4">Snail</span><span id="Puzzle_animal4Pic">snail.jpg</span><span id="Puzzle_animal4PicHeight">70</span><span id="Puzzle_animal4PicWidth">100</span><span id="Puzzle_animal4Legs">&nbsp;&nbsp;0&nbsp;&nbsp;</span><span id="Puzzle_animal4Trait1">Shell</span><span id="Puzzle_animal4Trait2">Slime</span><span id="Puzzle_animal4HelpUrl">https://en.wikipedia.org/wiki/Snail</span><span id="Puzzle_picture">picture:</span><span id="Puzzle_legs">legs:</span><span id="Puzzle_legsChoose">choose...</span><span id="Puzzle_traits">traits:</span><span id="Puzzle_error0">Perfect!\\nAll %1 blocks are correct.</span><span id="Puzzle_error1">Almost! One block is incorrect.</span><span id="Puzzle_error2">%1 blocks are incorrect.</span><span id="Puzzle_tryAgain">The highlighted block is not correct.\\nKeep trying.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="helpButton">Help</button>&nbsp;'+('<button id="checkButton" class="primary">Check Answers</button>'.qu===Id?"zSoyz":'<button id="checkButton" class="primary">Check Answers</button>')+'</td></tr></table><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">For each animal (green), attach its picture, choose its number of legs, and make a stack of its traits.</div><div id="sample" class="readonly"></div>')+
Qd()+'</div><div id="answers" class="dialogHiddenContent"><div id="answerMessage"></div><div id="graph"><div id="graphValue"></div></div>'+Qd()+"</div>"};h.cb=function(a,c,d){"function"!=typeof a&&h.cb.Jw(a);this.dl=a;this.$r=this.Br=this.cn=null;a=this.dl;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Nc(g):(null!=g.alt&&(a[f][0].alt=h.g.Nc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Pa.Tr(e);g=h.g.Pa.Yz(e,f);var k=h.g.Pa.Zz(e,f);!g&&!k||f<=g+k||(g&&(this.Br=e[0].substring(0,g-1)),k&&(this.$r=e[0].substr(1-k)),this.dl=h.cb.Cz(a,g,k))}}this.qj=this.getOptions(!1)[0];
h.cb.v.constructor.call(this,this.qj[1],c,d);this.vj=this.pd=this.Ac=this.Bc=this.xl=null};h.g.object.T(h.cb,h.kd);h.cb.$=function(a){return new h.cb(a.options,void 0,a)};h.cb.prototype.Fk=function(a){Ta(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.cb.prototype.qt=!0;h.cb.KD=25;h.cb.kF=.45;h.cb.ey=5;h.cb.gy=2*h.cb.ey;h.cb.rs=h.g.userAgent.Yl?"\u25bc":"\u25be";b=h.cb.prototype;b.Gj="default";
b.ln=function(){!this.aa().Ms||this.aa().Ms&&!this.J.Ea?xb(this):this.cu=this.J.ya();yb(this);this.Ac=h.g.j.M(h.g.F.Co,{},this.Ic);this.aa().Rx?(this.vj=h.g.j.M(h.g.F.Co,{height:this.aa().Kj+"px",width:this.aa().Kj+"px"},this.Ic),this.vj.setAttributeNS(h.g.j.mh,"xlink:href",this.aa().Sx)):(this.pd=h.g.j.M(h.g.F.At,{},this.nc),this.pd.appendChild(document.createTextNode(this.J.K?h.cb.rs+" ":" "+h.cb.rs)),this.J.K?this.nc.insertBefore(this.pd,this.gi):this.nc.appendChild(this.pd));this.Eb&&h.g.j.Cb(this.Eb,
"blocklyDropdownRect")};
b.Zn=function(a){var c=new h.Lo;c.Og(h.g.pb.rm.qy);this.Bc=c;var d=this.getOptions(!1);this.xl=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Mo(f,g);f.Og(h.g.pb.rm.Dy);f.Nr=this.J.K;f.zp=!0;c.Zd.push(f);f.Ap=g==this.Te;g==this.Te&&(this.xl=f);Qb(f,this.fB,this)}this.Bc.rr=a&&"number"===typeof a.clientX?new h.g.O(a.clientX,a.clientY):null;this.Bc.Da(h.B.RA());h.g.j.Cb(this.Bc.Ta,"blocklyDropdownMenu");
this.aa().Qx&&(a=this.J.Ea?this.J.getParent().nq():this.J.nq(),c=this.J.Ea?this.J.getParent().style.Ri:this.J.style.Ri,h.B.Oe(a,c));h.B.XC(this,this.wA.bind(this));this.Bc.focus();this.xl&&this.Bc.Ef(this.xl);this.Vb()};b.wA=function(){this.Bc&&this.Bc.H();this.xl=this.Bc=null;this.Vb()};b.fB=function(a){h.B.Ok(this,!0);this.setValue(a.getValue())};h.cb.Cz=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Ta(a){return"function"==typeof a.dl}b=h.cb.prototype;b.getOptions=function(a){return Ta(this)?(this.cn&&a||(this.cn=this.dl.call(this),h.cb.Jw(this.cn)),this.cn):this.dl};b.Xm=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.J&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.J.type+", Field name: "+this.name+", Value: "+a),null)};
b.xk=function(a){h.cb.v.xk.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Te&&(this.qj=d)};b.Vb=function(){this.Eb&&(this.Eb.setAttribute("stroke",this.J.style.Ri),this.Bc?this.Eb.setAttribute("fill",this.J.style.Ri):this.Eb.setAttribute("fill","transparent"));this.J&&this.pd&&(this.pd.style.fill=this.J.Ea?this.J.style.Jm:this.J.style.ph)};
b.Jr=function(){this.gi.nodeValue="";this.Ac.style.display="none";var a=this.qj&&this.qj[0];if(a&&"object"==typeof a){this.Ac.style.display="";this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",a.src);this.Ac.setAttribute("height",a.height);this.Ac.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Eb,e=Math.max(d?this.aa().Ls:0,c+h.cb.gy);d=d?this.aa().Jj:0;var f=this.vj?Sd(this,a+d,e/2-this.aa().Kj/2):h.g.j.pq(this.pd,this.aa().dh,this.aa().Pf,this.aa().Of);this.mc.width=
a+f+2*d;this.mc.height=e;var g=0;this.J.K?this.Ac.setAttribute("x",d+f):(g=a+f,this.nc.setAttribute("text-anchor","end"),this.Ac.setAttribute("x",d));this.Ac.setAttribute("y",e/2-c/2);Ab(this,g+d,a+f)}else this.gi.nodeValue=zb(this),h.g.j.Cb(this.nc,"blocklyDropdownText"),this.nc.setAttribute("text-anchor","start"),e=!!this.Eb,c=Math.max(e?this.aa().Ls:0,this.aa().lm),a=h.g.j.pq(this.nc,this.aa().dh,this.aa().Pf,this.aa().Of),e=e?this.aa().Jj:0,d=0,this.vj&&(d=Sd(this,a+e,c/2-this.aa().Kj/2)),this.mc.width=
a+d+2*e,this.mc.height=c,Ab(this,e,a);Bb(this)};function Sd(a,c,d){if(!a.vj)return 0;var e=a.Eb?a.aa().Jj:0,f=a.aa().Tx,g=a.aa().Kj;a.vj.setAttribute("transform","translate("+(a.J.K?e:c+f)+","+d+")");return g+f}b.xq=function(){if(!this.qj)return null;var a=this.qj[0];return"object"==typeof a?a.alt:a};
h.cb.Jw=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.mg.register("field_dropdown",h.cb);h.Kd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Nc(a);d=Number(h.g.Nc(d));c=Number(h.g.Nc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Ek=!1;this.Am="";h.Kd.v.constructor.call(this,a,null,k);k||(this.Ek=!!g,this.Am=h.g.Nc(e)||"");this.mc=new h.g.Vc(c,d+h.Kd.nz);this.rB=d;this.kf=null;"function"==
typeof f&&(this.kf=f);this.Ac=null};h.g.object.T(h.Kd,h.kd);h.Kd.prototype.uo="";h.Kd.$=function(a){return new h.Kd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Kd.nz=1;b=h.Kd.prototype;b.Ij=!1;b.tg=!1;b.kk=function(a){h.Kd.v.kk.call(this,a);this.Ek=!!a.flipRtl;this.Am=h.g.Nc(a.alt)||""};b.ln=function(){this.Ac=h.g.j.M(h.g.F.Co,{height:this.rB+"px",width:this.mc.width+"px",alt:this.Am},this.Ic);this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",this.Te);this.kf&&(this.Ac.style.cursor="pointer")};
b.Iw=function(){};b.Xm=function(a){return"string"!=typeof a?null:a};b.xk=function(a){this.Te=a;this.Ac&&this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",String(this.Te))};b.Pu=function(){return this.Ek};b.Zn=function(){this.kf&&this.kf(this)};b.xq=function(){return this.Am};h.mg.register("field_image",h.Kd);h.$b.animal={Va:function(){this.Oe(120);N(Kb(this),"","NAME");N(Gb(this.nh(h.Ia.te,"PIC"),h.os),V("Puzzle_picture"));N(N(Gb(Kb(this),h.os),V("Puzzle_legs")),new h.cb(Td),"LEGS");N(this.nh(h.Ia.Uc,"TRAITS"),V("Puzzle_traits"));this.Mg(!1)},lc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.od);return a},Zc:function(a){this.Zh(parseInt(a.getAttribute("animal"),10))},od:0,Zh:function(a){this.od=a;Ib(this,V("Puzzle_animal"+a));this.Ch=V("Puzzle_animal"+a+"HelpUrl")},Mq:function(){return Ka(this,
"LEGS")==this.od}};h.$b.picture={Va:function(){this.Oe(30);Kb(this,"PIC");this.Un(!0);this.Pg("")},lc:h.$b.animal.lc,Zc:h.$b.animal.Zc,od:0,Zh:function(a){this.od=a;var c="puzzle/"+V("Puzzle_animal"+a+"Pic"),d=V("Puzzle_animal"+a+"PicHeight");a=V("Puzzle_animal"+a+"PicWidth");N(ka(this,"PIC"),new h.Kd(c,a,d))},Mq:function(){var a=this.getParent();return a&&a.od==this.od}};
h.$b.trait={Va:function(){this.Oe(290);N(Kb(this),"","NAME");this.Wn(!0);this.Tn(!0)},lc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.od);a.setAttribute("trait",this.Dw);return a},Zc:function(a){this.Zh(parseInt(a.getAttribute("animal"),10),parseInt(a.getAttribute("trait"),10))},od:0,Dw:0,Zh:function(a,c){this.od=a;this.Dw=c;Ib(this,V("Puzzle_animal"+a+"Trait"+c))},Mq:function(){var a=Hb(this);return a&&a.od==this.od}};var Kc="puzzle";function Ud(a){for(var c=a.length-1;0<c;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}function Td(){for(var a=[[V("Puzzle_legsChoose"),"0"]],c=1,d;d=Lc("Puzzle_animal"+c+"Legs");)a[c]=[d,String(c)],c++;a.sort(function(e,f){return e[0]-f[0]});return a}
function Vd(){for(var a=I(y),c=0,d=[],e=0,f;f=a[e];e++)f.Mq()||(c++,f.select(),d.push(f));var g=document.getElementById("graphValue");setTimeout(function(){g.style.width=100*(a.length-c)/a.length+"px"},500);1==c?e=[V("Puzzle_error1"),V("Puzzle_tryAgain")]:c?e=[V("Puzzle_error2").replace("%1",c),V("Puzzle_tryAgain")]:(e=[V("Puzzle_error0").replace("%1",a.length)],nd=pd(),window.localStorage&&(window.localStorage[Kc+U]=nd));f=document.getElementById("answerMessage");f.textContent="";for(var k=0;k<e.length;k++){var l=
document.createElement("div");l.appendChild(document.createTextNode(e[k]));f.appendChild(l)}e=document.getElementById("answers");f=document.getElementById("checkButton");Y.Cl(e,f,!0,!0,{width:"25%",left:Cc()?"5%":"70%",top:"5em"},c?Y.Zr:td);Y.Xr();if(d.length){Ud(d);var m=d[0],n=function(){m.select();Y.vf&&(setTimeout(function(){pb(m)},150),setTimeout(n,300))};n()}else setTimeout(Wd,2E3),h.selected&&pb(h.selected)}
function Wd(){y.ue.play("win",.5);y.options.Wb.Ce=!0;for(var a=y.fc(!1),c=0,d;d=a[c];c++)Xd(d,c/a.length*360)}
function Xd(a,c){if(Y.vf){var d=y.Fe(),e=d.oc/2,f=d.Zb/2,g=v(a);d=a.$a();Cc()&&(d.x-=g.width);var k=Math.max(175,Math.min(e,f)-Math.max(g.height,g.width)/2),l=Date.now(),m=c+l/50%360;k*=Math.sin(l%5E3/5E3*2*Math.PI)/8+.875;f=k*Math.cos(h.g.kc.ii(m))+f-g.width/2;g=k*Math.sin(h.g.kc.ii(m))+e-g.height/2;5>Math.sqrt(Math.pow(f-d.x,2)+Math.pow(g-d.y,2))?(e=f-d.x,d=g-d.y):(d=h.g.kc.iD(Math.atan2(g-d.y,f-d.x)),d%=360,0>d&&(d+=360),e=Math.round(5*Math.cos(h.g.kc.ii(d))),d=Math.round(5*Math.sin(h.g.kc.ii(d))));
a.moveBy(e,d);setTimeout(Xd.bind(null,a,c),50)}}
function Yd(a){var c='<xml>;<block type="animal" x="5" y="5">;<mutation animal="1"></mutation>;<title name="LEGS">1</title>;<value name="PIC">;<block type="picture">;<mutation animal="1"></mutation>;</block>;</value>;<statement name="TRAITS">;<block type="trait">;<mutation animal="1" trait="2"></mutation>;<next>;<block type="trait">;<mutation animal="1" trait="1"></mutation>;</block>;</next>;</block>;</statement>;</block>;</xml>'.split(";"),d=document.getElementById("sample");d.firstChild||(d=h.rg(d,
{rtl:Cc(),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),h.I.lg(h.I.Se(c),d));c=document.getElementById("help");d=document.getElementById("helpButton");Y.Cl(c,d,a,!0,{width:"50%",left:"25%",top:"5em"},Y.Zr);Y.Xr()}
window.addEventListener("load",function(){function a(){d.style.width=window.innerWidth-20+"px";d.style.height=window.innerHeight-d.offsetTop-15+"px"}document.body.innerHTML=Rd();od();var c=Cc(),d=document.getElementById("blockly");a(null);window.addEventListener("resize",a);sd({rtl:c,scrollbars:!1,trashcan:!1});var e=Ic(U);try{var f=window.sessionStorage.Bv}catch(t){f=null}if(f)delete window.sessionStorage.Bv,c=h.I.Se(f),h.I.lg(c,y);else if(e)c=h.I.Se(e),h.I.lg(c,y);else{var g=[],k=[],l=[];f=1;for(var m;Lc("Puzzle_animal"+
f);){m=y.oj("animal");m.Zh(f);g.push(m);m=y.oj("picture");m.Zh(f);k.push(m);for(var n=1;Lc("Puzzle_animal"+f+"Trait"+n);)m=y.oj("trait"),m.Zh(f,n),l.push(m),n++;f++}Ud(g);Ud(k);Ud(l);g=[].concat(g,k,l);c&&g.reverse();for(f=0;m=g[f];f++)m.Kp=!1,m.Ih(),m.Da();for(f=k=0;m=g[f];f++)l=m.ya().getBBox(),m.OG=l.width,m.NG=l.height,m.Xt=l.width*l.height,k+=m.Xt;h.Ml(y);n=nc(y);n.width-=50;n.height-=50;var q=0;for(f=0;m=g[f];f++){l=m.ya().getBBox();var r=c?l.width+q/k*n.width:q/k*(n.width-l.width);r=Math.round(r+
50*Math.random());m.moveBy(r,Math.round(Math.random()*(n.height-l.height)));q+=m.Xt}}Qa();Mc("checkButton",Vd);Mc("helpButton",function(){Yd(!0)});e||Yd(!1);h.ac*=2;h.Cs=h.ac;y.ue.load(["puzzle/win.mp3","puzzle/win.ogg"],"win")});

